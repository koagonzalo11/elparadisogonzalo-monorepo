<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>elparadisogonzalo Token dApp</title></head><body><h2>ü¶ä MetaMask Token dApp</h2><button id="connect">Connect Wallet</button><p id="status"></p><p id="ethBalance"></p><p id="tokenBalance"></p><h3>üì§ Send Tokens</h3><input type="text" id="recipient" placeholder="Recipient address" size="50"> <input type="text" id="amount" placeholder="Amount to send"> <button id="send">Send Tokens</button><p id="transferStatus"></p><script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script><script>let tokenAddress="0x4e8c73e7f243d12b7a5571200609523a4890beff",tokenABI=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],type:"function"}],web3,userAddress,tokenContract,decimals=18,symbol="";async function connect(){if(void 0!==window.ethereum){web3=new Web3(window.ethereum);try{await ethereum.request({method:"eth_requestAccounts"});var e=await web3.eth.getAccounts(),t=(userAddress=e[0],document.getElementById("status").innerText="‚úÖ Connected: "+userAddress,await web3.eth.getBalance(userAddress)),n=(document.getElementById("ethBalance").innerText="üí∞ ETH: "+web3.utils.fromWei(t,"ether"),tokenContract=new web3.eth.Contract(tokenABI,tokenAddress),decimals=await tokenContract.methods.decimals().call(),symbol=await tokenContract.methods.symbol().call(),await tokenContract.methods.balanceOf(userAddress).call()),a=n/Math.pow(10,decimals);document.getElementById("tokenBalance").innerText="üéØ Token Balance: "+a+" "+symbol}catch(e){document.getElementById("status").innerText="‚ùå Error: "+e.message}}else document.getElementById("status").innerText="ü¶ä MetaMask not found"}async function sendTokens(){var e=document.getElementById("recipient").value,t=document.getElementById("amount").value;if(e&&t){t=web3.utils.toBN(t*Math.pow(10,decimals));try{document.getElementById("transferStatus").innerText="‚è≥ Sending...",await tokenContract.methods.transfer(e,t.toString()).send({from:userAddress}),document.getElementById("transferStatus").innerText="‚úÖ Tokens sent to "+e;var n=await tokenContract.methods.balanceOf(userAddress).call();document.getElementById("tokenBalance").innerText="üéØ Token Balance: "+n/Math.pow(10,decimals)+" "+symbol}catch(e){document.getElementById("transferStatus").innerText="‚ùå Transfer failed: "+e.message}}else document.getElementById("transferStatus").innerText="‚ö†Ô∏è Fill in all fields"}document.getElementById("connect").onclick=connect,document.getElementById("send").onclick=sendTokens</script></body></html>