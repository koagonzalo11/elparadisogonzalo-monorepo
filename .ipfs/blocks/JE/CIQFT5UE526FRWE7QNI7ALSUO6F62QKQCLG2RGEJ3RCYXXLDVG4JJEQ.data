LavaPack.loadBundle([[10,{"../../../shared/constants/metametrics":4758,"../../../shared/modules/hexstring-utils":4788,"@metamask/base-controller":1119,"@metamask/controller-utils":1124,"@metamask/message-manager":1559,"@metamask/utils":2081,buffer:2913,events:3331,loglevel:4083},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.isEIP1024EncryptedMessage=r.getDefaultState=r.default=void 0;var n=f(e("events")),i=f(e("loglevel")),s=e("@metamask/message-manager"),o=e("@metamask/base-controller"),a=e("@metamask/controller-utils"),c=e("@metamask/utils"),u=e("../../../shared/constants/metametrics"),l=e("../../../shared/modules/hexstring-utils");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h={unapprovedDecryptMsgs:{persist:!1,anonymous:!1},unapprovedDecryptMsgCount:{persist:!1,anonymous:!1}},p=e=>!!((0,c.isObject)(e.data)&&(0,c.hasProperty)(e.data,"version")&&(0,c.hasProperty)(e.data,"nonce")&&(0,c.hasProperty)(e.data,"ephemPublicKey")&&(0,c.hasProperty)(e.data,"ciphertext"));r.isEIP1024EncryptedMessage=p;const m=()=>({unapprovedDecryptMsgs:{},unapprovedDecryptMsgCount:0});r.getDefaultState=m;class g extends o.BaseControllerV2{constructor({getState:e,metricsEvent:t,messenger:r}){super({metadata:h,messenger:r,name:"DecryptMessageController",state:{unapprovedDecryptMsgs:{},unapprovedDecryptMsgCount:0}}),d(this,"hub",void 0),d(this,"_getState",void 0),d(this,"_metricsEvent",void 0),d(this,"_decryptMessageManager",void 0),this._getState=e,this._metricsEvent=t,this.hub=new n.default,this._decryptMessageManager=new s.DecryptMessageManager(undefined,undefined,undefined,["decrypted"]),this._decryptMessageManager.hub.on("updateBadge",(()=>{this.hub.emit("updateBadge")})),this._decryptMessageManager.hub.on("unapprovedMessage",(e=>{this._requestApproval(e)})),this._subscribeToMessageState(this._decryptMessageManager,((e,t,r)=>{e.unapprovedDecryptMsgs=t,e.unapprovedDecryptMsgCount=r}))}get unapprovedDecryptMsgCount(){return this._decryptMessageManager.getUnapprovedMessagesCount()}resetState(){this.update((()=>({unapprovedDecryptMsgs:{},unapprovedDecryptMsgCount:0})))}clearUnapproved(){this._decryptMessageManager.update({unapprovedMessages:{},unapprovedMessagesCount:0})}async newRequestDecryptMessage(e,t){return this._decryptMessageManager.addUnapprovedMessageAsync(e,t)}async decryptMessage(e){const t=e.metamaskId;try{const r=await this._decryptMessageManager.approveMessage(e);if(r.data=this._parseMessageData(r.data),!p(r))throw new Error("Invalid encrypted data.");const n=await this.messagingSystem.call("KeyringController:decryptMessage",r);this._decryptMessageManager.setMessageStatusAndResult(t,n,"decrypted"),this._acceptApproval(t)}catch(e){throw i.default.info("MetaMaskController - eth_decrypt failed.",e),this._cancelAbstractMessage(this._decryptMessageManager,t),e}return this._getState()}async decryptMessageInline(e){const t=e.metamaskId;if(e.data=this._parseMessageData(e.data),!p(e))throw new Error("Invalid encrypted data.");const r=await this.messagingSystem.call("KeyringController:decryptMessage",e);return this._decryptMessageManager.setResult(t,r),this._getState()}cancelDecryptMessage(e){return this._decryptMessageManager.rejectMessage(e),this._rejectApproval(e),this._getState()}rejectUnapproved(e){Object.keys(this._decryptMessageManager.getUnapprovedMessages()).forEach((t=>{this._cancelAbstractMessage(this._decryptMessageManager,t,e)}))}_acceptApproval(e){this.messagingSystem.call("ApprovalController:acceptRequest",e)}_cancelAbstractMessage(e,t,r){return r&&this._metricsEvent({event:r,category:u.MetaMetricsEventCategory.Messages,properties:{action:"Decrypt Message Request"}}),e.rejectMessage(t),this._rejectApproval(t),this._getState()}_subscribeToMessageState(e,t){e.subscribe((e=>{const r=this._migrateMessages(e.unapprovedMessages);this.update((n=>{t(n,r,e.unapprovedMessagesCount)}))}))}_migrateMessages(e){const t={};for(const r of Object.keys(e)){const n=e[r],i=this._migrateMessage(n);t[r]=i}return t}_migrateMessage(e){const{messageParams:t,...r}=e;return{...r,rawSig:e.rawSig,msgParams:t,origin:t.origin}}_requestApproval(e){const t=e.metamaskId,r=e.origin||a.ORIGIN_METAMASK;try{this.messagingSystem.call("ApprovalController:addRequest",{id:t,origin:r,type:a.ApprovalType.EthDecrypt},!0)}catch(e){i.default.info("Error adding request to approval controller",e)}}_parseMessageData(e){const r=(0,l.stripHexPrefix)(e),n=t.from(r,"hex");return JSON.parse(n.toString("utf8"))}_rejectApproval(e){try{this.messagingSystem.call("ApprovalController:rejectRequest",e,"Cancel")}catch(e){i.default.info("Error rejecting request to approval controller",e)}}}r.default=g}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"app/scripts/controllers/decrypt-message.ts"}],[100,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:9,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=9;try{const e=function(e){const t=(0,n.merge)({},e,{CurrencyController:{currentCurrency:e.currentFiat||e.fiatCurrency||"USD",conversionRate:e.conversionRate,conversionDate:e.conversionDate}});return delete t.currentFiat,delete t.fiatCurrency,delete t.conversionRate,delete t.conversionDate,t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #9${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/009.js"}],[101,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:10,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=10;try{const e=function(e){const t=(0,n.merge)({},e,{ShapeShiftController:{shapeShiftTxList:e.shapeShiftTxList||[]}});return delete t.shapeShiftTxList,t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #10${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/010.js"}],[102,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:11,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=11;try{const e=function(e){const t=e;return delete t.TOSHash,delete t.isDisclaimerConfirmed,t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #11${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/011.js"}],[103,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:12,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=12;try{const e=function(e){const t=e;return t.NoticeController.noticesList.forEach((e=>{e.read&&(e.body="")})),t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #12${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/012.js"}],[104,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:13,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=13;try{const e=function(e){const t=e,{config:r}=t;r&&r.provider&&"testnet"===r.provider.type&&(t.config.provider.type="ropsten");return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #13${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/013.js"}],[1046,{"@metamask/base-controller":1119,"@metamask/controller-utils":1049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AddressBookController=r.AddressType=void 0;const n=e("@metamask/controller-utils"),i=e("@metamask/base-controller");!function(e){e.externallyOwnedAccounts="EXTERNALLY_OWNED_ACCOUNTS",e.contractAccounts="CONTRACT_ACCOUNTS",e.nonAccounts="NON_ACCOUNTS"}(r.AddressType||(r.AddressType={}));class s extends i.BaseController{constructor(e,t){super(e,t),this.name="AddressBookController",this.defaultState={addressBook:{}},this.initialize()}clear(){this.update({addressBook:{}})}delete(e,t){if(t=(0,n.toChecksumHexAddress)(t),!(0,n.isValidHexAddress)(t)||!this.state.addressBook[e]||!this.state.addressBook[e][t])return!1;const r=Object.assign({},this.state.addressBook);return delete r[e][t],0===Object.keys(r[e]).length&&delete r[e],this.update({addressBook:r}),!0}set(e,t,r=(0,n.toHex)(1),i="",s){if(e=(0,n.toChecksumHexAddress)(e),!(0,n.isValidHexAddress)(e))return!1;const o={address:e,chainId:r,isEns:!1,memo:i,name:t,addressType:s},a=(0,n.normalizeEnsName)(t);return a&&(o.name=a,o.isEns=!0),this.update({addressBook:Object.assign(Object.assign({},this.state.addressBook),{[r]:Object.assign(Object.assign({},this.state.addressBook[r]),{[e]:o})})}),!0}}r.AddressBookController=s,r.default=s}}},{package:"@metamask/address-book-controller",file:"node_modules/@metamask/address-book-controller/dist/AddressBookController.js"}],[1047,{"./AddressBookController":1046},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./AddressBookController"),r)}}},{package:"@metamask/address-book-controller",file:"node_modules/@metamask/address-book-controller/dist/index.js"}],[1048,{"./types":1052},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NETWORK_ID_TO_ETHERS_NETWORK_NAME_MAP=r.ApprovalType=r.ORIGIN_METAMASK=r.OPENSEA_TEST_API_URL=r.OPENSEA_API_URL=r.OPENSEA_PROXY_URL=r.BUILT_IN_NETWORKS=r.TESTNET_TICKER_SYMBOLS=r.ASSET_TYPES=r.GWEI=r.ERC1155_TOKEN_RECEIVER_INTERFACE_ID=r.ERC1155_METADATA_URI_INTERFACE_ID=r.ERC1155_INTERFACE_ID=r.ERC721_ENUMERABLE_INTERFACE_ID=r.ERC721_METADATA_INTERFACE_ID=r.ERC721_INTERFACE_ID=r.ERC20=r.ERC1155=r.ERC721=r.MAX_SAFE_CHAIN_ID=r.GANACHE_CHAIN_ID=r.IPFS_DEFAULT_GATEWAY_URL=r.FALL_BACK_VS_CURRENCY=r.RPC=void 0;const n=e("./types");r.RPC="rpc",r.FALL_BACK_VS_CURRENCY="ETH",r.IPFS_DEFAULT_GATEWAY_URL="https://cloudflare-ipfs.com/ipfs/",r.GANACHE_CHAIN_ID="0x539",r.MAX_SAFE_CHAIN_ID=0xfffffffffffec,r.ERC721="ERC721",r.ERC1155="ERC1155",r.ERC20="ERC20",r.ERC721_INTERFACE_ID="0x80ac58cd",r.ERC721_METADATA_INTERFACE_ID="0x5b5e139f",r.ERC721_ENUMERABLE_INTERFACE_ID="0x780e9d63",r.ERC1155_INTERFACE_ID="0xd9b67a26",r.ERC1155_METADATA_URI_INTERFACE_ID="0x0e89341c",r.ERC1155_TOKEN_RECEIVER_INTERFACE_ID="0x4e2312e0",r.GWEI="gwei",r.ASSET_TYPES={NATIVE:"NATIVE",TOKEN:"TOKEN",NFT:"NFT",UNKNOWN:"UNKNOWN"},r.TESTNET_TICKER_SYMBOLS={GOERLI:"GoerliETH",SEPOLIA:"SepoliaETH",LINEA_GOERLI:"LineaETH"},r.BUILT_IN_NETWORKS={[n.NetworkType.goerli]:{chainId:n.ChainId.goerli,ticker:n.NetworksTicker.goerli,rpcPrefs:{blockExplorerUrl:`https://${n.NetworkType.goerli}.etherscan.io`}},[n.NetworkType.sepolia]:{chainId:n.ChainId.sepolia,ticker:n.NetworksTicker.sepolia,rpcPrefs:{blockExplorerUrl:`https://${n.NetworkType.sepolia}.etherscan.io`}},[n.NetworkType.mainnet]:{chainId:n.ChainId.mainnet,ticker:n.NetworksTicker.mainnet,rpcPrefs:{blockExplorerUrl:"https://etherscan.io"}},[n.NetworkType["linea-goerli"]]:{chainId:n.ChainId["linea-goerli"],ticker:n.NetworksTicker["linea-goerli"],rpcPrefs:{blockExplorerUrl:"https://explorer.goerli.linea.build"}},[n.NetworkType["linea-mainnet"]]:{chainId:n.ChainId["linea-mainnet"],ticker:n.NetworksTicker["linea-mainnet"],rpcPrefs:{blockExplorerUrl:"https://lineascan.build"}},[n.NetworkType.rpc]:{chainId:undefined,blockExplorerUrl:undefined,rpcPrefs:undefined}},r.OPENSEA_PROXY_URL="https://proxy.metafi.codefi.network/opensea/v1/api/v1",r.OPENSEA_API_URL="https://api.opensea.io/api/v1",r.OPENSEA_TEST_API_URL="https://testnets-api.opensea.io/api/v1",r.ORIGIN_METAMASK="metamask",function(e){e.AddEthereumChain="wallet_addEthereumChain",e.ConnectAccounts="connect_accounts",e.EthDecrypt="eth_decrypt",e.EthGetEncryptionPublicKey="eth_getEncryptionPublicKey",e.EthSign="eth_sign",e.EthSignTypedData="eth_signTypedData",e.PersonalSign="personal_sign",e.ResultError="result_error",e.ResultSuccess="result_success",e.SnapDialogAlert="snap_dialog:alert",e.SnapDialogConfirmation="snap_dialog:confirmation",e.SnapDialogPrompt="snap_dialog:prompt",e.SwitchEthereumChain="wallet_switchEthereumChain",e.Transaction="transaction",e.Unlock="unlock",e.WalletConnect="wallet_connect",e.WalletRequestPermissions="wallet_requestPermissions",e.WatchAsset="wallet_watchAsset"}(r.ApprovalType||(r.ApprovalType={})),r.NETWORK_ID_TO_ETHERS_NETWORK_NAME_MAP={[n.NetworkId.goerli]:n.NetworkType.goerli,[n.NetworkId.sepolia]:n.NetworkType.sepolia,[n.NetworkId.mainnet]:n.NetworkType.mainnet,[n.NetworkId["linea-goerli"]]:n.NetworkType["linea-goerli"],[n.NetworkId["linea-mainnet"]]:n.NetworkType["linea-mainnet"]}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/dist/constants.js"}],[1049,{"./constants":1048,"./siwe":1051,"./types":1052,"./util":1053},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants"),r),i(e("./util"),r),i(e("./types"),r),i(e("./siwe"),r)}}},{package:"@metamask/address-book-controller>@metamask/controller-utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/dist/index.js"}],[105,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:14,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=14;try{const e=function(e){const t=e;return t.NetworkController={},t.NetworkController.provider=t.config.provider,delete t.config.provider,t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #14${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/014.js"}],[1050,{"@metamask/utils":1062},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("controller-utils")}}},{package:"@metamask/address-book-controller>@metamask/controller-utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/dist/logger.js"}],[1051,{"./logger":1050,"@spruceid/siwe-parser":2289,buffer:2913,"ethereumjs-util":3272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.detectSIWE=r.isValidSIWEOrigin=r.parseDomainParts=void 0;const n=e("@spruceid/siwe-parser"),i=e("ethereumjs-util"),s=e("./logger"),o=(0,s.createModuleLogger)(s.projectLogger,"detect-siwe");function a(e){try{const n="string"!=typeof(r=e)?r:(0,i.isHexPrefixed)(r)?r.slice(2):r,s=t.from(n,"hex");return 32===s.length?e:s.toString("utf8")}catch(t){return o(t),e}var r}const c={"http:":"80","https:":"443"};r.parseDomainParts=(e,t)=>e.match(/^[^/:]*:\/\//u)?new URL(e):new URL(`${t}//${e}`);r.isValidSIWEOrigin=e=>{var t;try{const{origin:n,siwe:i}=e;if(!n||!(null===(t=null==i?void 0:i.parsedMessage)||void 0===t?void 0:t.domain))return!1;const s=new URL(n),o=(0,r.parseDomainParts)(i.parsedMessage.domain,s.protocol);return 0===o.hostname.localeCompare(s.hostname,undefined,{sensitivity:"accent"})&&(""!==o.port&&o.port!==s.port?""===s.port&&o.port===c[s.protocol]:""===o.username||o.username===s.username)}catch(e){return o(e),!1}};r.detectSIWE=e=>{try{const{data:t}=e,r=a(t);return{isSIWEMessage:!0,parsedMessage:new n.ParsedMessage(r)}}catch(e){return{isSIWEMessage:!1,parsedMessage:null}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/address-book-controller>@metamask/controller-utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/dist/siwe.js"}],[1052,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.NetworksTicker=r.NetworkId=r.ChainId=r.BuiltInNetworkName=r.isNetworkType=r.NetworkType=r.InfuraNetworkType=void 0,r.InfuraNetworkType={mainnet:"mainnet",goerli:"goerli",sepolia:"sepolia","linea-goerli":"linea-goerli","linea-mainnet":"linea-mainnet"},r.NetworkType=Object.assign(Object.assign({},r.InfuraNetworkType),{rpc:"rpc"}),r.isNetworkType=function(e){return Object.values(r.NetworkType).includes(e)},function(e){e.Mainnet="mainnet",e.Goerli="goerli",e.Sepolia="sepolia",e.LineaGoerli="linea-goerli",e.LineaMainnet="linea-mainnet",e.Aurora="aurora"}(n=r.BuiltInNetworkName||(r.BuiltInNetworkName={})),r.ChainId={[n.Mainnet]:"0x1",[n.Goerli]:"0x5",[n.Sepolia]:"0xaa36a7",[n.Aurora]:"0x4e454152",[n.LineaGoerli]:"0xe704",[n.LineaMainnet]:"0xe708"},r.NetworkId={[r.InfuraNetworkType.mainnet]:"1",[r.InfuraNetworkType.goerli]:"5",[r.InfuraNetworkType.sepolia]:"11155111",[r.InfuraNetworkType["linea-goerli"]]:"59140",[r.InfuraNetworkType["linea-mainnet"]]:"59144"},function(e){e.mainnet="ETH",e.goerli="GoerliETH",e.sepolia="SepoliaETH",e["linea-goerli"]="LineaETH",e["linea-mainnet"]="ETH",e.rpc=""}(r.NetworksTicker||(r.NetworksTicker={}))}}},{package:"@metamask/address-book-controller>@metamask/controller-utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/dist/types.js"}],[1053,{"./constants":1048,"@metamask/utils":1062,buffer:2913,"eth-ens-namehash":3182,"ethereumjs-util":3272,"ethjs-unit":3324,"fast-deep-equal":3533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isValidJson=r.isNonEmptyArray=r.isPlainObject=r.convertHexToDecimal=r.query=r.normalizeEnsName=r.timeoutFetch=r.fetchWithErrorHandling=r.handleFetch=r.successfulFetch=r.isSmartContractCode=r.isValidHexAddress=r.toChecksumHexAddress=r.safelyExecuteWithTimeout=r.safelyExecute=r.toHex=r.fromHex=r.hexToText=r.hexToBN=r.getBuyURL=r.weiHexToGweiDec=r.gweiDecToWEIBN=r.fractionBN=r.BNToHex=r.isSafeChainId=void 0;const s=e("@metamask/utils"),o=i(e("eth-ens-namehash")),a=e("ethereumjs-util"),c=e("ethjs-unit"),u=i(e("fast-deep-equal")),l=e("./constants"),f=new Error("timeout");function d(e){return e?new a.BN((0,a.stripHexPrefix)(e),16):new a.BN(0)}function h(e,t){return n(this,void 0,void 0,(function*(){const r=yield fetch(e,t);if(!r.ok)throw new Error(`Fetch failed with status '${r.status}' for request '${e}'`);return r}))}function p(e,t){return n(this,void 0,void 0,(function*(){const r=yield h(e,t);return yield r.json()}))}r.isSafeChainId=function(e){if(!(0,a.isHexString)(e))return!1;const t=Number.parseInt(e);return Number.isSafeInteger(t)&&t>0&&t<=l.MAX_SAFE_CHAIN_ID},r.BNToHex=function(e){return(0,a.addHexPrefix)(e.toString(16))},r.fractionBN=function(e,t,r){const n=new a.BN(t),i=new a.BN(r);return e.mul(n).div(i)},r.gweiDecToWEIBN=function(e){if(Number.isNaN(e))return new a.BN(0);const t=e.toString().split("."),r=t[0]||"0";let n=t[1]||"";if(!n)return(0,c.toWei)(r,"gwei");if(n.length<=9)return(0,c.toWei)(`${r}.${n}`,"gwei");const i=n.slice(9)[0];n=n.slice(0,9);let s=(0,c.toWei)(`${r}.${n}`,"gwei");return Number(i)>=5&&(s=s.add(new a.BN(1))),s},r.weiHexToGweiDec=function(e){const t=new a.BN((0,a.stripHexPrefix)(e),16);return(0,c.fromWei)(t,"gwei").toString(10)},r.getBuyURL=function(e="1",t,r=5){switch(e){case"1":return`https://buy.coinbase.com/?code=9ec56d01-7e81-5017-930c-513daa27bb6a&amount=${r}&address=${t}&crypto_currency=ETH`;case"5":return"https://goerli-faucet.slock.it/";case"11155111":return"https://sepoliafaucet.net/";default:return undefined}},r.hexToBN=d,r.hexToText=function(e){try{const r=(0,a.stripHexPrefix)(e);return t.from(r,"hex").toString("utf8")}catch(t){return e}},r.fromHex=function(e){return a.BN.isBN(e)?e:new a.BN(d(e).toString(10))},r.toHex=function(e){return"string"==typeof e&&(0,s.isStrictHexString)(e)?e:`0x${a.BN.isBN(e)?e.toString(16):new a.BN(e.toString(),10).toString(16)}`},r.safelyExecute=function(e,t=!1){return n(this,void 0,void 0,(function*(){try{return yield e()}catch(e){return t&&console.error(e),undefined}}))},r.safelyExecuteWithTimeout=function(e,t=!1,r=500){return n(this,void 0,void 0,(function*(){try{return yield Promise.race([e(),new Promise(((e,t)=>setTimeout((()=>{t(f)}),r)))])}catch(e){return t&&console.error(e),undefined}}))},r.toChecksumHexAddress=function(e){const t=(0,a.addHexPrefix)(e);return(0,a.isHexString)(t)?(0,a.toChecksumAddress)(t):t},r.isValidHexAddress=function(e,{allowNonPrefixed:t=!0}={}){const r=t?(0,a.addHexPrefix)(e):e;return!!(0,a.isHexString)(r)&&(0,a.isValidAddress)(r)},r.isSmartContractCode=function(e){return!!e&&("0x"!==e&&"0x0"!==e)},r.successfulFetch=h,r.handleFetch=p,r.fetchWithErrorHandling=function({url:e,options:t,timeout:r,errorCodesToCatch:i}){return n(this,void 0,void 0,(function*(){let n;try{n=r?Promise.race([yield p(e,t),new Promise(((e,t)=>setTimeout((()=>{t(f)}),r)))]):yield p(e,t)}catch(e){!function(e,t=[]){var r;if(!e)return;const n=t.some((t=>{var r;return null===(r=e.message)||void 0===r?void 0:r.includes(`Fetch failed with status '${t}'`)}));if(!(e instanceof Error&&(n||(null===(r=e.message)||void 0===r?void 0:r.includes("Failed to fetch"))||e===f)))throw e;console.error(e)}(e,i)}return n}))},r.timeoutFetch=function(e,t,r=500){return n(this,void 0,void 0,(function*(){return Promise.race([h(e,t),new Promise(((e,t)=>setTimeout((()=>{t(f)}),r)))])}))},r.normalizeEnsName=function(e){if(e&&"string"==typeof e)try{const t=o.default.normalize(e.trim());if(t.match(/^(([\w\d-]+)\.)*[\w\d-]{7,}\.(eth|test)$/u))return t}catch(e){}return null},r.query=function(e,t,r=[]){return new Promise(((n,i)=>{const s=(e,t)=>{e?i(e):n(t)};t in e&&"function"==typeof e[t]?e[t](...r,s):e.sendAsync({method:t,params:r},s)}))};r.convertHexToDecimal=(e="0x0")=>(0,a.isHexString)(e)?parseInt(e,16):Number(e)?Number(e):0,r.isPlainObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)},r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isValidJson=function(e){try{return(0,u.default)(e,JSON.parse(JSON.stringify(e)))}catch(e){return!1}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/address-book-controller>@metamask/controller-utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/dist/util.js"}],[1054,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertExhaustive=r.assertStruct=r.assert=r.AssertionError=void 0;const n=e("superstruct");function i(e,t){return r=e,Boolean("string"==typeof r?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var r}class s extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}r.AssertionError=s,r.assert=function(e,t="Assertion failed.",r=s){if(!e){if(t instanceof Error)throw t;throw i(r,t)}},r.assertStruct=function(e,t,r="Assertion failed",o=s){try{(0,n.assert)(e,t)}catch(e){throw i(o,`${r}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},r.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/assert.js"}],[1055,{"./assert":1054,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.base64=void 0;const n=e("superstruct"),i=e("./assert");r.base64=(e,t={})=>{const r=t.paddingRequired??!1,s=t.characterSet??"base64";let o,a;return"base64"===s?o=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===s),o=String.raw`[-_A-Za-z0-9]`),a=r?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,n.pattern)(e,a)}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/base64.js"}],[1056,{"./assert":1054,"./hex":1061,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.createDataView=r.concatBytes=r.valueToBytes=r.stringToBytes=r.numberToBytes=r.signedBigIntToBytes=r.bigIntToBytes=r.hexToBytes=r.bytesToString=r.bytesToNumber=r.bytesToSignedBigInt=r.bytesToBigInt=r.bytesToHex=r.assertIsBytes=r.isBytes=void 0;const n=e("./assert"),i=e("./hex"),s=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,n.assert)(u(e),"Value must be a Uint8Array.")}function f(e){if(l(e),0===e.length)return"0x";const t=c(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,i.add0x)(r.join(""))}function d(e){l(e);const t=f(e);return BigInt(t)}function h(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,i.assertIsHexString)(e);const t=(0,i.remove0x)(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),i=r.charCodeAt(2*e+1),c=t-(t<o?s:a),u=i-(i<o?s:a);n[e]=16*c+u}return n}function p(e){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return h(e.toString(16))}function m(e){(0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return h(e.toString(16))}function g(e){return(0,n.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return p(e);if("number"==typeof e)return m(e);if("string"==typeof e)return e.startsWith("0x")?h(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}r.isBytes=u,r.assertIsBytes=l,r.bytesToHex=f,r.bytesToBigInt=d,r.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},r.bytesToNumber=function(e){l(e);const t=d(e);return(0,n.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},r.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},r.hexToBytes=h,r.bigIntToBytes=p,r.signedBigIntToBytes=function(e,t){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)("number"==typeof t,"Byte length must be a number."),(0,n.assert)(t>0,"Byte length must be greater than 0."),(0,n.assert)(function(e,t){(0,n.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const i=new Uint8Array(t);for(let e=0;e<i.length;e++)i[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return i.reverse()},r.numberToBytes=m,r.stringToBytes=g,r.valueToBytes=y,r.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const i=y(e[n]);t[n]=i,r+=i.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},r.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/bytes.js"}],[1057,{"./base64":1055,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChecksumStruct=void 0;const n=e("superstruct"),i=e("./base64");r.ChecksumStruct=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/checksum.js"}],[1058,{"./assert":1054,"./bytes":1056,"./hex":1061,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHex=r.createBytes=r.createBigInt=r.createNumber=void 0;const n=e("superstruct"),i=e("./assert"),s=e("./bytes"),o=e("./hex"),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),o.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),a,Number),u=(0,n.coerce)((0,n.bigint)(),a,BigInt),l=((0,n.union)([o.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([o.StrictHexStruct]),s.hexToBytes)),f=(0,n.coerce)(o.StrictHexStruct,(0,n.instance)(Uint8Array),s.bytesToHex);r.createNumber=function(e){try{const t=(0,n.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},r.createBigInt=function(e){try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},r.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},r.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,f)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/coercers.js"}],[1059,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.FrozenSet=r.FrozenMap=void 0;class a{constructor(e){n.set(this,void 0),s(this,n,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return o(this,n,"f")[Symbol.iterator]()}entries(){return o(this,n,"f").entries()}forEach(e,t){return o(this,n,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}get(e){return o(this,n,"f").get(e)}has(e){return o(this,n,"f").has(e)}keys(){return o(this,n,"f").keys()}values(){return o(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}r.FrozenMap=a;class c{constructor(e){i.set(this,void 0),s(this,i,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return o(this,i,"f")[Symbol.iterator]()}entries(){return o(this,i,"f").entries()}forEach(e,t){return o(this,i,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}has(e){return o(this,i,"f").has(e)}keys(){return o(this,i,"f").keys()}values(){return o(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}r.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/collections.js"}],[106,{"../../../shared/constants/transaction":4770,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");r.default={version:15,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=15;try{const e=function(e){const t=e,{TransactionController:r}=t;if(r&&r.transactions){const{transactions:e}=r;t.TransactionController.transactions=e.map((e=>e.err?("Gave up submitting tx."===e.err.message&&(e.status=i.TransactionStatus.failed),e):e))}return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #15${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/015.js"}],[1060,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/encryption-types.js"}],[1061,{"./assert":1054,"./bytes":1056,"@noble/hashes/sha3":2126,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.remove0x=r.add0x=r.isValidChecksumAddress=r.getChecksumAddress=r.isValidHexAddress=r.assertIsStrictHexString=r.assertIsHexString=r.isStrictHexString=r.isHexString=r.HexChecksumAddressStruct=r.HexAddressStruct=r.StrictHexStruct=r.HexStruct=void 0;const n=e("@noble/hashes/sha3"),i=e("superstruct"),s=e("./assert"),o=e("./bytes");function a(e){return(0,i.is)(e,r.HexStruct)}function c(e){return(0,i.is)(e,r.StrictHexStruct)}function u(e){(0,s.assert)((0,i.is)(e,r.HexChecksumAddressStruct),"Invalid hex address.");const t=f(e.toLowerCase()),a=f((0,o.bytesToHex)((0,n.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const r=a[t];return(0,s.assert)((0,i.is)(r,(0,i.string)()),"Hash shorter than address."),parseInt(r,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,i.is)(e,r.HexChecksumAddressStruct)&&u(e)===e}function f(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}r.HexStruct=(0,i.pattern)((0,i.string)(),/^(?:0x)?[0-9a-f]+$/iu),r.StrictHexStruct=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]+$/iu),r.HexAddressStruct=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]{40}$/u),r.HexChecksumAddressStruct=(0,i.pattern)((0,i.string)(),/^0x[0-9a-fA-F]{40}$/u),r.isHexString=a,r.isStrictHexString=c,r.assertIsHexString=function(e){(0,s.assert)(a(e),"Value must be a hexadecimal string.")},r.assertIsStrictHexString=function(e){(0,s.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},r.isValidHexAddress=function(e){return(0,i.is)(e,r.HexAddressStruct)||l(e)},r.getChecksumAddress=u,r.isValidChecksumAddress=l,r.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},r.remove0x=f}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/hex.js"}],[1062,{"./assert":1054,"./base64":1055,"./bytes":1056,"./checksum":1057,"./coercers":1058,"./collections":1059,"./encryption-types":1060,"./hex":1061,"./json":1063,"./keyring":1064,"./logging":1065,"./misc":1066,"./number":1067,"./opaque":1068,"./time":1069,"./transaction-types":1070,"./versions":1071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./assert"),r),i(e("./base64"),r),i(e("./bytes"),r),i(e("./checksum"),r),i(e("./coercers"),r),i(e("./collections"),r),i(e("./encryption-types"),r),i(e("./hex"),r),i(e("./json"),r),i(e("./keyring"),r),i(e("./logging"),r),i(e("./misc"),r),i(e("./number"),r),i(e("./opaque"),r),i(e("./time"),r),i(e("./transaction-types"),r),i(e("./versions"),r)}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/index.js"}],[1063,{"./assert":1054,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonRpcIdValidator=r.assertIsJsonRpcError=r.isJsonRpcError=r.assertIsJsonRpcFailure=r.isJsonRpcFailure=r.assertIsJsonRpcSuccess=r.isJsonRpcSuccess=r.assertIsJsonRpcResponse=r.isJsonRpcResponse=r.assertIsPendingJsonRpcResponse=r.isPendingJsonRpcResponse=r.JsonRpcResponseStruct=r.JsonRpcFailureStruct=r.JsonRpcSuccessStruct=r.PendingJsonRpcResponseStruct=r.assertIsJsonRpcRequest=r.isJsonRpcRequest=r.assertIsJsonRpcNotification=r.isJsonRpcNotification=r.JsonRpcNotificationStruct=r.JsonRpcRequestStruct=r.JsonRpcParamsStruct=r.JsonRpcErrorStruct=r.JsonRpcIdStruct=r.JsonRpcVersionStruct=r.jsonrpc2=r.getJsonSize=r.getSafeJson=r.isValidJson=r.JsonStruct=r.UnsafeJsonStruct=void 0;const n=e("superstruct"),i=e("./assert");function s(e){return(0,n.create)(e,r.JsonStruct)}r.UnsafeJsonStruct=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>r.UnsafeJsonStruct))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>r.UnsafeJsonStruct)))]),r.JsonStruct=(0,n.coerce)(r.UnsafeJsonStruct,(0,n.any)(),(e=>((0,i.assertStruct)(e,r.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),r.isValidJson=function(e){try{return s(e),!0}catch{return!1}},r.getSafeJson=s,r.getJsonSize=function(e){(0,i.assertStruct)(e,r.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},r.jsonrpc2="2.0",r.JsonRpcVersionStruct=(0,n.literal)(r.jsonrpc2),r.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),r.JsonRpcErrorStruct=(0,n.object)({code:(0,n.integer)(),message:(0,n.string)(),data:(0,n.optional)(r.JsonStruct),stack:(0,n.optional)((0,n.string)())}),r.JsonRpcParamsStruct=(0,n.optional)((0,n.union)([(0,n.record)((0,n.string)(),r.JsonStruct),(0,n.array)(r.JsonStruct)])),r.JsonRpcRequestStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:r.JsonRpcParamsStruct}),r.JsonRpcNotificationStruct=(0,n.omit)(r.JsonRpcRequestStruct,["id"]),r.isJsonRpcNotification=function(e){return(0,n.is)(e,r.JsonRpcNotificationStruct)},r.assertIsJsonRpcNotification=function(e,t){(0,i.assertStruct)(e,r.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},r.isJsonRpcRequest=function(e){return(0,n.is)(e,r.JsonRpcRequestStruct)},r.assertIsJsonRpcRequest=function(e,t){(0,i.assertStruct)(e,r.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},r.PendingJsonRpcResponseStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(r.JsonRpcErrorStruct)}),r.JsonRpcSuccessStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:r.JsonStruct}),r.JsonRpcFailureStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,error:r.JsonRpcErrorStruct}),r.JsonRpcResponseStruct=(0,n.union)([r.JsonRpcSuccessStruct,r.JsonRpcFailureStruct]),r.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,r.PendingJsonRpcResponseStruct)},r.assertIsPendingJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},r.isJsonRpcResponse=function(e){return(0,n.is)(e,r.JsonRpcResponseStruct)},r.assertIsJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},r.isJsonRpcSuccess=function(e){return(0,n.is)(e,r.JsonRpcSuccessStruct)},r.assertIsJsonRpcSuccess=function(e,t){(0,i.assertStruct)(e,r.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},r.isJsonRpcFailure=function(e){return(0,n.is)(e,r.JsonRpcFailureStruct)},r.assertIsJsonRpcFailure=function(e,t){(0,i.assertStruct)(e,r.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},r.isJsonRpcError=function(e){return(0,n.is)(e,r.JsonRpcErrorStruct)},r.assertIsJsonRpcError=function(e,t){(0,i.assertStruct)(e,r.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},r.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/json.js"}],[1064,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/keyring.js"}],[1065,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.createProjectLogger=void 0;const i=(0,n(e("debug")).default)("metamask");r.createProjectLogger=function(e){return i.extend(e)},r.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/logging.js"}],[1066,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateNumberSize=r.calculateStringSize=r.isASCII=r.isPlainObject=r.ESCAPE_CHARACTERS_REGEXP=r.JsonSize=r.hasProperty=r.isObject=r.isNullOrUndefined=r.isNonEmptyArray=void 0,r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isNullOrUndefined=function(e){return null===e||e===undefined},r.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function n(e){return e.charCodeAt(0)<=127}r.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(r.JsonSize||(r.JsonSize={})),r.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,r.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},r.isASCII=n,r.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>n(t)?e+1:e+2),0)+(e.match(r.ESCAPE_CHARACTERS_REGEXP)??[]).length},r.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/misc.js"}],[1067,{"./assert":1054,"./hex":1061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hexToBigInt=r.hexToNumber=r.bigIntToHex=r.numberToHex=void 0;const n=e("./assert"),i=e("./hex");r.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16)));r.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16)));r.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};r.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/number.js"}],[1068,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/opaque.js"}],[1069,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeSince=r.inMilliseconds=r.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r.Duration||(r.Duration={}));const n=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};r.inMilliseconds=function(e,t){return n(e,"count"),e*t},r.timeSince=function(e){return n(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/time.js"}],[107,{"../../../shared/constants/transaction":4770,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");r.default={version:16,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=16;try{const e=function(e){const t=e,{TransactionController:r}=t;if(r&&r.transactions){const{transactions:e}=t.TransactionController;t.TransactionController.transactions=e.map((e=>e.err?("transaction with the same hash was already imported."===e.err&&(e.status=i.TransactionStatus.submitted,delete e.err),e):e))}return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #16${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/016.js"}],[1070,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/transaction-types.js"}],[1071,{"./assert":1054,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.satisfiesVersionRange=r.gtRange=r.gtVersion=r.assertIsSemVerRange=r.assertIsSemVerVersion=r.isValidSemVerRange=r.isValidSemVerVersion=r.VersionRangeStruct=r.VersionStruct=void 0;const n=e("semver"),i=e("superstruct"),s=e("./assert");r.VersionStruct=(0,i.refine)((0,i.string)(),"Version",(e=>null!==(0,n.valid)(e)||`Expected SemVer version, got "${e}"`)),r.VersionRangeStruct=(0,i.refine)((0,i.string)(),"Version range",(e=>null!==(0,n.validRange)(e)||`Expected SemVer range, got "${e}"`)),r.isValidSemVerVersion=function(e){return(0,i.is)(e,r.VersionStruct)},r.isValidSemVerRange=function(e){return(0,i.is)(e,r.VersionRangeStruct)},r.assertIsSemVerVersion=function(e){(0,s.assertStruct)(e,r.VersionStruct)},r.assertIsSemVerRange=function(e){(0,s.assertStruct)(e,r.VersionRangeStruct)},r.gtVersion=function(e,t){return(0,n.gt)(e,t)},r.gtRange=function(e,t){return(0,n.gtr)(e,t)},r.satisfiesVersionRange=function(e,t){return(0,n.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/address-book-controller>@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/address-book-controller/node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/versions.js"}],[1072,{"@metamask/base-controller":1119},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.AnnouncementController=void 0;const o=e("@metamask/base-controller"),a={announcements:{}},c={announcements:{persist:!0,anonymous:!0}};class u extends o.BaseControllerV2{constructor({messenger:e,state:t,allAnnouncements:r}){const o=Object.assign(Object.assign({},a),t);super({messenger:e,metadata:c,name:"AnnouncementController",state:o}),n.add(this),s(this,n,"m",i).call(this,r)}updateViewed(e){this.update((({announcements:t})=>{for(const r of Object.keys(e).map(Number))t[r].isShown=e[r]}))}}r.AnnouncementController=u,n=new WeakSet,i=function(e){this.update((t=>{Object.values(e).forEach((e=>{var r;t.announcements[e.id]=null!==(r=t.announcements[e.id])&&void 0!==r?r:Object.assign(Object.assign({},e),{isShown:!1})}))}))}}}},{package:"@metamask/announcement-controller",file:"node_modules/@metamask/announcement-controller/dist/AnnouncementController.js"}],[1073,{"./AnnouncementController":1072},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./AnnouncementController"),r)}}},{package:"@metamask/announcement-controller",file:"node_modules/@metamask/announcement-controller/dist/index.js"}],[1074,{"./errors":1075,"@metamask/base-controller":1119,"eth-rpc-errors":3226,nanoid:1077},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,f,d,h,p,m=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},g=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},y=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.ApprovalController=r.APPROVAL_TYPE_RESULT_SUCCESS=r.APPROVAL_TYPE_RESULT_ERROR=r.ORIGIN_METAMASK=void 0;const b=e("eth-rpc-errors"),w=e("nanoid"),k=e("@metamask/base-controller"),_=e("./errors");r.ORIGIN_METAMASK="metamask",r.APPROVAL_TYPE_RESULT_ERROR="result_error",r.APPROVAL_TYPE_RESULT_SUCCESS="result_success";const v="ApprovalController",E={pendingApprovals:{persist:!1,anonymous:!0},pendingApprovalCount:{persist:!1,anonymous:!1},approvalFlows:{persist:!1,anonymous:!1}};class T extends k.BaseControllerV2{constructor({messenger:e,showApprovalRequest:t,state:r={},typesExcludedFromRateLimiting:c=[]}){super({name:v,metadata:E,messenger:e,state:Object.assign(Object.assign({},{pendingApprovals:{},pendingApprovalCount:0,approvalFlows:[]}),r)}),n.add(this),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),g(this,i,new Map,"f"),g(this,s,new Map,"f"),g(this,o,t,"f"),g(this,a,c,"f"),this.registerMessageHandlers()}registerMessageHandlers(){this.messagingSystem.registerActionHandler(`${v}:clearRequests`,this.clear.bind(this)),this.messagingSystem.registerActionHandler(`${v}:addRequest`,((e,t)=>t?this.addAndShowApprovalRequest(e):this.add(e))),this.messagingSystem.registerActionHandler(`${v}:hasRequest`,this.has.bind(this)),this.messagingSystem.registerActionHandler(`${v}:acceptRequest`,this.accept.bind(this)),this.messagingSystem.registerActionHandler(`${v}:rejectRequest`,this.reject.bind(this)),this.messagingSystem.registerActionHandler(`${v}:updateRequestState`,this.updateRequestState.bind(this)),this.messagingSystem.registerActionHandler(`${v}:startFlow`,this.startFlow.bind(this)),this.messagingSystem.registerActionHandler(`${v}:endFlow`,this.endFlow.bind(this)),this.messagingSystem.registerActionHandler(`${v}:setFlowLoadingText`,this.setFlowLoadingText.bind(this)),this.messagingSystem.registerActionHandler(`${v}:showSuccess`,this.success.bind(this)),this.messagingSystem.registerActionHandler(`${v}:showError`,this.error.bind(this))}addAndShowApprovalRequest(e){const t=y(this,n,"m",c).call(this,e.origin,e.type,e.id,e.requestData,e.requestState,e.expectsResult);return y(this,o,"f").call(this),t}add(e){return y(this,n,"m",c).call(this,e.origin,e.type,e.id,e.requestData,e.requestState,e.expectsResult)}get(e){return this.state.pendingApprovals[e]}getApprovalCount(e={}){var t;if(!e.origin&&!e.type)throw new Error("Must specify origin, type, or both.");const{origin:r,type:n}=e;if(r&&n)return(null===(t=y(this,s,"f").get(r))||void 0===t?void 0:t.get(n))||0;if(r)return Array.from((y(this,s,"f").get(r)||new Map).values()).reduce(((e,t)=>e+t),0);let i=0;for(const e of Object.values(this.state.pendingApprovals))e.type===n&&(i+=1);return i}getTotalApprovalCount(){return this.state.pendingApprovalCount}has(e={}){var t;const{id:r,origin:n,type:o}=e;if(r){if("string"!=typeof r)throw new Error("May not specify non-string id.");return y(this,i,"f").has(r)}if(o&&"string"!=typeof o)throw new Error("May not specify non-string type.");if(n){if("string"!=typeof n)throw new Error("May not specify non-string origin.");return o?Boolean(null===(t=y(this,s,"f").get(n))||void 0===t?void 0:t.get(o)):y(this,s,"f").has(n)}if(o){for(const e of Object.values(this.state.pendingApprovals))if(e.type===o)return!0;return!1}throw new Error("Must specify a valid combination of id, origin, and type.")}accept(e,t,r){const i=this.get(e),s=y(this,n,"m",h).call(this,e);return new Promise(((n,o)=>{const a={success:e=>n({value:e}),error:o};if((null==r?void 0:r.waitForResult)&&!i.expectsResult)return void o(new _.ApprovalRequestNoResultSupportError(e));const c=(null==r?void 0:r.waitForResult)?a:undefined,u=i.expectsResult?{value:t,resultCallbacks:c}:t;s.resolve(u),(null==r?void 0:r.waitForResult)||n({value:undefined})}))}reject(e,t){y(this,n,"m",h).call(this,e).reject(t)}clear(e){for(const t of y(this,i,"f").keys())this.reject(t,e);y(this,s,"f").clear(),this.update((e=>{e.pendingApprovals={},e.pendingApprovalCount=0}))}updateRequestState(e){if(!this.state.pendingApprovals[e.id])throw new _.ApprovalRequestNotFoundError(e.id);this.update((t=>{t.pendingApprovals[e.id].requestState=e.requestState}))}startFlow(e={}){var t,r;const n=null!==(t=e.id)&&void 0!==t?t:(0,w.nanoid)(),i=null!==(r=e.loadingText)&&void 0!==r?r:null;return this.update((e=>{e.approvalFlows.push({id:n,loadingText:i})})),y(this,o,"f").call(this),{id:n,loadingText:i}}endFlow({id:e}){if(!this.state.approvalFlows.length)throw new _.NoApprovalFlowsError;if(e!==this.state.approvalFlows.slice(-1)[0].id)throw new _.EndInvalidFlowError(e,this.state.approvalFlows.map((e=>e.id)));this.update((e=>{e.approvalFlows.pop()}))}setFlowLoadingText({id:e,loadingText:t}){const r=this.state.approvalFlows.findIndex((t=>t.id===e));if(-1===r)throw new _.MissingApprovalFlowError(e);this.update((e=>{e.approvalFlows[r].loadingText=t}))}success(e={}){return m(this,void 0,void 0,(function*(){return yield y(this,n,"m",p).call(this,r.APPROVAL_TYPE_RESULT_SUCCESS,e,{message:e.message,header:e.header}),{}}))}error(e={}){return m(this,void 0,void 0,(function*(){return yield y(this,n,"m",p).call(this,r.APPROVAL_TYPE_RESULT_ERROR,e,{error:e.error,header:e.header}),{}}))}}r.ApprovalController=T,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakSet,c=function(e,t,r=(0,w.nanoid)(),s,o,c){if(y(this,n,"m",u).call(this,r,e,t,s,o),!y(this,a,"f").includes(t)&&this.has({origin:e,type:t}))throw b.ethErrors.rpc.resourceUnavailable(((e,t)=>`Request of type '${t}' already pending for origin ${e}. Please wait.`)(e,t));return new Promise(((a,u)=>{y(this,i,"f").set(r,{resolve:a,reject:u}),y(this,n,"m",l).call(this,e,t),y(this,n,"m",f).call(this,r,e,t,s,o,c)}))},u=function(e,t,r,n,s){let o=null;if(e&&"string"==typeof e?y(this,i,"f").has(e)?o=`Approval request with id '${e}' already exists.`:t&&"string"==typeof t?r&&"string"==typeof r?n&&("object"!=typeof n||Array.isArray(n))?o="Request data must be a plain object if specified.":s&&("object"!=typeof s||Array.isArray(s))&&(o="Request state must be a plain object if specified."):o="Must specify non-empty string type.":o="Must specify non-empty string origin.":o="Must specify non-empty string id.",o)throw b.ethErrors.rpc.internal(o)},l=function(e,t){let r=y(this,s,"f").get(e);r||(r=new Map,y(this,s,"f").set(e,r));const n=r.get(t)||0;r.set(t,n+1)},f=function(e,t,r,n,i,s){const o={id:e,origin:t,type:r,time:Date.now(),requestData:n||null,requestState:i||null,expectsResult:s||!1};this.update((t=>{t.pendingApprovals[e]=o,t.pendingApprovalCount=Object.keys(t.pendingApprovals).length}))},d=function(e){y(this,i,"f").delete(e);const{origin:t,type:r}=this.state.pendingApprovals[e],n=y(this,s,"f").get(t),o=this.getApprovalCount({origin:t}),a=n.get(r);1===o?y(this,s,"f").delete(t):n.set(r,a-1),this.update((t=>{delete t.pendingApprovals[e],t.pendingApprovalCount=Object.keys(t.pendingApprovals).length}))},h=function(e){const t=y(this,i,"f").get(e);if(!t)throw new _.ApprovalRequestNotFoundError(e);return y(this,n,"m",d).call(this,e),t},p=function(e,t,n){return m(this,void 0,void 0,(function*(){try{yield this.addAndShowApprovalRequest({origin:r.ORIGIN_METAMASK,type:e,requestData:n})}catch(e){console.info("Failed to display result page",e)}finally{if(t.flowToEnd)try{this.endFlow({id:t.flowToEnd})}catch(e){console.info("Failed to end flow",{id:t.flowToEnd,error:e})}}}))},r.default=T}}},{package:"@metamask/approval-controller",file:"node_modules/@metamask/approval-controller/dist/ApprovalController.js"}],[1075,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingApprovalFlowError=r.EndInvalidFlowError=r.NoApprovalFlowsError=r.ApprovalRequestNoResultSupportError=r.ApprovalRequestNotFoundError=void 0;class n extends Error{constructor(e){super(`Approval request with id '${e}' not found.`)}}r.ApprovalRequestNotFoundError=n;class i extends Error{constructor(e){super(`Approval acceptance requested result but request with id '${e}' does not support it.`)}}r.ApprovalRequestNoResultSupportError=i;class s extends Error{constructor(){super("No approval flows found.")}}r.NoApprovalFlowsError=s;class o extends Error{constructor(e,t){super(`Attempted to end flow with id '${e}' which does not match current flow with id '${t.slice(-1)[0]}'. All Flows: ${t.join(", ")}`)}}r.EndInvalidFlowError=o;class a extends Error{constructor(e){super(`No approval flows found with id '${e}'.`)}}r.MissingApprovalFlowError=a}}},{package:"@metamask/approval-controller",file:"node_modules/@metamask/approval-controller/dist/errors.js"}],[1076,{"./ApprovalController":1074,"./errors":1075},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./ApprovalController"),r),i(e("./errors"),r)}}},{package:"@metamask/approval-controller",file:"node_modules/@metamask/approval-controller/dist/index.js"}],[1077,{"./url-alphabet/index.cjs":1078},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let{urlAlphabet:n}=e("./url-alphabet/index.cjs"),i=e=>crypto.getRandomValues(new Uint8Array(e)),s=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(s=t)=>{let o="";for(;;){let t=r(i),a=i;for(;a--;)if(o+=e[t[a]&n]||"",o.length===s)return o}}};t.exports={nanoid:(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""),customAlphabet:(e,t=21)=>s(e,t,i),customRandom:s,urlAlphabet:n,random:i}}}},{package:"@metamask/approval-controller>nanoid",file:"node_modules/@metamask/approval-controller/node_modules/nanoid/index.browser.cjs"}],[1078,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"@metamask/approval-controller>nanoid",file:"node_modules/@metamask/approval-controller/node_modules/nanoid/url-alphabet/index.cjs"}],[108,{"../../../shared/constants/transaction":4770,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");r.default={version:17,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=17;try{const e=function(e){const t=e,{TransactionController:r}=t;if(r&&r.transactions){const{transactions:e}=t.TransactionController;t.TransactionController.transactions=e.map((e=>(!e.status===i.TransactionStatus.failed||e.retryCount>0&&e.retryCount<2&&(e.status=i.TransactionStatus.submitted,delete e.err),e)))}return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #17${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/017.js"}],[109,{"../controllers/transactions/lib/tx-state-history-helpers":31,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../controllers/transactions/lib/tx-state-history-helpers");r.default={version:18,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=18;try{const e=function(e){const t=e,{TransactionController:r}=t;if(r&&r.transactions){const{transactions:e}=t.TransactionController;t.TransactionController.transactions=e.map((e=>{if(!e.history||0===e.history.length){const t=(0,i.snapshotFromTxMeta)(e);return e.history=[t],e}const t=(0,i.migrateFromSnapshotsToDiffs)(e.history).filter((e=>!Array.isArray(e)||e.length>0));return e.history=t,e}))}return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #18${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/018.js"}],[11,{"../../../shared/constants/metametrics":4758,"../../../shared/constants/network":4759,"../../../shared/constants/time":4768,"../../../shared/constants/tokens":4769,"../../../shared/constants/transaction":4770,"../../../shared/modules/network.utils":4791,"../../../shared/modules/string-utils":4797,loglevel:4083},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("loglevel"),i=e("../../../shared/constants/time"),s=e("../../../shared/constants/network"),o=e("../../../shared/constants/tokens"),a=e("../../../shared/modules/network.utils"),c=e("../../../shared/modules/string-utils"),u=e("../../../shared/constants/transaction"),l=e("../../../shared/constants/metametrics");function f(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}const d=3*i.MINUTE;var h=new WeakSet;function p(){const{isUnlocked:e}=this.messenger.call("KeyringController:getState");this.isUnlocked=e,this.messenger.subscribe("KeyringController:unlock",(()=>{this.isUnlocked=!0,this.restartTokenDetection()})),this.messenger.subscribe("KeyringController:lock",(()=>{this.isUnlocked=!1}))}r.default=class{constructor({messenger:e,interval:t=d,preferences:r,network:n,tokenList:i,tokensController:s,assetsContractController:o=null,trackMetaMetricsEvent:a}={}){var c,u,l,m,g;f(this,h),this.messenger=e,this.assetsContractController=o,this.tokensController=s,this.preferences=r,this.interval=t,this.network=n,this.tokenList=i,this.useTokenDetection=null===(c=this.preferences)||void 0===c?void 0:c.store.getState().useTokenDetection,this.selectedAddress=null===(u=this.preferences)||void 0===u?void 0:u.store.getState().selectedAddress,this.tokenAddresses=null===(l=this.tokensController)||void 0===l?void 0:l.state.tokens.map((e=>e.address)),this.hiddenTokens=null===(m=this.tokensController)||void 0===m?void 0:m.state.ignoredTokens,this.detectedTokens=null===(g=this.tokensController)||void 0===g?void 0:g.state.detectedTokens,this.chainId=this.getChainIdFromNetworkStore(),this._trackMetaMetricsEvent=a,null==r||r.store.subscribe((({selectedAddress:e,useTokenDetection:t})=>{this.selectedAddress===e&&this.useTokenDetection===t||(this.selectedAddress=e,this.useTokenDetection=t,this.restartTokenDetection({selectedAddress:e}))})),null==s||s.subscribe((({tokens:e=[],ignoredTokens:t=[],detectedTokens:r=[]})=>{this.tokenAddresses=e.map((e=>e.address)),this.hiddenTokens=t,this.detectedTokens=r})),e.subscribe("NetworkController:stateChange",(()=>{if(this.chainId!==this.getChainIdFromNetworkStore()){const e=this.getChainIdFromNetworkStore();this.chainId=e,this.restartTokenDetection({chainId:this.chainId})}})),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(this,h,p).call(this)}async detectNewTokens({selectedAddress:e,chainId:t}={}){const r=e??this.selectedAddress,i=t??this.getChainIdFromNetworkStore();if(!this.isActive)return;if(!(0,a.isTokenDetectionEnabledForNetwork)(i))return;if(!this.useTokenDetection&&i!==s.CHAIN_IDS.MAINNET)return;const f=!this.useTokenDetection&&i===s.CHAIN_IDS.MAINNET,{tokenList:d}=this._tokenList.state,h=f?o.STATIC_MAINNET_TOKEN_LIST:d,p=[];for(const e in h)this.tokenAddresses.find((t=>(0,c.isEqualCaseInsensitive)(t,e)))||this.hiddenTokens.find((t=>(0,c.isEqualCaseInsensitive)(t,e)))||this.detectedTokens.find((({address:t})=>(0,c.isEqualCaseInsensitive)(t,e)))||p.push(e);const m=[p.slice(0,1e3),p.slice(1e3,p.length-1)];for(const e of m){let t;try{t=await this.assetsContractController.getBalancesInSingleCall(r,e)}catch(e){return void(0,n.warn)("MetaMask - DetectTokensController single call balance fetch failed",e)}const s=[],o=[];if(t){const e=Object.keys(t);for(const t of e){const{address:e,symbol:r,decimals:n}=h[t];o.push(`${r} - ${e}`),s.push({address:e,symbol:r,decimals:n})}s.length>0&&(this._trackMetaMetricsEvent({event:l.MetaMetricsEventName.TokenDetected,category:l.MetaMetricsEventCategory.Wallet,properties:{tokens:o,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token}}),await this.tokensController.addDetectedTokens(s,{selectedAddress:r,chainId:i}))}}}restartTokenDetection({selectedAddress:e,chainId:t}={}){const r=e??this.selectedAddress,n=t??this.chainId;this.isActive&&r&&(this.detectNewTokens({selectedAddress:r,chainId:n}),this.interval=d)}getChainIdFromNetworkStore(){var e;return null===(e=this.network)||void 0===e?void 0:e.state.providerConfig.chainId}set interval(e){this._handle&&clearInterval(this._handle),e&&(this._handle=setInterval((()=>{this.detectNewTokens()}),e))}set tokenList(e){e&&(this._tokenList=e)}get isActive(){return this.isOpen&&this.isUnlocked}}}}},{package:"$root$",file:"app/scripts/controllers/detect-tokens.js"}],[110,{"../../../shared/constants/transaction":4770,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");r.default={version:19,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=19;try{const e=function(e){const t=e,{TransactionController:r}=t;if(r&&r.transactions){const{transactions:e}=t.TransactionController;t.TransactionController.transactions=e.map(((e,t,r)=>{if(e.status!==i.TransactionStatus.submitted)return e;const n=function(e){const t=e.map((e=>{const{nonce:t}=e.txParams;return parseInt(t||"0x0",16)}));return Math.max.apply(null,t)}(r.filter((e=>e.status===i.TransactionStatus.confirmed)).filter((t=>t.txParams.from===e.txParams.from)).filter((t=>t.metamaskNetworkId.from===e.metamaskNetworkId.from))),s=function(e,t){const r=e.map((e=>{const{nonce:t}=e.txParams;return parseInt(t,16)}));let n=t;for(;r.includes(n);)n+=1;return n}(r.filter((e=>e.status===i.TransactionStatus.submitted)).filter((t=>t.txParams.from===e.txParams.from)).filter((t=>t.metamaskNetworkId.from===e.metamaskNetworkId.from)),n),o=Math.max(s,n);return parseInt(e.txParams.nonce,16)>o+1&&(e.status=i.TransactionStatus.failed,e.err={message:"nonce too high",note:"migration 019 custom error"}),e}))}return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #19${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/019.js"}],[111,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:20,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=20;try{const e=function(e){const t=e;"metamask"in t&&!("firstTimeInfo"in t.metamask)&&(t.metamask.firstTimeInfo={version:"3.12.0",date:Date.now()});return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #20${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/020.js"}],[112,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:21,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=21;try{const e=function(e){const t=e;return delete t.BlacklistController,delete t.RecentBlocks,t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #21${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/021.js"}],[1120,{buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.generateSalt=r.serializeBufferForStorage=r.serializeBufferFromStorage=r.keyFromPassword=r.exportKey=r.importKey=r.decryptWithKey=r.decryptWithDetail=r.decrypt=r.encryptWithKey=r.encryptWithDetail=r.encrypt=void 0;const t="jwk",n="AES-GCM",i="utf-8";async function s(e,t,r,n=f()){const i=r||await l(e,n),s=await o(i,t);return s.salt=n,JSON.stringify(s)}async function o(t,r){const s=JSON.stringify(r),o=e.from(s,i),a=global.crypto.getRandomValues(new Uint8Array(16)),c=await global.crypto.subtle.encrypt({name:n,iv:a},t,o),u=new Uint8Array(c),l=e.from(a).toString("base64");return{data:e.from(u).toString("base64"),iv:l}}async function a(e,t,r){const n=JSON.parse(t),{salt:i}=n,s=r||await l(e,i);return await c(s,n)}async function c(t,r){const s=e.from(r.data,"base64"),o=e.from(r.iv,"base64");let a;try{const r=await crypto.subtle.decrypt({name:n,iv:o},t,s),c=new Uint8Array(r),u=e.from(c).toString(i);a=JSON.parse(u)}catch(e){throw new Error("Incorrect password")}return a}async function u(e){const r=await window.crypto.subtle.exportKey(t,e);return JSON.stringify(r)}async function l(t,r,s=!1){const o=e.from(t,i),a=e.from(r,"base64"),c=await global.crypto.subtle.importKey("raw",o,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return await global.crypto.subtle.deriveKey({name:"PBKDF2",salt:a,iterations:1e4,hash:"SHA-256"},c,{name:n,length:256},s,["encrypt","decrypt"])}function f(e=32){const t=new Uint8Array(e);global.crypto.getRandomValues(t);return btoa(String.fromCharCode.apply(null,t))}r.encrypt=s,r.encryptWithDetail=async function(e,t,r=f()){const n=await l(e,r,!0),i=await u(n);return{vault:await s(e,t,n,r),exportedKeyString:i}},r.encryptWithKey=o,r.decrypt=a,r.decryptWithDetail=async function(e,t){const r=JSON.parse(t),{salt:n}=r,i=await l(e,n,!0);return{exportedKeyString:await u(i),vault:await a(e,t,i),salt:n}},r.decryptWithKey=c,r.importKey=async function(e){return await window.crypto.subtle.importKey(t,JSON.parse(e),n,!0,["encrypt","decrypt"])},r.exportKey=u,r.keyFromPassword=l,r.serializeBufferFromStorage=function(e){const t="0x"===e.slice(0,2)?e.slice(2):e,r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){const n=t.substr(e,2);r[e/2]=parseInt(n,16)}return r},r.serializeBufferForStorage=function(e){let t="0x";return e.forEach((e=>{t+=function(e){let t=e.toString(16);for(;t.length<2;)t=`0${t}`;return t}(e)})),t},r.generateSalt=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/browser-passworder",file:"node_modules/@metamask/browser-passworder/dist/index.js"}],[113,{"../../../shared/constants/transaction":4770,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");r.default={version:22,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=22;try{const e=function(e){const t=e,{TransactionController:r}=t;if(r&&r.transactions){const{transactions:e}=t.TransactionController;t.TransactionController.transactions=e.map((e=>(e.status!==i.TransactionStatus.submitted||e.submittedTime||(e.submittedTime=(new Date).getTime()),e)))}return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #22${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/022.js"}],[114,{"../../../shared/constants/transaction":4770,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");r.default={version:23,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=23;try{const e=function(e){const t=e,{TransactionController:r}=t;if(r&&r.transactions){const{transactions:e}=t.TransactionController;if(e.length<=40)return t;const r=e.reverse();let n=!0;for(;r.length>40&&n;){const e=r.findIndex((e=>e.status===i.TransactionStatus.failed||e.status===i.TransactionStatus.rejected||e.status===i.TransactionStatus.confirmed||e.status===i.TransactionStatus.dropped));e<0?n=!1:r.splice(e,1)}t.TransactionController.transactions=r.reverse()}return t}(t.data);t.data=e}catch(e){console.warn(`MetaMask Migration #23${e.stack}`)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/023.js"}],[1148,{"@ethereumjs/util":410,"@metamask/eth-sig-util":1264,"@metamask/scure-bip39":1778,"@metamask/scure-bip39/dist/wordlists/english":1779,buffer:2913,"ethereum-cryptography/hdkey":1160,"ethereum-cryptography/keccak":1161,"ethereum-cryptography/utils":1167},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){const{HDKey:n}=e("ethereum-cryptography/hdkey"),{keccak256:i}=e("ethereum-cryptography/keccak"),{bytesToHex:s}=e("ethereum-cryptography/utils"),{stripHexPrefix:o,privateToPublic:a,publicToAddress:c,ecsign:u,arrToBufArr:l,bufferToHex:f}=e("@ethereumjs/util"),d=e("@metamask/scure-bip39"),{wordlist:h}=e("@metamask/scure-bip39/dist/wordlists/english"),{concatSig:p,decrypt:m,getEncryptionPublicKey:g,normalize:y,personalSign:b,signTypedData:w,SignTypedDataVersion:k}=e("@metamask/eth-sig-util"),_="HD Key Tree";class v{constructor(e={}){this.type=_,this._wallets=[],this.deserialize(e)}generateRandomMnemonic(){this._initFromMnemonic(d.generateMnemonic(h))}_uint8ArrayToString(e){return Array.from(new Uint16Array(new Uint8Array(e).buffer)).map((e=>h[e])).join(" ")}_stringToUint8Array(e){const t=e.split(" ").map((e=>h.indexOf(e)));return new Uint8Array(new Uint16Array(t).buffer)}_mnemonicToUint8Array(e){let t=e;if(e&&e.type&&"Buffer"===e.type&&(t=e.data),"string"==typeof t||r.isBuffer(t)||Array.isArray(t)){let e=t;return Array.isArray(t)?e=r.from(t).toString():r.isBuffer(t)&&(e=t.toString()),this._stringToUint8Array(e)}return t instanceof Object&&!(t instanceof Uint8Array)?Uint8Array.from(Object.values(t)):t}serialize(){const e=this._uint8ArrayToString(this.mnemonic),t=new TextEncoder("utf-8").encode(e);return Promise.resolve({mnemonic:Array.from(t),numberOfAccounts:this._wallets.length,hdPath:this.hdPath})}deserialize(e={}){if(e.numberOfAccounts&&!e.mnemonic)throw new Error("Eth-Hd-Keyring: Deserialize method cannot be called with an opts value for numberOfAccounts and no menmonic");if(this.root)throw new Error("Eth-Hd-Keyring: Secret recovery phrase already provided");return this.opts=e,this._wallets=[],this.mnemonic=null,this.root=null,this.hdPath=e.hdPath||"m/44'/60'/0'/0",e.mnemonic&&this._initFromMnemonic(e.mnemonic),e.numberOfAccounts?this.addAccounts(e.numberOfAccounts):Promise.resolve([])}addAccounts(e=1){if(!this.root)throw new Error("Eth-Hd-Keyring: No secret recovery phrase provided");const t=this._wallets.length,r=[];for(let n=t;n<e+t;n++){const e=this.root.deriveChild(n);r.push(e),this._wallets.push(e)}const n=r.map((e=>this._addressfromPublicKey(e.publicKey)));return Promise.resolve(n)}getAccounts(){return this._wallets.map((e=>this._addressfromPublicKey(e.publicKey)))}async getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");const r=this._getWalletForAccount(e,{withAppKeyOrigin:t});return y(c(r.publicKey).toString("hex"))}async exportAccount(e,t={}){const r=this._getWalletForAccount(e,t);return s(r.privateKey)}async signTransaction(e,t,r={}){const n=this._getPrivateKeyFor(e,r),i=t.sign(n);return i===undefined?t:i}async signMessage(e,t,n={}){const i=o(t),s=this._getPrivateKeyFor(e,n),a=u(r.from(i,"hex"),s);return p(a.v,a.r,a.s)}async signPersonalMessage(e,t,n={}){const i=this._getPrivateKeyFor(e,n),s=r.from(i,"hex");return b({privateKey:s,data:t})}async decryptMessage(e,t){const n=this._getWalletForAccount(e),{privateKey:i}=n,s=r.from(i).toString("hex");return m({privateKey:s,encryptedData:t})}async signTypedData(e,t,r={version:k.V1}){const n=Object.keys(k).includes(r.version)?r.version:k.V1,i=this._getPrivateKeyFor(e,r);return w({privateKey:i,data:t,version:n})}removeAccount(e){const t=y(e);if(!this._wallets.map((({publicKey:e})=>this._addressfromPublicKey(e))).includes(t))throw new Error(`Address ${t} not found in this keyring`);this._wallets=this._wallets.filter((({publicKey:e})=>this._addressfromPublicKey(e)!==t))}async getEncryptionPublicKey(e,t={}){const r=this._getPrivateKeyFor(e,t);return g(r)}_getPrivateKeyFor(e,t={}){if(!e)throw new Error("Must specify address.");return this._getWalletForAccount(e,t).privateKey}_getWalletForAccount(e,t={}){const n=y(e);let s=this._wallets.find((({publicKey:e})=>this._addressfromPublicKey(e)===n));if(!s)throw new Error("HD Keyring - Unable to find matching address.");if(t.withAppKeyOrigin){const{privateKey:e}=s,n=r.from(t.withAppKeyOrigin,"utf8"),o=r.concat([e,n]),c=l(i(o,256));s={privateKey:c,publicKey:a(c)}}return s}_initFromMnemonic(e){if(this.root)throw new Error("Eth-Hd-Keyring: Secret recovery phrase already provided");this.mnemonic=this._mnemonicToUint8Array(e);if(!d.validateMnemonic(this.mnemonic,h))throw new Error("Eth-Hd-Keyring: Invalid secret recovery phrase provided");const t=d.mnemonicToSeedSync(this.mnemonic,h);this.hdWallet=n.fromMasterSeed(t),this.root=this.hdWallet.derive(this.hdPath)}_addressfromPublicKey(e){return f(c(r.from(e),!0)).toLowerCase()}}v.type=_,t.exports=v}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring",file:"node_modules/@metamask/eth-hd-keyring/index.js"}],[1149,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function s(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){s(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=void 0,r.number=n,r.bool=i,r.bytes=s,r.hash=o,r.exists=a,r.output=c;const u={number:n,bool:i,bytes:s,hash:o,exists:a,output:c};r.default=u}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/_assert.js"}],[115,{"../../../shared/constants/transaction":4770,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");r.default={version:24,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=24;const r=function(e){const t=e;if(!t.TransactionController)return t;const{transactions:r}=t.TransactionController;return t.TransactionController.transactions=r.map(((e,t)=>(e.status===i.TransactionStatus.unapproved&&e.txParams&&e.txParams.from&&(e.txParams.from=e.txParams.from.toLowerCase()),e))),t}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/024.js"}],[1150,{"./_assert.js":1149,"./utils.js":1157},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SHA2=void 0;const n=e("./_assert.js"),i=e("./utils.js");class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){n.default.exists(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){n.default.exists(this),n.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.createView)(e);this.get().forEach(((e,t)=>c.setUint32(4*t,e,o)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}r.SHA2=s}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/_sha2.js"}],[1151,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;r.toBig=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);function a(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.add=a;const c={fromBig:s,split:o,toBig:r.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:a,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};r.default=c}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/_u64.js"}],[1152,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto={node:undefined,web:"object"==typeof self&&"crypto"in self?self.crypto:undefined}}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/cryptoBrowser.js"}],[1153,{"./_assert.js":1149,"./utils.js":1157},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=void 0;const n=e("./_assert.js"),i=e("./utils.js");class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,n.default.hash(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return n.default.exists(this),this.iHash.update(e),this}digestInto(e){n.default.exists(this),n.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.hmac=(e,t,r)=>new s(e,t).update(r).digest(),r.hmac.create=(e,t)=>new s(e,t)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/hmac.js"}],[1154,{"./_sha2.js":1150,"./utils.js":1157},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ripemd160=r.RIPEMD160=void 0;const n=e("./_sha2.js"),i=e("./utils.js"),s=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),o=Uint8Array.from({length:16},((e,t)=>t)),a=o.map((e=>(9*e+5)%16));let c=[o],u=[a];for(let e=0;e<4;e++)for(let t of[c,u])t.push(t[e].map((e=>s[e])));const l=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),f=c.map(((e,t)=>e.map((e=>l[t][e])))),d=u.map(((e,t)=>e.map((e=>l[t][e])))),h=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),p=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),m=(e,t)=>e<<t|e>>>32-t;function g(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const y=new Uint32Array(16);class b extends n.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)y[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,s=i,o=0|this.h2,a=o,l=0|this.h3,b=l,w=0|this.h4,k=w;for(let e=0;e<5;e++){const t=4-e,_=h[e],v=p[e],E=c[e],T=u[e],S=f[e],A=d[e];for(let t=0;t<16;t++){const n=m(r+g(e,i,o,l)+y[E[t]]+_,S[t])+w|0;r=w,w=l,l=0|m(o,10),o=i,i=n}for(let e=0;e<16;e++){const r=m(n+g(t,s,a,b)+y[T[e]]+v,A[e])+k|0;n=k,k=b,b=0|m(a,10),a=s,s=r}}this.set(this.h1+o+b|0,this.h2+l+k|0,this.h3+w+n|0,this.h4+r+s|0,this.h0+i+a|0)}roundClean(){y.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}r.RIPEMD160=b,r.ripemd160=(0,i.wrapConstructor)((()=>new b))}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/ripemd160.js"}],[1155,{"./_sha2.js":1150,"./utils.js":1157},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=void 0;const n=e("./_sha2.js"),i=e("./utils.js"),s=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;c[e]=s+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:a,D:u,E:l,F:f,G:d,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&f^~p&d)+o[e]+c[e]|0,m=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,a)|0;h=d,d=f,f=l,l=u+t|0,u=a,a=n,n=r,r=t+m|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,f=f+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,n,a,u,l,f,d,h)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}r.sha256=(0,i.wrapConstructor)((()=>new u))}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/sha256.js"}],[1156,{"./_sha2.js":1150,"./_u64.js":1151,"./utils.js":1157},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha384=r.sha512_256=r.sha512=r.SHA512=void 0;const n=e("./_sha2.js"),i=e("./_u64.js"),s=e("./utils.js"),[o,a]=i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),c=new Uint32Array(80),u=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:f,Gh:d,Gl:h,Hh:p,Hl:m}=this;return[e,t,r,n,i,s,o,a,c,u,l,f,d,h,p,m]}set(e,t,r,n,i,s,o,a,c,u,l,f,d,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|u[e-15],n=i.default.rotrSH(t,r,1)^i.default.rotrSH(t,r,8)^i.default.shrSH(t,r,7),s=i.default.rotrSL(t,r,1)^i.default.rotrSL(t,r,8)^i.default.shrSL(t,r,7),o=0|c[e-2],a=0|u[e-2],l=i.default.rotrSH(o,a,19)^i.default.rotrBH(o,a,61)^i.default.shrSH(o,a,6),f=i.default.rotrSL(o,a,19)^i.default.rotrBL(o,a,61)^i.default.shrSL(o,a,6),d=i.default.add4L(s,f,u[e-7],u[e-16]),h=i.default.add4H(d,n,l,c[e-7],c[e-16]);c[e]=0|h,u[e]=0|d}let{Ah:r,Al:n,Bh:s,Bl:l,Ch:f,Cl:d,Dh:h,Dl:p,Eh:m,El:g,Fh:y,Fl:b,Gh:w,Gl:k,Hh:_,Hl:v}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(m,g,14)^i.default.rotrSH(m,g,18)^i.default.rotrBH(m,g,41),E=i.default.rotrSL(m,g,14)^i.default.rotrSL(m,g,18)^i.default.rotrBL(m,g,41),T=m&y^~m&w,S=g&b^~g&k,A=i.default.add5L(v,E,S,a[e],u[e]),I=i.default.add5H(A,_,t,T,o[e],c[e]),P=0|A,x=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),j=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),N=r&s^r&f^s&f,C=n&l^n&d^l&d;_=0|w,v=0|k,w=0|y,k=0|b,y=0|m,b=0|g,({h:m,l:g}=i.default.add(0|h,0|p,0|I,0|P)),h=0|f,p=0|d,f=0|s,d=0|l,s=0|r,l=0|n;const B=i.default.add3L(P,j,C);r=i.default.add3H(B,I,x,N),n=0|B}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:l}=i.default.add(0|this.Bh,0|this.Bl,0|s,0|l)),({h:f,l:d}=i.default.add(0|this.Ch,0|this.Cl,0|f,0|d)),({h:h,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|h,0|p)),({h:m,l:g}=i.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:b}=i.default.add(0|this.Fh,0|this.Fl,0|y,0|b)),({h:w,l:k}=i.default.add(0|this.Gh,0|this.Gl,0|w,0|k)),({h:_,l:v}=i.default.add(0|this.Hh,0|this.Hl,0|_,0|v)),this.set(r,n,s,l,f,d,h,p,m,g,y,b,w,k,_,v)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}r.SHA512=l;class f extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}r.sha512=(0,s.wrapConstructor)((()=>new l)),r.sha512_256=(0,s.wrapConstructor)((()=>new f)),r.sha384=(0,s.wrapConstructor)((()=>new d))}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/sha512.js"}],[1157,{"@noble/hashes/crypto":1152},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const n=e("@noble/hashes/crypto");r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.rotr=(e,t)=>e<<32-t|e>>>t,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!r.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));r.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t},r.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t};function s(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=s(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=s,r.toBytes=o,r.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};r.checkOpts=function(e,t){if(t!==undefined&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(e));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/hashes/utils.js"}],[1158,{crypto:2864},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.utils=r.schnorr=r.verify=r.signSync=r.sign=r.getSharedSecret=r.recoverPublicKey=r.getPublicKey=r.Signature=r.Point=r.CURVE=void 0;const n=e("crypto"),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),c=BigInt(8),u=o**BigInt(256),l={a:i,b:BigInt(7),P:u-o**BigInt(32)-BigInt(977),n:u-BigInt("432420386565659656852420866394968145599"),h:s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function f(e){const{a:t,b:r}=l,n=N(e*e),i=N(n*e);return N(i+t*e+r)}r.CURVE=l;const d=l.a===i;class h{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof m))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new h(e.x,e.y,s)}static toAffineBatch(e){const t=function(e,t=l.P){const r=new Array(e.length),n=B(e.reduce(((e,n,s)=>n===i?e:(r[s]=e,N(e*n,t))),s),t);return e.reduceRight(((e,n,s)=>n===i?e:(r[s]=N(e*r[s],t),N(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return h.toAffineBatch(e).map(h.fromAffine)}equals(e){if(!(e instanceof h))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:n}=this,{x:i,y:s,z:a}=e,c=N(n**o),u=N(a**o),l=N(t*u),f=N(i*c),d=N(N(r*a)*u),p=N(N(s*n)*c);return l===f&&d===p}negate(){return new h(this.x,N(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=N(e**o),i=N(t**o),s=N(i**o),u=N(o*(N((e+i)**o)-n-s)),l=N(a*n),f=N(l**o),d=N(f-o*u),p=N(l*(u-d)-c*s),m=N(o*t*r);return new h(d,p,m)}add(e){if(!(e instanceof h))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:n}=this,{x:s,y:a,z:c}=e;if(s===i||a===i)return this;if(t===i||r===i)return e;const u=N(n**o),l=N(c**o),f=N(t*l),d=N(s*u),p=N(N(r*c)*l),m=N(N(a*n)*u),g=N(d-f),y=N(m-p);if(g===i)return y===i?this.double():h.ZERO;const b=N(g**o),w=N(g*b),k=N(f*b),_=N(y**o-w-o*k),v=N(y*(k-_)-p*w),E=N(n*c*g);return new h(_,v,E)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=h.ZERO;if("bigint"==typeof e&&e===i)return t;let r=j(e);if(r===s)return this;if(!d){let e=t,n=this;for(;r>i;)r&s&&(e=e.add(n)),n=n.double(),r>>=s;return e}let{k1neg:n,k1:o,k2neg:a,k2:c}=M(r),u=t,f=t,p=this;for(;o>i||c>i;)o&s&&(u=u.add(p)),c&s&&(f=f.add(p)),p=p.double(),o>>=s,c>>=s;return n&&(u=u.negate()),a&&(f=f.negate()),f=new h(N(f.x*l.beta),f.y,f.z),u.add(f)}precomputeWindow(e){const t=d?128/e+1:256/e+1,r=[];let n=this,i=n;for(let s=0;s<t;s++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(h.BASE)&&(t=m.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&p.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=h.normalizeZ(n),p.set(t,n)));let i=h.ZERO,o=h.ZERO;const a=1+(d?128/r:256/r),c=2**(r-1),u=BigInt(2**r-1),l=2**r,f=BigInt(r);for(let t=0;t<a;t++){const r=t*c;let a=Number(e&u);if(e>>=f,a>c&&(a-=l,e+=s),0===a){let e=n[r];t%2&&(e=e.negate()),o=o.add(e)}else{let e=n[r+Math.abs(a)-1];a<0&&(e=e.negate()),i=i.add(e)}}return{p:i,f:o}}multiply(e,t){let r,n,i=j(e);if(d){const{k1neg:e,k1:s,k2neg:o,k2:a}=M(i);let{p:c,f:u}=this.wNAF(s,t),{p:f,f:d}=this.wNAF(a,t);e&&(c=c.negate()),o&&(f=f.negate()),f=new h(N(f.x*l.beta),f.y,f.z),r=c.add(f),n=u.add(d)}else{const{p:e,f:s}=this.wNAF(i,t);r=e,n=s}return h.normalizeZ([r,n])[0]}toAffine(e=B(this.z)){const{x:t,y:r,z:n}=this,i=e,o=N(i*i),a=N(o*i),c=N(t*o),u=N(r*a);if(N(n*i)!==s)throw new Error("invZ was invalid");return new m(c,u)}}h.BASE=new h(l.Gx,l.Gy,s),h.ZERO=new h(i,s,i);const p=new WeakMap;class m{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,p.delete(this)}static fromCompressedHex(e){const t=32===e.length,r=P(t?e:e.subarray(1));if(!H(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=l,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),c=BigInt(44),u=BigInt(88),f=e*e*e%t,d=f*f*e%t,h=C(d,a)*d%t,p=C(h,a)*d%t,m=C(p,o)*f%t,g=C(m,n)*m%t,y=C(g,i)*g%t,b=C(y,c)*y%t,w=C(b,u)*b%t,k=C(w,c)*y%t,_=C(k,a)*d%t,v=C(_,s)*g%t,E=C(v,r)*f%t;return C(E,o)}(f(r));const i=(n&s)===s;if(t)i&&(n=N(-n));else{1==(1&e[0])!==i&&(n=N(-n))}const c=new m(r,n);return c.assertValidity(),c}static fromUncompressedHex(e){const t=P(e.subarray(1,33)),r=P(e.subarray(33,65)),n=new m(t,r);return n.assertValidity(),n}static fromHex(e){const t=x(e),r=t.length,n=t[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return m.BASE.multiply(U(e))}static fromSignature(e,t,r){const n=L(e=x(e)),{r:i,s:s}=$(t);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");const o=1&r?"03":"02",a=m.fromHex(o+E(i)),{n:c}=l,u=B(i,c),f=N(-n*u,c),d=N(s*u,c),h=m.BASE.multiplyAndAddUnsafe(a,f,d);if(!h)throw new Error("Cannot recover signature: point at infinify");return h.assertValidity(),h}toRawBytes(e=!1){return I(this.toHex(e))}toHex(e=!1){const t=E(this.x);if(e){return`${this.y&s?"03":"02"}${t}`}return`04${t}${E(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!H(t)||!H(r))throw new Error(e);const n=N(r*r);if(N(n-f(t))!==i)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new m(this.x,N(-this.y))}double(){return h.fromAffine(this).double().toAffine()}add(e){return h.fromAffine(this).add(h.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return h.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=h.fromAffine(this),o=t===i||t===s||this!==m.BASE?n.multiplyUnsafe(t):n.multiply(t),a=h.fromAffine(e).multiplyUnsafe(r),c=o.add(a);return c.equals(h.ZERO)?undefined:c.toAffine()}}function g(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function y(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${v(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:P(r),left:e.subarray(t+2)}}r.Point=m,m.BASE=new m(l.Gx,l.Gy),m.ZERO=new m(i,i);class b{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=k(e),r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?v(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new b(A(n.slice(0,64)),A(n.slice(64,128)))}static fromDER(e){const t=k(e);if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${v(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=y(e.subarray(2)),{data:n,left:i}=y(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${v(i)}`);return{r:t,s:n}}(t?e:I(e));return new b(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!D(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!D(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=l.n>>s;return this.s>e}normalizeS(){return this.hasHighS()?new b(this.r,l.n-this.s):this}toDERRawBytes(e=!1){return I(this.toDERHex(e))}toDERHex(e=!1){const t=g(S(this.s));if(e)return t;const r=g(S(this.r)),n=S(r.length/2),i=S(t.length/2);return`30${S(r.length/2+t.length/2+4)}02${n}${r}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return I(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}function w(...e){if(!e.every(k))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function k(e){return e instanceof Uint8Array}r.Signature=b;const _=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function v(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=_[e[r]];return t}function E(e){if(e>u)throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function T(e){return I(E(e))}function S(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function A(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function I(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function P(e){return A(v(e))}function x(e){return e instanceof Uint8Array?Uint8Array.from(e):I(e)}function j(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&D(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function N(e,t=l.P){const r=e%t;return r>=i?r:t+r}function C(e,t){const{P:r}=l;let n=e;for(;t-- >i;)n*=n,n%=r;return n}function B(e,t=l.P){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=N(e,t),n=t,o=i,a=s,c=s,u=i;for(;r!==i;){const e=n/r,t=n%r,i=o-c*e,s=a-u*e;n=r,r=t,o=c,a=u,c=i,u=s}if(n!==s)throw new Error("invert: does not exist");return N(o,t)}const R=(e,t)=>(e+t/o)/t,O=o**BigInt(128);function M(e){const{n:t}=l,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-s*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=R(o*e,t),c=R(-n*e,t);let u=N(e-a*r-c*i,t),f=N(-a*n-c*o,t);const d=u>O,h=f>O;if(d&&(u=t-u),h&&(f=t-f),u>O||f>O)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:f}}function L(e){const{n:t}=l,r=8*e.length-256;let n=P(e);return r>0&&(n>>=BigInt(r)),n>=t&&(n-=t),n}class K{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return r.utils.hmacSha256(this.k,...e)}hmacSync(...e){if("function"!=typeof r.utils.hmacSha256Sync)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");const t=r.utils.hmacSha256Sync(this.k,...e);if(t instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return t}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function D(e){return i<e&&e<l.n}function H(e){return i<e&&e<l.P}function V(e,t,r){const n=P(e);if(!D(n))return;const{n:o}=l,a=m.BASE.multiply(n),c=N(a.x,o);if(c===i)return;const u=N(B(n,o)*N(t+r*c,o),o);if(u===i)return;const f=new b(c,u);return{sig:f,recovery:(a.x===f.r?0:2)|Number(a.y&s)}}function U(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=A(e)}else{if(!k(e))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=P(e)}if(!D(t))throw new Error("Expected private key: 0 < key < n");return t}function F(e){return e instanceof m?(e.assertValidity(),e):m.fromHex(e)}function $(e){if(e instanceof b)return e.assertValidity(),e;try{return b.fromDER(e)}catch(t){return b.fromCompact(e)}}function J(e){const t=k(e),r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof m}function G(e){return P(e.length>32?e.slice(0,32):e)}function z(e){const t=G(e),r=N(t,l.n);return W(r<i?t:r)}function W(e){if("bigint"!=typeof e)throw new Error("Expected bigint");return I(E(e))}function Y(e,t,n){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const i=x(e),s=U(t),o=[W(s),z(i)];if(null!=n){!0===n&&(n=r.utils.randomBytes(32));const e=x(n);if(32!==e.length)throw new Error("sign: Expected 32 bytes of extra data");o.push(e)}return{seed:w(...o),m:G(i),d:s}}function q(e,t){let{sig:r,recovery:n}=e;const{canonical:i,der:s,recovered:o}=Object.assign({canonical:!0,der:!0},t);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);const a=s?r.toDERRawBytes():r.toCompactRawBytes();return o?[a,n]:a}r.getPublicKey=function(e,t=!1){return m.fromPrivateKey(e).toRawBytes(t)},r.recoverPublicKey=function(e,t,r,n=!1){return m.fromSignature(e,t,r).toRawBytes(n)},r.getSharedSecret=function(e,t,r=!1){if(J(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!J(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=F(t);return n.assertValidity(),n.multiply(U(e)).toRawBytes(r)},r.sign=async function(e,t,r={}){const{seed:n,m:i,d:s}=Y(e,t,r.extraEntropy);let o;const a=new K;for(await a.reseed(n);!(o=V(await a.generate(),i,s));)await a.reseed();return q(o,r)},r.signSync=function(e,t,r={}){const{seed:n,m:i,d:s}=Y(e,t,r.extraEntropy);let o;const a=new K;for(a.reseedSync(n);!(o=V(a.generateSync(),i,s));)a.reseedSync();return q(o,r)};const Z={strict:!0};function X(e){return N(P(e),l.n)}function Q(e){return(e.y&s)===i}r.verify=function(e,t,r,n=Z){let i;try{i=$(e),t=x(t)}catch(e){return!1}const{r:s,s:o}=i;if(n.strict&&i.hasHighS())return!1;const a=L(t);let c;try{c=F(r)}catch(e){return!1}const{n:u}=l,f=B(o,u),d=N(a*f,u),h=N(s*f,u),p=m.BASE.multiplyAndAddUnsafe(c,d,h);return!!p&&N(p.x,u)===s};class ee{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=x(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const r=P(t.subarray(0,32)),n=P(t.subarray(32,64));return new ee(r,n)}assertValidity(){const{r:e,s:t}=this;if(!H(e)||!D(t))throw new Error("Invalid signature")}toHex(){return E(this.r)+E(this.s)}toRawBytes(){return I(this.toHex())}}function te(e,t,r){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);const n=x(e),i=U(t),s=x(r);if(32!==s.length)throw new TypeError("sign: Expected 32 bytes of aux randomness");const o=m.fromPrivateKey(i),a=o.toRawX();return{m:n,P:o,px:a,d:Q(o)?i:l.n-i,rand:s}}function re(e,t){return T(e^P(t))}function ne(e){const t=N(P(e),l.n);if(t===i)throw new Error("sign: Creation of signature failed. k is zero");const r=m.fromPrivateKey(t),n=r.toRawX();return{R:r,rx:n,k:Q(r)?t:l.n-t}}function ie(e,t,r,n){return new ee(e.x,N(t+r*n,l.n)).toRawBytes()}function se(e,t,r){const n=e instanceof ee,i=n?e:ee.fromHex(e);return n&&i.assertValidity(),{...i,m:x(t),P:F(r)}}function oe(e,t,r,n){const i=m.BASE.multiplyAndAddUnsafe(t,U(r),N(-n,l.n));return!(!i||!Q(i)||i.x!==e)}async function ae(e,t,n){try{const{r:i,s:s,m:o,P:a}=se(e,t,n),c=X(await r.utils.taggedHash(le.challenge,T(i),a.toRawX(),o));return oe(i,a,s,c)}catch(e){return!1}}function ce(e,t,n){try{const{r:i,s:s,m:o,P:a}=se(e,t,n),c=X(r.utils.taggedHashSync(le.challenge,T(i),a.toRawX(),o));return oe(i,a,s,c)}catch(e){return!1}}r.schnorr={Signature:ee,getPublicKey:function(e){return m.fromPrivateKey(e).toRawX()},sign:async function(e,t,n=r.utils.randomBytes()){const{m:i,px:s,d:o,rand:a}=te(e,t,n),c=re(o,await r.utils.taggedHash(le.aux,a)),{R:u,rx:l,k:f}=ne(await r.utils.taggedHash(le.nonce,c,s,i)),d=ie(u,f,X(await r.utils.taggedHash(le.challenge,l,s,i)),o);if(!await ae(d,i,s))throw new Error("sign: Invalid signature produced");return d},verify:ae,signSync:function(e,t,n=r.utils.randomBytes()){const{m:i,px:s,d:o,rand:a}=te(e,t,n),c=re(o,r.utils.taggedHashSync(le.aux,a)),{R:u,rx:l,k:f}=ne(r.utils.taggedHashSync(le.nonce,c,s,i)),d=ie(u,f,X(r.utils.taggedHashSync(le.challenge,l,s,i)),o);if(!ce(d,i,s))throw new Error("sign: Invalid signature produced");return d},verifySync:ce},m.BASE._setWindowSize(8);const ue={node:n,web:"object"==typeof self&&"crypto"in self?self.crypto:undefined},le={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},fe={};r.utils={isValidPrivateKey(e){try{return U(e),!0}catch(e){return!1}},privateAdd:(e,t)=>T(N(U(e)+U(t),l.n)),privateNegate:e=>{const t=U(e);return T(l.n-t)},pointAddScalar:(e,t,r)=>{const n=m.fromHex(e),i=U(t),o=m.BASE.multiplyAndAddUnsafe(n,i,s);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)},pointMultiply:(e,t,r)=>{const n=m.fromHex(e),i=P(x(t));return n.multiply(i).toRawBytes(r)},hashToPrivateKey:e=>{if((e=x(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return T(N(P(e),l.n-s)+s)},randomBytes:(e=32)=>{if(ue.web)return ue.web.getRandomValues(new Uint8Array(e));if(ue.node){const{randomBytes:t}=ue.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>r.utils.hashToPrivateKey(r.utils.randomBytes(40)),bytesToHex:v,hexToBytes:I,concatBytes:w,mod:N,invert:B,sha256:async(...e)=>{if(ue.web){const t=await ue.web.subtle.digest("SHA-256",w(...e));return new Uint8Array(t)}if(ue.node){const{createHash:t}=ue.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(ue.web){const r=await ue.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=w(...t),i=await ue.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(ue.node){const{createHmac:r}=ue.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:undefined,hmacSha256Sync:undefined,taggedHash:async(e,...t)=>{let n=fe[e];if(n===undefined){const t=await r.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=w(t,t),fe[e]=n}return r.utils.sha256(n,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof r.utils.sha256Sync)throw new Error("utils.sha256Sync is undefined, you need to set it");let n=fe[e];if(n===undefined){const t=r.utils.sha256Sync(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=w(t,t),fe[e]=n}return r.utils.sha256Sync(n,...t)},precompute(e=8,t=m.BASE){const r=t===m.BASE?t:new m(t.x,t.y);return r._setWindowSize(e),r.multiply(a),r}}}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@noble/secp256k1",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@noble/secp256k1/lib/index.js"}],[1159,{"@noble/hashes/_assert":1149,"@noble/hashes/hmac":1153,"@noble/hashes/ripemd160":1154,"@noble/hashes/sha256":1155,"@noble/hashes/sha512":1156,"@noble/hashes/utils":1157,"@noble/secp256k1":1158,"@scure/base":2145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HDKey=r.HARDENED_OFFSET=void 0;const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/ripemd160"),s=e("@noble/hashes/sha256"),o=e("@noble/hashes/sha512"),a=e("@noble/hashes/_assert"),c=e("@noble/hashes/utils"),u=e("@noble/secp256k1"),l=e("@scure/base");u.utils.hmacSha256Sync=(e,...t)=>{const r=n.hmac.create(s.sha256,e);return t.forEach((e=>r.update(e))),r.digest()};const f=(0,l.base58check)(s.sha256);function d(e){return BigInt(`0x${(0,c.bytesToHex)(e)}`)}const h=(0,c.utf8ToBytes)("Bitcoin seed"),p={private:76066276,public:76067358};r.HARDENED_OFFSET=2147483648;const m=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,c.createView)(t).setUint32(0,e,!1),t};class g{constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||p,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!u.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:d(e.privateKey),this.privKeyBytes=(t=this.privKey,(0,c.hexToBytes)(t.toString(16).padStart(64,"0"))),this.pubKey=u.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=u.Point.fromHex(e.publicKey).toRawBytes(!0)}var t,r;this.pubHash=(r=this.pubKey,(0,i.ripemd160)((0,s.sha256)(r)))}get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,(0,c.createView)(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return f.encode(this.serialize(this.versions.private,(0,c.concatBytes)(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return f.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=p){if(8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const r=(0,n.hmac)(o.sha512,h,e);return new g({versions:t,chainCode:r.slice(32),privateKey:r.slice(0,32)})}static fromExtendedKey(e,t=p){const r=f.decode(e),n=(0,c.createView)(r),i=n.getUint32(0,!1),s={versions:t,depth:r[4],parentFingerprint:n.getUint32(5,!1),index:n.getUint32(9,!1),chainCode:r.slice(13,45)},o=r.slice(45),a=0===o[0];if(i!==t[a?"private":"public"])throw new Error("Version mismatch");return new g(a?{...s,privateKey:o.slice(1)}:{...s,publicKey:o})}static fromJSON(e){return g.fromExtendedKey(e.xpriv)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e);if(!t||3!==t.length)throw new Error(`Invalid child index: ${e}`);let i=+t[1];if(!Number.isSafeInteger(i)||i>=r.HARDENED_OFFSET)throw new Error("Invalid index");"'"===t[2]&&(i+=r.HARDENED_OFFSET),n=n.deriveChild(i)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=m(e);if(e>=r.HARDENED_OFFSET){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=(0,c.concatBytes)(new Uint8Array([0]),e,t)}else t=(0,c.concatBytes)(this.pubKey,t);const i=(0,n.hmac)(o.sha512,this.chainCode,t),s=d(i.slice(0,32)),a=i.slice(32);if(!u.utils.isValidPrivateKey(s))throw new Error("Tweak bigger than curve order");const l={versions:this.versions,chainCode:a,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=u.utils.mod(this.privKey+s,u.CURVE.n);if(!u.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");l.privateKey=e}else l.publicKey=u.Point.fromHex(this.pubKey).add(u.Point.fromPrivateKey(s)).toRawBytes(!0);return new g(l)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return(0,a.bytes)(e,32),u.signSync(e,this.privKey,{canonical:!0,der:!1})}verify(e,t){if((0,a.bytes)(e,32),(0,a.bytes)(t,64),!this.publicKey)throw new Error("No publicKey set!");let r;try{r=u.Signature.fromCompact(t)}catch(e){return!1}return u.verify(r,e,this.publicKey)}wipePrivateData(){return this.privKey=undefined,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=undefined),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return(0,a.bytes)(t,33),(0,c.concatBytes)(m(e),new Uint8Array([this.depth]),m(this.parentFingerprint),m(this.index),this.chainCode,t)}}r.HDKey=g}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@scure/bip32",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@scure/bip32/lib/index.js"}],[116,{"../../../shared/constants/transaction":4770,"../lib/util":91,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../lib/util"),s=e("../../../shared/constants/transaction");r.default={version:25,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=25;const r=function(e){const t=e;if(t.TransactionController&&t.TransactionController.transactions){const{transactions:e}=t.TransactionController;t.TransactionController.transactions=e.map((e=>(e.status!==s.TransactionStatus.unapproved||(e.txParams=function(e){const t={from:e=>(0,i.addHexPrefix)(e).toLowerCase(),to:()=>(0,i.addHexPrefix)(e.to).toLowerCase(),nonce:e=>(0,i.addHexPrefix)(e),value:e=>(0,i.addHexPrefix)(e),data:e=>(0,i.addHexPrefix)(e),gas:e=>(0,i.addHexPrefix)(e),gasPrice:e=>(0,i.addHexPrefix)(e)},r={};return Object.keys(t).forEach((n=>{e[n]&&(r[n]=t[n](e[n]))})),r}(e.txParams)),e)))}return t}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/025.js"}],[1160,{"@scure/bip32":1159},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HDKey=r.HARDENED_OFFSET=void 0;var n=e("@scure/bip32");Object.defineProperty(r,"HARDENED_OFFSET",{enumerable:!0,get:function(){return n.HARDENED_OFFSET}}),Object.defineProperty(r,"HDKey",{enumerable:!0,get:function(){return n.HDKey}})}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-hd-keyring/node_modules/ethereum-cryptography/hdkey.js"}],[1161,{"./utils":1167,"@noble/hashes/sha3":1165},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const n=e("@noble/hashes/sha3"),i=e("./utils");r.keccak224=(0,i.wrapHash)(n.keccak_224),r.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),r.keccak384=(0,i.wrapHash)(n.keccak_384),r.keccak512=(0,i.wrapHash)(n.keccak_512)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-hd-keyring/node_modules/ethereum-cryptography/keccak.js"}],[1162,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function s(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){s(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=void 0,r.number=n,r.bool=i,r.bytes=s,r.hash=o,r.exists=a,r.output=c;const u={number:n,bool:i,bytes:s,hash:o,exists:a,output:c};r.default=u}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_assert.js"}],[1163,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;r.toBig=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);function a(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.add=a;const c={fromBig:s,split:o,toBig:r.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:a,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};r.default=c}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_u64.js"}],[1164,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto={node:undefined,web:"object"==typeof self&&"crypto"in self?self.crypto:undefined}}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/cryptoBrowser.js"}],[1165,{"./_assert.js":1162,"./_u64.js":1163,"./utils.js":1166},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),i=e("./_u64.js"),s=e("./utils.js"),[o,a,c]=[[],[],[]],u=BigInt(0),l=BigInt(1),f=BigInt(2),d=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<l^(t>>d)*p)%h,t&f&&(i^=l<<(l<<BigInt(e))-l);c.push(i)}const[m,g]=i.default.split(c,!0),y=(e,t,r)=>r>32?i.default.rotlBH(e,t,r):i.default.rotlSH(e,t,r),b=(e,t,r)=>r>32?i.default.rotlBL(e,t,r):i.default.rotlSL(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=y(s,o,1)^r[n],c=b(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=y(t,i,n),c=b(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=g[n]}r.fill(0)}r.keccakP=w;class k extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,n.default.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){w(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){n.default.exists(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){n.default.exists(this,!1),n.default.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return n.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(n.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new k(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=k;const _=(e,t,r)=>(0,s.wrapConstructor)((()=>new k(t,e,r)));r.sha3_224=_(6,144,28),r.sha3_256=_(6,136,32),r.sha3_384=_(6,104,48),r.sha3_512=_(6,72,64),r.keccak_224=_(1,144,28),r.keccak_256=_(1,136,32),r.keccak_384=_(1,104,48),r.keccak_512=_(1,72,64);const v=(e,t,r)=>(0,s.wrapConstructorWithOpts)(((n={})=>new k(t,e,n.dkLen===undefined?r:n.dkLen,!0)));r.shake128=v(31,168,16),r.shake256=v(31,136,32)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/sha3.js"}],[1166,{"@noble/hashes/crypto":1164},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const n=e("@noble/hashes/crypto");r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.rotr=(e,t)=>e<<32-t|e>>>t,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!r.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));r.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t},r.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t};function s(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=s(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=s,r.toBytes=o,r.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};r.checkOpts=function(e,t){if(t!==undefined&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(e));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-hd-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/utils.js"}],[1167,{"@noble/hashes/_assert":1162,"@noble/hashes/utils":1166},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.wrapHash=r.equalsBytes=r.hexToBytes=r.bytesToUtf8=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0;const i=n(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=i.default.bool;r.assertBool=o;const a=i.default.bytes;r.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))},r.crypto=(()=>{const e="object"==typeof self&&"crypto"in self?self.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-hd-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-hd-keyring/node_modules/ethereum-cryptography/utils.js"}],[1168,{"./fetch-config-from-req":1170,"./logging-utils":1172,"eth-rpc-errors":3226,"json-rpc-engine":3868,"node-fetch":4162},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createInfuraMiddleware=void 0;const i=e("json-rpc-engine"),s=e("eth-rpc-errors"),o=n(e("node-fetch")),a=e("./fetch-config-from-req"),c=e("./logging-utils"),u=(0,c.createModuleLogger)(c.projectLogger,"create-infura-middleware"),l=["Gateway timeout","ETIMEDOUT","ECONNRESET","SyntaxError"];async function f(e,t,r,n,i,c){const{fetchUrl:u,fetchParams:l}=(0,a.fetchConfigFromReq)({network:e,projectId:t,extraHeaders:r,req:n,source:c}),f=await(0,o.default)(u,l),h=await f.text();if(!f.ok)switch(f.status){case 405:throw s.ethErrors.rpc.methodNotFound();case 429:throw d("Request is being rate limited.");case 503:case 504:throw function(){let e="Gateway timeout. The request took too long to process. ";return e+="This can happen when querying logs over too wide a block range.",d(e)}();default:throw d(h)}if("eth_getBlockByNumber"===n.method&&"Not Found"===h)return void(i.result=null);const p=JSON.parse(h);i.result=p.result,i.error=p.error}function d(e){return s.ethErrors.rpc.internal(e)}function h(e){const t=e.toString();return l.some((e=>t.includes(e)))}function p(e){return new Promise((t=>{setTimeout(t,e)}))}r.createInfuraMiddleware=function({network:e="mainnet",maxAttempts:t=5,source:r,projectId:n,headers:s={}}){if(!n||"string"!=typeof n)throw new Error(`Invalid value for 'projectId': "${n}"`);if(!s||"object"!=typeof s)throw new Error(`Invalid value for 'headers': "${s}"`);if(!t)throw new Error(`Invalid value for 'maxAttempts': "${t}" (${typeof t})`);return(0,i.createAsyncMiddleware)((async(i,o)=>{for(let a=1;a<=t;a++)try{u("Attempting request to Infura. network = %o, projectId = %s, headers = %o, req = %o",e,n,s,i),await f(e,n,s,i,o,r);break}catch(e){if(!h(e))throw u("Non-retriable request error encountered. req = %o, res = %o, error = %o",i,o,e),e;if(!(t-a)){u("Retriable request error encountered, but exceeded max attempts. req = %o, res = %o, error = %o",i,o,e);const t=`InfuraProvider - cannot complete request. All retries exhausted.\nOriginal Error:\n${e.toString()}\n\n`;throw new Error(t)}u("Retriable request error encountered. req = %o, res = %o, error = %o",i,o,e),u("Waiting 1 second to try again..."),await p(1e3)}}))}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/create-infura-middleware.js"}],[1169,{"./create-infura-middleware":1168,"@metamask/eth-json-rpc-provider":1212,"json-rpc-engine":3868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createProvider=void 0;const n=e("json-rpc-engine"),i=e("@metamask/eth-json-rpc-provider"),s=e("./create-infura-middleware");r.createProvider=function(e){const t=new n.JsonRpcEngine;return t.push((0,s.createInfuraMiddleware)(e)),(0,i.providerFromEngine)(t)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/create-provider.js"}],[117,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:26,migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=26;try{const e=t.data;t.data=function(e){if(!e.KeyringController||!e.PreferencesController)return e;if(!e.KeyringController.walletNicknames)return e;return e.PreferencesController.identities=Object.keys(e.KeyringController.walletNicknames).reduce(((t,r)=>(t[r]={name:e.KeyringController.walletNicknames[r],address:r},t)),{}),delete e.KeyringController.walletNicknames,e}(e)}catch(e){return console.warn(`MetaMask Migration #26${e.stack}`),Promise.reject(e)}return Promise.resolve(t)}}}}},{package:"$root$",file:"app/scripts/migrations/026.js"}],[1170,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return{id:e.id,jsonrpc:e.jsonrpc,method:e.method,params:e.params}}Object.defineProperty(r,"__esModule",{value:!0}),r.fetchConfigFromReq=void 0,r.fetchConfigFromReq=function({network:e,projectId:t,extraHeaders:r={},req:i,source:s}){const o=i.origin||"internal",a=Object.assign({},r,{Accept:"application/json","Content-Type":"application/json"});return s&&(a["Infura-Source"]=`${s}/${o}`),{fetchUrl:`https://${e}.infura.io/v3/${t}`,fetchParams:{method:"POST",headers:a,body:JSON.stringify(n(i))}}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/fetch-config-from-req.js"}],[1171,{"./create-infura-middleware":1168,"./create-provider":1169,"./fetch-config-from-req":1170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./create-infura-middleware"),r),i(e("./fetch-config-from-req"),r),i(e("./create-provider"),r)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/index.js"}],[1172,{"@metamask/utils":1181},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-json-rpc-infura")}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/logging-utils.js"}],[1173,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertExhaustive=r.assertStruct=r.assert=r.AssertionError=void 0;const n=e("superstruct");function i(e,t){return r=e,Boolean("string"==typeof(null===(i=null===(n=null==r?void 0:r.prototype)||void 0===n?void 0:n.constructor)||void 0===i?void 0:i.name))?new e({message:t}):e({message:t});var r,n,i}class s extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}r.AssertionError=s,r.assert=function(e,t="Assertion failed.",r=s){if(!e){if(t instanceof Error)throw t;throw i(r,t)}},r.assertStruct=function(e,t,r="Assertion failed",o=s){try{(0,n.assert)(e,t)}catch(e){throw i(o,`${r}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},r.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/assert.js"}],[1174,{"./assert":1173,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.base64=void 0;const n=e("superstruct"),i=e("./assert");r.base64=(e,t={})=>{var r,s;const o=null!==(r=t.paddingRequired)&&void 0!==r&&r,a=null!==(s=t.characterSet)&&void 0!==s?s:"base64";let c,u;return"base64"===a?c=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===a),c=String.raw`[-_A-Za-z0-9]`),u=o?new RegExp(`^(?:${c}{4})*(?:${c}{3}=|${c}{2}==)?$`,"u"):new RegExp(`^(?:${c}{4})*(?:${c}{2,3}|${c}{3}=|${c}{2}==)?$`,"u"),(0,n.pattern)(e,u)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/base64.js"}],[1175,{"./assert":1173,"./hex":1180,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.createDataView=r.concatBytes=r.valueToBytes=r.stringToBytes=r.numberToBytes=r.signedBigIntToBytes=r.bigIntToBytes=r.hexToBytes=r.bytesToString=r.bytesToNumber=r.bytesToSignedBigInt=r.bytesToBigInt=r.bytesToHex=r.assertIsBytes=r.isBytes=void 0;const n=e("./assert"),i=e("./hex"),s=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,n.assert)(u(e),"Value must be a Uint8Array.")}function f(e){if(l(e),0===e.length)return"0x";const t=c(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,i.add0x)(r.join(""))}function d(e){l(e);const t=f(e);return BigInt(t)}function h(e){var t;if("0x"===(null===(t=null==e?void 0:e.toLowerCase)||void 0===t?void 0:t.call(e)))return new Uint8Array;(0,i.assertIsHexString)(e);const r=(0,i.remove0x)(e).toLowerCase(),n=r.length%2==0?r:`0${r}`,c=new Uint8Array(n.length/2);for(let e=0;e<c.length;e++){const t=n.charCodeAt(2*e),r=n.charCodeAt(2*e+1),i=t-(t<o?s:a),u=r-(r<o?s:a);c[e]=16*i+u}return c}function p(e){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return h(e.toString(16))}function m(e){(0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return h(e.toString(16))}function g(e){return(0,n.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return p(e);if("number"==typeof e)return m(e);if("string"==typeof e)return e.startsWith("0x")?h(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}r.isBytes=u,r.assertIsBytes=l,r.bytesToHex=f,r.bytesToBigInt=d,r.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},r.bytesToNumber=function(e){l(e);const t=d(e);return(0,n.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},r.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},r.hexToBytes=h,r.bigIntToBytes=p,r.signedBigIntToBytes=function(e,t){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)("number"==typeof t,"Byte length must be a number."),(0,n.assert)(t>0,"Byte length must be greater than 0."),(0,n.assert)(function(e,t){(0,n.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const i=new Uint8Array(t);for(let e=0;e<i.length;e++)i[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return i.reverse()},r.numberToBytes=m,r.stringToBytes=g,r.valueToBytes=y,r.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const i=y(e[n]);t[n]=i,r+=i.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},r.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/bytes.js"}],[1176,{"./base64":1174,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChecksumStruct=void 0;const n=e("superstruct"),i=e("./base64");r.ChecksumStruct=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/checksum.js"}],[1177,{"./assert":1173,"./bytes":1175,"./hex":1180,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHex=r.createBytes=r.createBigInt=r.createNumber=void 0;const n=e("superstruct"),i=e("./assert"),s=e("./bytes"),o=e("./hex"),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),o.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),a,Number),u=(0,n.coerce)((0,n.bigint)(),a,BigInt),l=((0,n.union)([o.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([o.StrictHexStruct]),s.hexToBytes)),f=(0,n.coerce)(o.StrictHexStruct,(0,n.instance)(Uint8Array),s.bytesToHex);r.createNumber=function(e){try{const t=(0,n.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},r.createBigInt=function(e){try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},r.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},r.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,f)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/coercers.js"}],[1178,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.FrozenSet=r.FrozenMap=void 0;class a{constructor(e){n.set(this,void 0),s(this,n,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return o(this,n,"f")[Symbol.iterator]()}entries(){return o(this,n,"f").entries()}forEach(e,t){return o(this,n,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}get(e){return o(this,n,"f").get(e)}has(e){return o(this,n,"f").has(e)}keys(){return o(this,n,"f").keys()}values(){return o(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}r.FrozenMap=a;class c{constructor(e){i.set(this,void 0),s(this,i,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return o(this,i,"f")[Symbol.iterator]()}entries(){return o(this,i,"f").entries()}forEach(e,t){return o(this,i,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}has(e){return o(this,i,"f").has(e)}keys(){return o(this,i,"f").keys()}values(){return o(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}r.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/collections.js"}],[1179,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/encryption-types.js"}],[118,{"../../../shared/constants/transaction":4770,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");r.default={version:27,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=27;const r=function(e){const t=e;if(t.TransactionController&&t.TransactionController.transactions){const{transactions:e}=t.TransactionController;t.TransactionController.transactions=e.filter((e=>e.status!==i.TransactionStatus.rejected))}return t}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/027.js"}],[1180,{"./assert":1173,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.remove0x=r.add0x=r.assertIsStrictHexString=r.assertIsHexString=r.isStrictHexString=r.isHexString=r.StrictHexStruct=r.HexStruct=void 0;const n=e("superstruct"),i=e("./assert");function s(e){return(0,n.is)(e,r.HexStruct)}function o(e){return(0,n.is)(e,r.StrictHexStruct)}r.HexStruct=(0,n.pattern)((0,n.string)(),/^(?:0x)?[0-9a-f]+$/iu),r.StrictHexStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]+$/iu),r.isHexString=s,r.isStrictHexString=o,r.assertIsHexString=function(e){(0,i.assert)(s(e),"Value must be a hexadecimal string.")},r.assertIsStrictHexString=function(e){(0,i.assert)(o(e),'Value must be a hexadecimal string, starting with "0x".')},r.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},r.remove0x=function(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/hex.js"}],[1181,{"./assert":1173,"./base64":1174,"./bytes":1175,"./checksum":1176,"./coercers":1177,"./collections":1178,"./encryption-types":1179,"./hex":1180,"./json":1182,"./keyring":1183,"./logging":1184,"./misc":1185,"./number":1186,"./opaque":1187,"./time":1188,"./transaction-types":1189,"./versions":1190},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./assert"),r),i(e("./base64"),r),i(e("./bytes"),r),i(e("./checksum"),r),i(e("./coercers"),r),i(e("./collections"),r),i(e("./encryption-types"),r),i(e("./hex"),r),i(e("./json"),r),i(e("./keyring"),r),i(e("./logging"),r),i(e("./misc"),r),i(e("./number"),r),i(e("./opaque"),r),i(e("./time"),r),i(e("./transaction-types"),r),i(e("./versions"),r)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/index.js"}],[1182,{"./assert":1173,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonRpcIdValidator=r.assertIsJsonRpcError=r.isJsonRpcError=r.assertIsJsonRpcFailure=r.isJsonRpcFailure=r.assertIsJsonRpcSuccess=r.isJsonRpcSuccess=r.assertIsJsonRpcResponse=r.isJsonRpcResponse=r.assertIsPendingJsonRpcResponse=r.isPendingJsonRpcResponse=r.JsonRpcResponseStruct=r.JsonRpcFailureStruct=r.JsonRpcSuccessStruct=r.PendingJsonRpcResponseStruct=r.assertIsJsonRpcRequest=r.isJsonRpcRequest=r.assertIsJsonRpcNotification=r.isJsonRpcNotification=r.JsonRpcNotificationStruct=r.JsonRpcRequestStruct=r.JsonRpcParamsStruct=r.JsonRpcErrorStruct=r.JsonRpcIdStruct=r.JsonRpcVersionStruct=r.jsonrpc2=r.getJsonSize=r.isValidJson=r.JsonStruct=r.UnsafeJsonStruct=void 0;const n=e("superstruct"),i=e("./assert");r.UnsafeJsonStruct=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>r.UnsafeJsonStruct))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>r.UnsafeJsonStruct)))]),r.JsonStruct=(0,n.define)("Json",((e,t)=>{function n(e,r){const n=[...r.validator(e,t)];return!(n.length>0)||n}try{const t=n(e,r.UnsafeJsonStruct);return!0!==t?t:n(JSON.parse(JSON.stringify(e)),r.UnsafeJsonStruct)}catch(e){return e instanceof RangeError&&"Circular reference detected"}})),r.isValidJson=function(e){return(0,n.is)(e,r.JsonStruct)},r.getJsonSize=function(e){(0,i.assertStruct)(e,r.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},r.jsonrpc2="2.0",r.JsonRpcVersionStruct=(0,n.literal)(r.jsonrpc2),r.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),r.JsonRpcErrorStruct=(0,n.object)({code:(0,n.integer)(),message:(0,n.string)(),data:(0,n.optional)(r.JsonStruct),stack:(0,n.optional)((0,n.string)())}),r.JsonRpcParamsStruct=(0,n.optional)((0,n.union)([(0,n.record)((0,n.string)(),r.JsonStruct),(0,n.array)(r.JsonStruct)])),r.JsonRpcRequestStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:r.JsonRpcParamsStruct}),r.JsonRpcNotificationStruct=(0,n.omit)(r.JsonRpcRequestStruct,["id"]),r.isJsonRpcNotification=function(e){return(0,n.is)(e,r.JsonRpcNotificationStruct)},r.assertIsJsonRpcNotification=function(e,t){(0,i.assertStruct)(e,r.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},r.isJsonRpcRequest=function(e){return(0,n.is)(e,r.JsonRpcRequestStruct)},r.assertIsJsonRpcRequest=function(e,t){(0,i.assertStruct)(e,r.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},r.PendingJsonRpcResponseStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(r.JsonRpcErrorStruct)}),r.JsonRpcSuccessStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:r.JsonStruct}),r.JsonRpcFailureStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,error:r.JsonRpcErrorStruct}),r.JsonRpcResponseStruct=(0,n.union)([r.JsonRpcSuccessStruct,r.JsonRpcFailureStruct]),r.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,r.PendingJsonRpcResponseStruct)},r.assertIsPendingJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},r.isJsonRpcResponse=function(e){return(0,n.is)(e,r.JsonRpcResponseStruct)},r.assertIsJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},r.isJsonRpcSuccess=function(e){return(0,n.is)(e,r.JsonRpcSuccessStruct)},r.assertIsJsonRpcSuccess=function(e,t){(0,i.assertStruct)(e,r.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},r.isJsonRpcFailure=function(e){return(0,n.is)(e,r.JsonRpcFailureStruct)},r.assertIsJsonRpcFailure=function(e,t){(0,i.assertStruct)(e,r.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},r.isJsonRpcError=function(e){return(0,n.is)(e,r.JsonRpcErrorStruct)},r.assertIsJsonRpcError=function(e,t){(0,i.assertStruct)(e,r.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},r.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e);return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/json.js"}],[1183,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/keyring.js"}],[1184,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.createProjectLogger=void 0;const i=(0,n(e("debug")).default)("metamask");r.createProjectLogger=function(e){return i.extend(e)},r.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/logging.js"}],[1185,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateNumberSize=r.calculateStringSize=r.isASCII=r.isPlainObject=r.ESCAPE_CHARACTERS_REGEXP=r.JsonSize=r.hasProperty=r.isObject=r.isNullOrUndefined=r.isNonEmptyArray=void 0,r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isNullOrUndefined=function(e){return null===e||e===undefined},r.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function n(e){return e.charCodeAt(0)<=127}r.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(r.JsonSize||(r.JsonSize={})),r.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,r.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},r.isASCII=n,r.calculateStringSize=function(e){var t;return e.split("").reduce(((e,t)=>n(t)?e+1:e+2),0)+(null!==(t=e.match(r.ESCAPE_CHARACTERS_REGEXP))&&void 0!==t?t:[]).length},r.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/misc.js"}],[1186,{"./assert":1173,"./hex":1180},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hexToBigInt=r.hexToNumber=r.bigIntToHex=r.numberToHex=void 0;const n=e("./assert"),i=e("./hex");r.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16)));r.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16)));r.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};r.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/number.js"}],[1187,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/opaque.js"}],[1188,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeSince=r.inMilliseconds=r.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r.Duration||(r.Duration={}));const n=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};r.inMilliseconds=function(e,t){return n(e,"count"),e*t},r.timeSince=function(e){return n(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/time.js"}],[1189,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/transaction-types.js"}],[119,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:28,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=28;const r=function(e){const t=e;if(t.PreferencesController&&t.PreferencesController.tokens&&t.PreferencesController.identities){const{identities:e,tokens:r}=t.PreferencesController;t.PreferencesController.accountTokens={},Object.keys(e).forEach((e=>{t.PreferencesController.accountTokens[e]={mainnet:r}})),t.PreferencesController.tokens=[]}return t}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/028.js"}],[1190,{"./assert":1173,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.satisfiesVersionRange=r.gtRange=r.gtVersion=r.assertIsSemVerRange=r.assertIsSemVerVersion=r.isValidSemVerRange=r.isValidSemVerVersion=r.VersionRangeStruct=r.VersionStruct=void 0;const n=e("semver"),i=e("superstruct"),s=e("./assert");r.VersionStruct=(0,i.refine)((0,i.string)(),"Version",(e=>null!==(0,n.valid)(e)||`Expected SemVer version, got "${e}"`)),r.VersionRangeStruct=(0,i.refine)((0,i.string)(),"Version range",(e=>null!==(0,n.validRange)(e)||`Expected SemVer range, got "${e}"`)),r.isValidSemVerVersion=function(e){return(0,i.is)(e,r.VersionStruct)},r.isValidSemVerRange=function(e){return(0,i.is)(e,r.VersionRangeStruct)},r.assertIsSemVerVersion=function(e){(0,s.assertStruct)(e,r.VersionStruct)},r.assertIsSemVerRange=function(e){(0,s.assertStruct)(e,r.VersionRangeStruct)},r.gtVersion=function(e,t){return(0,n.gt)(e,t)},r.gtRange=function(e,t){return(0,n.gtr)(e,t)},r.satisfiesVersionRange=function(e,t){return(0,n.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura>@metamask/utils",file:"node_modules/@metamask/eth-json-rpc-infura/node_modules/@metamask/utils/dist/versions.js"}],[1191,{"./logging-utils":1198,"./utils/cache":1201,"json-rpc-engine":3868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockCacheMiddleware=void 0;const n=e("json-rpc-engine"),i=e("./logging-utils"),s=e("./utils/cache"),o=(0,i.createModuleLogger)(i.projectLogger,"block-cache"),a=[undefined,null,"<nil>"];class c{constructor(){this.cache={}}getBlockCache(e){const t=Number.parseInt(e,16);let r=this.cache[t];if(!r){const e={};this.cache[t]=e,r=e}return r}async get(e,t){const r=this.getBlockCache(t),n=(0,s.cacheIdentifierForRequest)(e,!0);return n?r[n]:undefined}async set(e,t,r){if(!this.canCacheResult(e,r))return;const n=(0,s.cacheIdentifierForRequest)(e,!0);if(!n)return;this.getBlockCache(t)[n]=r}canCacheRequest(e){if(!(0,s.canCache)(e.method))return!1;return"pending"!==(0,s.blockTagForRequest)(e)}canCacheResult(e,t){return!a.includes(t)&&!(e.method&&["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)&&(!t||!t.blockHash||"0x0000000000000000000000000000000000000000000000000000000000000000"===t.blockHash))}clearBefore(e){const t=Number.parseInt(e,16);Object.keys(this.cache).map(Number).filter((e=>e<t)).forEach((e=>delete this.cache[e]))}}r.createBlockCacheMiddleware=function({blockTracker:e}={}){if(!e)throw new Error("createBlockCacheMiddleware - No PollingBlockTracker specified");const t=new c,r={[s.CacheStrategy.Permanent]:t,[s.CacheStrategy.Block]:t,[s.CacheStrategy.Fork]:t,[s.CacheStrategy.Never]:undefined};return(0,n.createAsyncMiddleware)((async(n,i,a)=>{if(n.skipCache)return a();const c=(0,s.cacheTypeForMethod)(n.method),u=r[c];if(!u)return a();if(!u.canCacheRequest(n))return a();const l=(0,s.blockTagForRequest)(n),f=l&&"string"==typeof l?l:"latest";let d;if(o("blockTag = %o, req = %o",f,n),"earliest"===f)d="0x00";else if("latest"===f){o("Fetching latest block number to determine cache key");const r=await e.getLatestBlock();o("Clearing values stored under block numbers before %o",r),t.clearBefore(r),d=r}else d=f;const h=await u.get(n,d);return h===undefined?(o("No cache stored under block number %o, carrying request forward",d),await a(),o("Populating cache with",i),await u.set(n,d,i.result)):(o("Cache hit, reusing cache result stored under block number %o",d),i.result=h),undefined}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/block-cache.js"}],[1192,{"./utils/cache":1201,"json-rpc-engine":3868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockRefRewriteMiddleware=void 0;const n=e("json-rpc-engine"),i=e("./utils/cache");r.createBlockRefRewriteMiddleware=function({blockTracker:e}={}){if(!e)throw Error('BlockRefRewriteMiddleware - mandatory "blockTracker" option is missing.');return(0,n.createAsyncMiddleware)((async(t,r,n)=>{const s=(0,i.blockTagParamIndex)(t.method);if(s===undefined)return n();let o=Array.isArray(t.params)?t.params[s]:undefined;if(o===undefined&&(o="latest"),"latest"!==o)return n();const a=await e.getLatestBlock();return Array.isArray(t.params)&&(t.params[s]=a),n()}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/block-ref-rewrite.js"}],[1193,{"./logging-utils":1198,"./utils/cache":1201,clone:1210,"json-rpc-engine":3868,pify:1211},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockRefMiddleware=void 0;const i=n(e("clone")),s=e("json-rpc-engine"),o=n(e("pify")),a=e("./logging-utils"),c=e("./utils/cache"),u=(0,a.createModuleLogger)(a.projectLogger,"block-ref");r.createBlockRefMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('BlockRefMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('BlockRefMiddleware - mandatory "blockTracker" option is missing.');return(0,s.createAsyncMiddleware)((async(r,n,s)=>{var a;const l=(0,c.blockTagParamIndex)(r.method);if(l===undefined)return s();if("latest"!==(Array.isArray(r.params)&&null!==(a=r.params[l])&&void 0!==a?a:"latest"))return u('blockRef is not "latest", carrying request forward'),s();const f=await t.getLatestBlock();u(`blockRef is "latest", setting param ${l} to latest block ${f}`);const d=(0,i.default)(r);Array.isArray(d.params)&&(d.params[l]=f),u("Performing another request %o",d);const h=await(0,o.default)(e.sendAsync).call(e,d);return n.result=h.result,n.error=h.error,undefined}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/block-ref.js"}],[1194,{"./logging-utils":1198,"json-rpc-engine":3868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockTrackerInspectorMiddleware=void 0;const n=e("json-rpc-engine"),i=e("./logging-utils"),s=(0,i.createModuleLogger)(i.projectLogger,"block-tracker-inspector"),o=["eth_getTransactionByHash","eth_getTransactionReceipt"];function a(e){const{result:t}=e;return t&&"object"==typeof t&&(r=t,n="blockNumber",Object.hasOwnProperty.call(r,n))&&"string"==typeof t.blockNumber?t.blockNumber:undefined;var r,n}r.createBlockTrackerInspectorMiddleware=function({blockTracker:e}){return(0,n.createAsyncMiddleware)((async(t,r,n)=>{if(!o.includes(t.method))return n();await n();const i=a(r);if(!i)return undefined;s("res.result.blockNumber exists, proceeding. res = %o",r);return Number.parseInt(i,16)>Number.parseInt(e.getCurrentBlock(),16)&&(s("blockNumber from response is greater than current block number, refreshing current block number"),await e.checkForLatestBlock()),undefined}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/block-tracker-inspector.js"}],[1195,{"./utils/timeout":1202,"eth-rpc-errors":3226,"json-rpc-engine":3868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFetchConfigFromReq=r.createFetchMiddleware=void 0;const n=e("eth-rpc-errors"),i=e("json-rpc-engine"),s=e("./utils/timeout"),o=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function a(e){switch(e.status){case 405:throw n.ethErrors.rpc.methodNotFound();case 418:throw n.ethErrors.rpc.internal({message:"Request is being rate limited."});case 503:case 504:throw function(){let e="Gateway timeout. The request took too long to process. ";return e+="This can happen when querying logs over too wide a block range.",n.ethErrors.rpc.internal({message:e})}()}}function c(e,t){if(200!==e.status)throw n.ethErrors.rpc.internal({message:`Non-200 status code: '${e.status}'`,data:t});if(t.error)throw n.ethErrors.rpc.internal({data:t.error});return t.result}function u({btoa:e,req:t,rpcUrl:r,originHttpHeaderKey:n}){const i=new URL(r),s=function(e){let t="";t+=e.protocol,t+=`//${e.hostname}`,e.port&&(t+=`:${e.port}`);return t+=`${e.pathname}`,t+=`${e.search}`,t}(i),o={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},a=t.origin,c={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)};if(i.username&&i.password){const t=e(`${i.username}:${i.password}`);c.headers.Authorization=`Basic ${t}`}return n&&a&&(c.headers[n]=a),{fetchUrl:s,fetchParams:c}}r.createFetchMiddleware=function({btoa:e,fetch:t,rpcUrl:r,originHttpHeaderKey:n}){return(0,i.createAsyncMiddleware)((async(i,l,f)=>{const{fetchUrl:d,fetchParams:h}=u({btoa:e,req:i,rpcUrl:r,originHttpHeaderKey:n});for(let e=0;e<5;e++){try{const e=await t(d,h);a(e);const r=await e.text();let n;try{n=JSON.parse(r)}catch(e){throw new Error(`FetchMiddleware - failed to parse response body: "${r}"`)}const i=c(e,n);return void(l.result=i)}catch(e){const t=e.toString();if(!o.some((e=>t.includes(e))))throw e}await(0,s.timeout)(1e3)}}))},r.createFetchConfigFromReq=u}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/fetch.js"}],[1196,{"./block-cache":1191,"./block-ref":1193,"./block-ref-rewrite":1192,"./block-tracker-inspector":1194,"./fetch":1195,"./inflight-cache":1197,"./providerAsMiddleware":1199,"./retryOnEmpty":1200,"./wallet":1203},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./block-cache"),r),i(e("./block-ref-rewrite"),r),i(e("./block-ref"),r),i(e("./block-tracker-inspector"),r),i(e("./fetch"),r),i(e("./inflight-cache"),r),i(e("./providerAsMiddleware"),r),i(e("./retryOnEmpty"),r),i(e("./wallet"),r)}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/index.js"}],[1197,{"./logging-utils":1198,"./utils/cache":1201,clone:1210,"json-rpc-engine":3868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createInflightCacheMiddleware=void 0;const i=n(e("clone")),s=e("json-rpc-engine"),o=e("./logging-utils"),a=e("./utils/cache"),c=(0,o.createModuleLogger)(o.projectLogger,"inflight-cache");r.createInflightCacheMiddleware=function(){const e={};return(0,s.createAsyncMiddleware)((async(t,r,n)=>{if(t.skipCache)return n();const s=(0,a.cacheIdentifierForRequest)(t);if(!s)return c("Request is not cacheable, proceeding. req = %o",t),n();let o=e[s];return o?(c("Running %i handler(s) for request %o",o.length,t),await async function(e,t){const{resolve:r,promise:n}=function(){let e;const t=new Promise((t=>{e=t}));return{resolve:e,promise:t}}();return t.push((t=>{e.result=(0,i.default)(t.result),e.error=(0,i.default)(t.error),r()})),n}(r,o),undefined):(o=[],e[s]=o,c("Carrying original request forward %o",t),await n(),delete e[s],c("Running %i collected handler(s) for request %o",o.length,t),function(e,t){setTimeout((()=>{t.forEach((t=>{try{t(e)}catch(e){console.error(e)}}))}))}(r,o),undefined)}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/inflight-cache.js"}],[1198,{"@metamask/utils":2081},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-json-rpc-middleware")}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/logging-utils.js"}],[1199,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ethersProviderAsMiddleware=r.providerAsMiddleware=void 0,r.providerAsMiddleware=function(e){return(t,r,n,i)=>{e.sendAsync(t,((e,t)=>e instanceof Error?i(e):(Object.assign(r,t),i())))}},r.ethersProviderAsMiddleware=function(e){return(t,r,n,i)=>{e.send(t,((e,t)=>e?i(e):(Object.assign(r,t),i())))}}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/providerAsMiddleware.js"}],[12,{"../../../shared/constants/app":4749,"../../../shared/constants/keyring":4755,"../../../shared/constants/metametrics":4758,"@metamask/base-controller":1119,"@metamask/message-manager":1559,events:3331,loglevel:4083},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=l(e("events")),i=l(e("loglevel")),s=e("@metamask/message-manager"),o=e("@metamask/base-controller"),a=e("../../../shared/constants/metametrics"),c=e("../../../shared/constants/keyring"),u=e("../../../shared/constants/app");function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d={unapprovedEncryptionPublicKeyMsgs:{persist:!1,anonymous:!1},unapprovedEncryptionPublicKeyMsgCount:{persist:!1,anonymous:!1}};class h extends o.BaseControllerV2{constructor({messenger:e,getEncryptionPublicKey:t,getAccountKeyringType:r,getState:i,metricsEvent:o}){super({name:"EncryptionPublicKeyController",metadata:d,messenger:e,state:{unapprovedEncryptionPublicKeyMsgs:{},unapprovedEncryptionPublicKeyMsgCount:0}}),f(this,"hub",void 0),f(this,"_getEncryptionPublicKey",void 0),f(this,"_getAccountKeyringType",void 0),f(this,"_getState",void 0),f(this,"_encryptionPublicKeyManager",void 0),f(this,"_metricsEvent",void 0),this._getEncryptionPublicKey=t,this._getAccountKeyringType=r,this._getState=i,this._metricsEvent=o,this.hub=new n.default,this._encryptionPublicKeyManager=new s.EncryptionPublicKeyManager(undefined,undefined,undefined,["received"]),this._encryptionPublicKeyManager.hub.on("updateBadge",(()=>{this.hub.emit("updateBadge")})),this._encryptionPublicKeyManager.hub.on("unapprovedMessage",(e=>{this._requestApproval(e,"eth_getEncryptionPublicKey")})),this._subscribeToMessageState(this._encryptionPublicKeyManager,((e,t,r)=>{e.unapprovedEncryptionPublicKeyMsgs=t,e.unapprovedEncryptionPublicKeyMsgCount=r}))}get unapprovedMsgCount(){return this._encryptionPublicKeyManager.getUnapprovedMessagesCount()}resetState(){this.update((()=>({unapprovedEncryptionPublicKeyMsgs:{},unapprovedEncryptionPublicKeyMsgCount:0})))}async newRequestEncryptionPublicKey(e,t){switch(await this._getAccountKeyringType(e)){case c.KeyringType.ledger:return new Promise(((e,t)=>{t(new Error("Ledger does not support eth_getEncryptionPublicKey."))}));case c.KeyringType.trezor:return new Promise(((e,t)=>{t(new Error("Trezor does not support eth_getEncryptionPublicKey."))}));case c.KeyringType.lattice:return new Promise(((e,t)=>{t(new Error("Lattice does not support eth_getEncryptionPublicKey."))}));case c.KeyringType.qr:return Promise.reject(new Error("QR hardware does not support eth_getEncryptionPublicKey."));default:return this._encryptionPublicKeyManager.addUnapprovedMessageAsync({from:e},t)}}async encryptionPublicKey(e){i.default.info("MetaMaskController - encryptionPublicKey");const t=e.metamaskId;try{const r=await this._encryptionPublicKeyManager.approveMessage(e),n=await this._getEncryptionPublicKey(r.from);return this._encryptionPublicKeyManager.setMessageStatusAndResult(t,n,"received"),this._acceptApproval(t),this._getState()}catch(e){throw i.default.info("MetaMaskController - eth_getEncryptionPublicKey failed.",e),this._cancelAbstractMessage(this._encryptionPublicKeyManager,t),e}}cancelEncryptionPublicKey(e){return this._cancelAbstractMessage(this._encryptionPublicKeyManager,e)}rejectUnapproved(e){Object.keys(this._encryptionPublicKeyManager.getUnapprovedMessages()).forEach((t=>{this._cancelAbstractMessage(this._encryptionPublicKeyManager,t,e)}))}clearUnapproved(){this._encryptionPublicKeyManager.update({unapprovedMessages:{},unapprovedMessagesCount:0})}_cancelAbstractMessage(e,t,r){return r&&this._metricsEvent({event:r,category:a.MetaMetricsEventCategory.Messages,properties:{action:"Encryption public key Request"}}),e.rejectMessage(t),this._rejectApproval(t),this._getState()}_subscribeToMessageState(e,t){e.subscribe((e=>{const r=this._migrateMessages(e.unapprovedMessages);this.update((n=>{t(n,r,e.unapprovedMessagesCount)}))}))}_migrateMessages(e){const t={};for(const r of Object.keys(e)){const n=e[r],i=this._migrateMessage(n);t[r]=i}return t}_migrateMessage(e){const{messageParams:t,...r}=e;return{...r,rawSig:e.rawSig,msgParams:t.from,origin:t.origin}}_requestApproval(e,t){const r=e.metamaskId,n=e.origin||u.ORIGIN_METAMASK;this.messagingSystem.call("ApprovalController:addRequest",{id:r,origin:n,type:t},!0).catch((()=>{}))}_acceptApproval(e){this.messagingSystem.call("ApprovalController:acceptRequest",e)}_rejectApproval(e){this.messagingSystem.call("ApprovalController:rejectRequest",e,"Cancel")}}r.default=h}}},{package:"$root$",file:"app/scripts/controllers/encryption-public-key.ts"}],[120,{"../../../shared/constants/transaction":4770,"./fail-tx":201},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=e("../../../shared/constants/transaction"),s=(n=e("./fail-tx"))&&n.__esModule?n:{default:n};r.default={version:29,migrate:(0,s.default)(29,"Stuck in approved state for too long.",(e=>{const t=e.status===i.TransactionStatus.approved,r=e.submittedTime,n=Date.now();return t&&n-r>432e5}))}}}},{package:"$root$",file:"app/scripts/migrations/029.js"}],[1200,{"./logging-utils":1198,"./utils/cache":1201,"./utils/timeout":1202,clone:1210,"json-rpc-engine":3868,pify:1211},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createRetryOnEmptyMiddleware=void 0;const i=n(e("clone")),s=e("json-rpc-engine"),o=n(e("pify")),a=e("./logging-utils"),c=e("./utils/cache"),u=e("./utils/timeout"),l=(0,a.createModuleLogger)(a.projectLogger,"retry-on-empty"),f=[undefined,null,"<nil>"];r.createRetryOnEmptyMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('RetryOnEmptyMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('RetryOnEmptyMiddleware - mandatory "blockTracker" option is missing.');return(0,s.createAsyncMiddleware)((async(r,n,s)=>{const a=(0,c.blockTagParamIndex)(r.method);if(a===undefined)return s();let d=Array.isArray(r.params)?r.params[a]:undefined;if(d===undefined&&(d="latest"),["latest","pending"].includes(d))return s();const h=Number.parseInt(d.slice(2),16);if(Number.isNaN(h))return s();const p=await t.getLatestBlock(),m=Number.parseInt(p.slice(2),16);if(h>m)return l("Requested block number %o is higher than latest block number %o, falling through to original request",h,m),s();l("Requested block number %o is not higher than latest block number %o, trying request until non-empty response is received",h,m);const g=(0,i.default)(r),y=await async function(e,t){for(let r=0;r<e;r++)try{return await t()}catch(e){l("(call %i) Request failed, waiting 1s to retry again...",r+1),await(0,u.timeout)(1e3)}throw l("Retries exhausted"),new Error("RetryOnEmptyMiddleware - retries exhausted")}(10,(async()=>{l("Performing request %o",g);const t=await(0,o.default)(e.sendAsync).call(e,g);if(l("Response is %o",t),f.includes(t.result))throw new Error(`RetryOnEmptyMiddleware - empty response "${JSON.stringify(t)}" for request "${JSON.stringify(g)}"`);return t}));return l("Copying result %o and error %o",y.result,y.error),n.result=y.result,n.error=y.error,undefined}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/retryOnEmpty.js"}],[1201,{"safe-stable-stringify":4523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cacheTypeForMethod=r.blockTagParamIndex=r.blockTagForRequest=r.canCache=r.cacheIdentifierForRequest=r.CacheStrategy=void 0;const n=(0,e("safe-stable-stringify").configure)({bigint:!1,circularValue:Error});var i;function s(e){return a(e)!==i.Never}function o(e){switch(e){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return undefined}}function a(e){switch(e){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return i.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return i.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return i.Block;default:return i.Never}}!function(e){e.Block="block",e.Fork="fork",e.Never="never",e.Permanent="perma"}(i=r.CacheStrategy||(r.CacheStrategy={})),r.cacheIdentifierForRequest=function(e,t){var r;const i=t?function(e){if(!e.params)return[];const t=o(e.method);if(t===undefined||!Array.isArray(e.params)||t>=e.params.length)return e.params;if("eth_getBlockByNumber"===e.method)return e.params.slice(1);return e.params.slice(0,t)}(e):null!==(r=e.params)&&void 0!==r?r:[];return s(e.method)?`${e.method}:${n(i)}`:null},r.canCache=s,r.blockTagForRequest=function(e){if(!e.params)return undefined;const t=o(e.method);return t===undefined||!Array.isArray(e.params)||t>=e.params.length?undefined:e.params[t]},r.blockTagParamIndex=o,r.cacheTypeForMethod=a}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/cache.js"}],[1202,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeout=void 0,r.timeout=async function(e){return new Promise((t=>setTimeout(t,e)))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/timeout.js"}],[1203,{"@metamask/eth-sig-util":1206,"eth-rpc-errors":3226,"json-rpc-engine":3868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletMiddleware=void 0;const o=s(e("@metamask/eth-sig-util")),a=e("eth-rpc-errors"),c=e("json-rpc-engine");function u(e){return 42===e.length}r.createWalletMiddleware=function({getAccounts:e,processDecryptMessage:t,processEncryptionPublicKey:r,processEthSignMessage:n,processPersonalMessage:i,processTransaction:s,processSignTransaction:l,processTypedMessage:f,processTypedMessageV3:d,processTypedMessageV4:h}){if(!e)throw new Error("opts.getAccounts is required");return(0,c.createScaffoldMiddleware)({eth_accounts:(0,c.createAsyncMiddleware)((async function(t,r){r.result=await e(t)})),eth_coinbase:(0,c.createAsyncMiddleware)((async function(t,r){const n=await e(t);r.result=n[0]||null})),eth_sendTransaction:(0,c.createAsyncMiddleware)((async function(e,t){if(!s)throw a.ethErrors.rpc.methodNotSupported();const r=e.params[0]||{};r.from=await p(r.from,e),t.result=await s(r,e)})),eth_signTransaction:(0,c.createAsyncMiddleware)((async function(e,t){if(!l)throw a.ethErrors.rpc.methodNotSupported();const r=e.params[0]||{};r.from=await p(r.from,e),t.result=await l(r,e)})),eth_sign:(0,c.createAsyncMiddleware)((async function(e,t){if(!n)throw a.ethErrors.rpc.methodNotSupported();const r=await p(e.params[0],e),i=e.params[1],s=e.params[2]||{},o=Object.assign(Object.assign({},s),{from:r,data:i});t.result=await n(o,e)})),eth_signTypedData:(0,c.createAsyncMiddleware)((async function(e,t){if(!f)throw a.ethErrors.rpc.methodNotSupported();const r=e.params[0],n=await p(e.params[1],e),i=e.params[2]||{},s=Object.assign(Object.assign({},i),{from:n,data:r});t.result=await f(s,e,"V1")})),eth_signTypedData_v3:(0,c.createAsyncMiddleware)((async function(e,t){if(!d)throw a.ethErrors.rpc.methodNotSupported();const r=await p(e.params[0],e),n=e.params[1],i={data:n,from:r,version:"V3"};t.result=await d(i,e,"V3")})),eth_signTypedData_v4:(0,c.createAsyncMiddleware)((async function(e,t){if(!h)throw a.ethErrors.rpc.methodNotSupported();const r=await p(e.params[0],e),n=e.params[1],i={data:n,from:r,version:"V4"};t.result=await h(i,e,"V4")})),personal_sign:(0,c.createAsyncMiddleware)((async function(e,t){if(!i)throw a.ethErrors.rpc.methodNotSupported();const r=e.params[0],n=e.params[1],s=e.params[2]||{};let o,c;if(u(r)&&!u(n)){let e="The eth_personalSign method requires params ordered ";e+="[message, address]. This was previously handled incorrectly, ",e+="and has been corrected automatically. ",e+="Please switch this param order for smooth behavior in the future.",t.warning=e,o=r,c=n}else c=r,o=n;o=await p(o,e);const l=Object.assign(Object.assign({},s),{from:o,data:c});t.result=await i(l,e)})),eth_getEncryptionPublicKey:(0,c.createAsyncMiddleware)((async function(e,t){if(!r)throw a.ethErrors.rpc.methodNotSupported();const n=await p(e.params[0],e);t.result=await r(n,e)})),eth_decrypt:(0,c.createAsyncMiddleware)((async function(e,r){if(!t)throw a.ethErrors.rpc.methodNotSupported();const n=e.params[0],i=await p(e.params[1],e),s=e.params[2]||{},o=Object.assign(Object.assign({},s),{from:i,data:n});r.result=await t(o,e)})),personal_ecRecover:(0,c.createAsyncMiddleware)((async function(e,t){const r=e.params[0],n=e.params[1],i=o.recoverPersonalSignature({data:r,signature:n});t.result=i}))});async function p(t,r){if("string"==typeof t&&t.length>0&&u(t)){const n=(await e(r)).map((e=>e.toLowerCase())),i=t.toLowerCase();if(n.includes(i))return i;throw a.ethErrors.provider.unauthorized()}throw a.ethErrors.rpc.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/wallet.js"}],[1204,{"./utils":1209,buffer:2913,tweetnacl:4651,"tweetnacl-util":4650},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=s(e("tweetnacl")),a=s(e("tweetnacl-util")),c=e("./utils");function u({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=o.box.keyPair();let n;try{n=a.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const i=a.decodeUTF8(t),s=o.randomBytes(o.box.nonceLength),c=o.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:a.encodeBase64(s),ephemPublicKey:a.encodeBase64(r.publicKey),ciphertext:a.encodeBase64(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const r=f(t),n=o.box.keyPair.fromSecretKey(r).secretKey,i=a.decodeBase64(e.nonce),s=a.decodeBase64(e.ciphertext),c=a.decodeBase64(e.ephemPublicKey),u=o.box.open(s,i,c,n);try{if(!u)throw new Error;const e=a.encodeUTF8(u);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}function f(e){const r=t.from(e,"hex").toString("base64");return a.decodeBase64(r)}r.encrypt=u,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(r))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const t=f(e),r=o.box.keyPair.fromSecretKey(t).publicKey;return a.encodeBase64(r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1205,{"./utils":1209,"@ethereumjs/util":410,"bn.js":2851,buffer:2913,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.rawEncode=r.parseNumber=r.solidityPack=void 0;const i=e("@ethereumjs/util"),s=n(e("bn.js")),o=e("ethjs-util"),a=e("./utils");function c(e){return e.endsWith("]")}function u(e){const t=e.match(/(.*)\[(.*?)\]$/u);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function l(e){const t=/^\D+(\d+)$/u.exec(e);if(null===t)throw new Error(`Invalid parseTypeN input "${e}".`);return parseInt(t[1],10)}function f(e){const t=typeof e;if("string"===t)return(0,i.isHexPrefixed)(e)?new s.default((0,o.stripHexPrefix)(e),16):new s.default(e,10);if("number"===t)return new s.default(e);if(e&&Object.prototype.hasOwnProperty.call(e,"toArray")||s.default.isBN(e))return e;throw new Error("Argument is not a number")}function d(e,r,n){if(c(e)){const n=e.replace(/\[.*?\]/u,"");if(!c(n)){const t=u(e);if("dynamic"!==t&&0!==t&&null!==t&&r.length>t)throw new Error(`Elements exceed array size: ${t}`)}const i=r.map((e=>d(n,e,256)));return t.concat(i)}if("bytes"===e)return r;if("string"===e)return t.from(r,"utf8");if("bool"===e){n=n||8;const e=Array(n/4).join("0");return t.from(r?`${e}1`:`${e}0`,"hex")}if("address"===e){let e=20;return n&&(e=n/8),(0,i.setLengthLeft)((0,i.toBuffer)(r),e)}if(e.startsWith("bytes")){const t=l(e);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);return"number"==typeof r&&(r=(0,a.normalize)(r)),(0,i.setLengthRight)((0,i.toBuffer)(r),t)}if(e.startsWith("uint")){const i=l(e);if(i%8||i<8||i>256)throw new Error(`Invalid uint<N> width: ${i}`);const s=f(r);if(s.bitLength()>i)throw new Error(`Supplied uint exceeds width: ${i} vs ${s.bitLength()}`);return n=n||i,s.toArrayLike(t,"be",n/8)}if(e.startsWith("int")){const i=l(e);if(i%8||i<8||i>256)throw new Error(`Invalid int<N> width: ${i}`);const s=f(r);if(s.bitLength()>i)throw new Error(`Supplied int exceeds width: ${i} vs ${s.bitLength()}`);return n=n||i,s.toTwos(i).toArrayLike(t,"be",n/8)}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function h(e){return e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256${e.slice(4)}`:"uint"===e?"uint256":e.startsWith("fixed[")?`fixed128x128${e.slice(5)}`:"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?`ufixed128x128${e.slice(6)}`:"ufixed"===e?"ufixed128x128":e}function p(e,r){if("address"===e)return p("uint160",f(r));if("bool"===e)return p("uint8",r?1:0);if("string"===e)return p("bytes",t.from(r,"utf8"));if(c(e)){if(void 0===r.length)throw new Error("Not an array?");const n=u(e);if("dynamic"!==n&&0!==n&&null!==n&&r.length>n)throw new Error(`Elements exceed array size: ${n}`);const i=[];e=e.slice(0,e.lastIndexOf("[")),"string"==typeof r&&(r=JSON.parse(r));for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&i.push(p(e,r[t]));if("dynamic"===n){const e=p("uint256",r.length);i.unshift(e)}return t.concat(i)}if("bytes"===e){r=t.from(r);let e=t.concat([p("uint256",r.length),r]);return r.length%32!=0&&(e=t.concat([e,(0,i.zeros)(32-r.length%32)])),e}if(e.startsWith("bytes")){const t=l(e);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);const n="number"==typeof r?(0,a.normalize)(r):r;return(0,i.setLengthRight)((0,i.toBuffer)(n),32)}if(e.startsWith("uint")){const n=l(e);if(n%8||n<8||n>256)throw new Error(`Invalid uint<N> width: ${n}`);const i=f(r);if(i.bitLength()>n)throw new Error(`Supplied uint exceeds width: ${n} vs ${i.bitLength()}`);if(i.isNeg())throw new Error("Supplied uint is negative");return i.toArrayLike(t,"be",32)}if(e.startsWith("int")){const n=l(e);if(n%8||n<8||n>256)throw new Error(`Invalid int<N> width: ${n}`);const i=f(r);if(i.bitLength()>n)throw new Error(`Supplied int exceeds width: ${n} vs ${i.bitLength()}`);return i.toTwos(256).toArrayLike(t,"be",32)}if(e.startsWith("ufixed")){const t=g(e),n=f(r);if(n.isNeg())throw new Error("Supplied ufixed is negative");return p("uint256",n.mul(new s.default(2).pow(new s.default(t[1]))))}if(e.startsWith("fixed")){const t=g(e);return p("int256",f(r).mul(new s.default(2).pow(new s.default(t[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function m(e){return"string"===e||"bytes"===e||"dynamic"===u(e)}function g(e){const t=/^\D+(\d+)x(\d+)$/u.exec(e);if(null===t||t.length<1)throw new Error(`Invalid parseTypeNxM input "${e}".`);return[parseInt(t[1],10),parseInt(t[2],10)]}r.solidityPack=function(e,r){if(e.length!==r.length)throw new Error("Number of types are not matching the values");const n=[];for(let t=0;t<e.length;t++){const i=h(e[t]),s=r[t];n.push(d(i,s,null))}return t.concat(n)},r.parseNumber=f,r.rawEncode=function(e,r){const n=[],i=[];let s=0;e.forEach((e=>{if(c(e)){const t=u(e);s+="dynamic"!==t&&null!==t?32*t:32}else s+=32}));for(let t=0;t<e.length;t++){const o=h(e[t]),a=p(o,r[t]);m(o)?(n.push(p("uint256",s)),i.push(a),s+=a.length):n.push(a)}return t.concat(n.concat(i))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/ethereumjs-abi-utils.js"}],[1206,{"./encryption":1204,"./personal-sign":1207,"./sign-typed-data":1208,"./utils":1209},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/index.js"}],[1207,{"./utils":1209,"@ethereumjs/util":410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1208,{"./ethereumjs-abi-utils":1205,"./utils":1209,"@ethereumjs/util":410,buffer:2913,"ethereum-cryptography/keccak":3240,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("ethereum-cryptography/keccak"),s=e("ethjs-util"),o=e("./ethereumjs-abi-utils"),a=e("./utils");var c;function u(e,t){if(!Object.keys(c).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function l(e,r,d,h,p){if(u(p,[c.V3,c.V4]),e[d]!==undefined)return["bytes32",p===c.V4&&null==h?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,i.keccak256)(f(d,h,e,p)))];if(h===undefined)throw new Error(`missing value for field ${r} of type ${d}`);if("bytes"===d){if("number"==typeof h)h=(0,a.numberToBuffer)(h);else if((0,s.isHexString)(h)){const e=h.length%2?"0":"";h=t.from(e+h.slice(2),"hex")}else h=t.from(h,"utf8");return["bytes32",(0,n.arrToBufArr)((0,i.keccak256)(h))]}if("string"===d)return h="number"==typeof h?(0,a.numberToBuffer)(h):t.from(null!=h?h:"","utf8"),["bytes32",(0,n.arrToBufArr)((0,i.keccak256)(h))];if(d.endsWith("]")){if(p===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const t=d.slice(0,d.lastIndexOf("[")),s=h.map((n=>l(e,r,t,n,p)));return["bytes32",(0,n.arrToBufArr)((0,i.keccak256)((0,o.rawEncode)(s.map((([e])=>e)),s.map((([,e])=>e)))))]}return[d,h]}function f(e,t,r,n){u(n,[c.V3,c.V4]);const i=["bytes32"],s=[m(e,r)];for(const o of r[e]){if(n===c.V3&&t[o.name]===undefined)continue;const[e,a]=l(r,o.name,o.type,t[o.name],n);i.push(e),s.push(a)}return(0,o.rawEncode)(i,s)}function d(e,t){let r="";const n=h(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function h(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])h(n.type,t,r);return r}function p(e,t,r,s){u(s,[c.V3,c.V4]);const o=f(e,t,r,s),a=(0,i.keccak256)(o);return(0,n.arrToBufArr)(a)}function m(e,r){const s=t.from(d(e,r),"utf-8");return(0,n.arrToBufArr)((0,i.keccak256)(s))}function g(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function y(e,t){u(t,[c.V3,c.V4]);const r=g(e),{domain:n}=r;return p("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function b(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((function(e){return"bytes"!==e.type?e.value:(0,a.legacyToBuffer)(e.value)})),s=e.map((function(e){return e.type})),c=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,n.arrToBufArr)((0,i.keccak256)((0,o.solidityPack)(["bytes32","bytes32"],[(0,i.keccak256)((0,o.solidityPack)(new Array(e.length).fill("string"),c)),(0,i.keccak256)((0,o.solidityPack)(s,r))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(c=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:f,encodeType:d,findTypeDependencies:h,hashStruct:p,hashType:m,sanitizeData:g,eip712Hash:function(e,r){u(r,[c.V3,c.V4]);const s=g(e),o=[t.from("1901","hex")];return o.push(y(e,r)),"EIP712Domain"!==s.primaryType&&o.push(p(s.primaryType,s.message,s.types,r)),(0,n.arrToBufArr)((0,i.keccak256)(t.concat(o)))},eip712DomainHash:y},r.typedSignatureHash=function(e){const t=b(e);return(0,n.bufferToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(u(i),(0,a.isNullish)(t))throw new Error("Missing data parameter");if((0,a.isNullish)(e))throw new Error("Missing private key parameter");const s=i===c.V1?b(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,a.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(u(i),(0,a.isNullish)(e))throw new Error("Missing data parameter");if((0,a.isNullish)(t))throw new Error("Missing signature parameter");const s=i===c.V1?b(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,a.recoverPublicKey)(s,t),l=(0,n.publicToAddress)(o);return(0,n.bufferToHex)(l)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1209,{"@ethereumjs/util":410,buffer:2913,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.numberToBuffer=r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("ethjs-util");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,i.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),c=(0,n.bufferToInt)(e),u=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),f=(0,i.stripHexPrefix)((0,i.intToHex)(c));return(0,n.addHexPrefix)(u.concat(l,f))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,n.toBuffer)(e);e=(0,n.bufferToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,n.addHexPrefix)(e.toLowerCase())},r.numberToBuffer=function(e){const r=e.toString(16),n=r.length%2?"0":"";return t.from(n+r,"hex")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/utils.js"}],[121,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:30,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=30;const r=function(e){const t=e;if(e.PreferencesController){const{frequentRpcListDetail:e}=t.PreferencesController;e&&(e.forEach(((t,r)=>{Boolean(t.chainId)&&Number.isNaN(parseInt(t.chainId))&&delete e[r].chainId})),t.PreferencesController.frequentRpcListDetail=e)}e.NetworkController&&(t.NetworkController.network&&Number.isNaN(parseInt(t.NetworkController.network))&&delete t.NetworkController.network,t.NetworkController.provider&&t.NetworkController.provider.chainId&&Number.isNaN(parseInt(t.NetworkController.provider.chainId))&&delete t.NetworkController.provider.chainId);return t}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/030.js"}],[1210,{buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){var r=function(){function t(e,t){return null!=t&&e instanceof t}var r,n,i;try{r=Map}catch(e){r=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function s(o,c,u,l,f){"object"==typeof c&&(u=c.depth,l=c.prototype,f=c.includeNonEnumerable,c=c.circular);var d=[],h=[],p=void 0!==e;return void 0===c&&(c=!0),void 0===u&&(u=Infinity),function o(u,m){if(null===u)return null;if(0===m)return u;var g,y;if("object"!=typeof u)return u;if(t(u,r))g=new r;else if(t(u,n))g=new n;else if(t(u,i))g=new i((function(e,t){u.then((function(t){e(o(t,m-1))}),(function(e){t(o(e,m-1))}))}));else if(s.__isArray(u))g=[];else if(s.__isRegExp(u))g=new RegExp(u.source,a(u)),u.lastIndex&&(g.lastIndex=u.lastIndex);else if(s.__isDate(u))g=new Date(u.getTime());else{if(p&&e.isBuffer(u))return g=e.allocUnsafe?e.allocUnsafe(u.length):new e(u.length),u.copy(g),g;t(u,Error)?g=Object.create(u):void 0===l?(y=Object.getPrototypeOf(u),g=Object.create(y)):(g=Object.create(l),y=l)}if(c){var b=d.indexOf(u);if(-1!=b)return h[b];d.push(u),h.push(g)}for(var w in t(u,r)&&u.forEach((function(e,t){var r=o(t,m-1),n=o(e,m-1);g.set(r,n)})),t(u,n)&&u.forEach((function(e){var t=o(e,m-1);g.add(t)})),u){var k;y&&(k=Object.getOwnPropertyDescriptor(y,w)),k&&null==k.set||(g[w]=o(u[w],m-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(u);for(w=0;w<_.length;w++){var v=_[w];(!(T=Object.getOwnPropertyDescriptor(u,v))||T.enumerable||f)&&(g[v]=o(u[v],m-1),T.enumerable||Object.defineProperty(g,v,{enumerable:!1}))}}if(f){var E=Object.getOwnPropertyNames(u);for(w=0;w<E.length;w++){var T,S=E[w];(T=Object.getOwnPropertyDescriptor(u,S))&&T.enumerable||(g[S]=o(u[S],m-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(o,u)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return s.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},s.__objToStr=o,s.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},s.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},s.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},s.__getRegExpFlags=a,s}();"object"==typeof t&&t.exports&&(t.exports=r)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>clone",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/clone/clone.js"}],[1211,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r(((r,i)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),i(t)):r(t)}else e?i(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)}))};t.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let i;i="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):n(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const s in e){const o=e[s];i[s]="function"==typeof o&&r(s)?n(o,t):o}return i}}}},{package:"@metamask/eth-json-rpc-middleware>pify",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/pify/index.js"}],[1212,{"./provider-from-engine":1213,"./provider-from-middleware":1214},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./provider-from-engine"),r),i(e("./provider-from-middleware"),r)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/index.js"}],[1213,{"./safe-event-emitter-provider":1215},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.providerFromEngine=void 0;const n=e("./safe-event-emitter-provider");r.providerFromEngine=function(e){return new n.SafeEventEmitterProvider({engine:e})}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/provider-from-engine.js"}],[1214,{"./provider-from-engine":1213,"json-rpc-engine":3868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.providerFromMiddleware=void 0;const n=e("json-rpc-engine"),i=e("./provider-from-engine");r.providerFromMiddleware=function(e){const t=new n.JsonRpcEngine;return t.push(e),(0,i.providerFromEngine)(t)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/provider-from-middleware.js"}],[1215,{"@metamask/safe-event-emitter":1777},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.SafeEventEmitterProvider=void 0;const a=o(e("@metamask/safe-event-emitter"));class c extends a.default{constructor({engine:e}){super(),n.set(this,void 0),this.sendAsync=(e,t)=>{s(this,n,"f").handle(e,t)},this.send=(e,t)=>{if("function"!=typeof t)throw new Error('Must provide callback to "send" method.');s(this,n,"f").handle(e,t)},i(this,n,e,"f"),e.on&&e.on("notification",(e=>{this.emit("data",null,e)}))}}r.SafeEventEmitterProvider=c,n=new WeakMap}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/safe-event-emitter-provider.js"}],[1216,{"./constants":1217,"@metamask/browser-passworder":1120,"@metamask/eth-hd-keyring":1148,"@metamask/eth-sig-util":1221,"@metamask/eth-simple-keyring":1268,"@metamask/obs-store":1659,"@metamask/utils":1234,events:3331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},h=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.keyringBuilderFactory=r.KeyringController=void 0;const m=d(e("@metamask/browser-passworder")),g=p(e("@metamask/eth-hd-keyring")),y=e("@metamask/eth-sig-util"),b=p(e("@metamask/eth-simple-keyring")),w=e("@metamask/obs-store"),k=e("@metamask/utils"),_=e("events"),v=e("./constants"),E=[S(b.default),S(g.default)];class T extends _.EventEmitter{constructor({keyringBuilders:e,cacheEncryptionKey:t,initState:r={},encryptor:i=m}){super(),n.add(this),this.keyringBuilders=e?E.concat(e):E,this.store=new w.ObservableStore(r),this.memStore=new w.ObservableStore({isUnlocked:!1,keyringTypes:this.keyringBuilders.map((e=>e.type)),keyrings:[]}),this.encryptor=i,this.keyrings=[],this.unsupportedKeyrings=[],this.cacheEncryptionKey=Boolean(t)}fullUpdate(){return this.emit("update",this.memStore.getState()),this.memStore.getState()}async createNewVaultAndKeychain(e){return this.password=e,await h(this,n,"m",i).call(this),h(this,n,"m",c).call(this),this.fullUpdate()}async createNewVaultAndRestore(e,t){if("string"!=typeof e)throw new TypeError(v.KeyringControllerError.WrongPasswordType);this.password=e,await h(this,n,"m",o).call(this);const r=await this.addNewKeyring(v.KeyringType.HD,{mnemonic:t,numberOfAccounts:1}),[i]=await r.getAccounts();if(!i)throw new Error(v.KeyringControllerError.NoFirstAccount);return h(this,n,"m",c).call(this),this.fullUpdate()}async setLocked(){return delete this.password,this.memStore.putState({isUnlocked:!1,keyrings:[]}),await h(this,n,"m",o).call(this),this.emit("lock"),this.fullUpdate()}async submitPassword(e){return this.keyrings=await this.unlockKeyrings(e),h(this,n,"m",c).call(this),this.fullUpdate()}async submitEncryptionKey(e,t){return this.keyrings=await this.unlockKeyrings(undefined,e,t),h(this,n,"m",c).call(this),this.fullUpdate()}async verifyPassword(e){const t=this.store.getState().vault;if(!t)throw new Error(v.KeyringControllerError.VaultError);await this.encryptor.decrypt(e,t)}async addNewAccount(e){return(await e.addAccounts(1)).forEach((e=>{this.emit("newAccount",e)})),await this.persistAllKeyrings(),this.fullUpdate()}async exportAccount(e){const t=await this.getKeyringForAccount(e);if(!t.exportAccount)throw new Error(v.KeyringControllerError.UnsupportedExportAccount);return await t.exportAccount((0,y.normalize)(e))}async removeAccount(e){const t=await this.getKeyringForAccount(e);if(!t.removeAccount)throw new Error(v.KeyringControllerError.UnsupportedRemoveAccount);await t.removeAccount(e),this.emit("removedAccount",e);return 0===(await t.getAccounts()).length&&await this.removeEmptyKeyrings(),await this.persistAllKeyrings(),this.fullUpdate()}async getAccounts(){const e=this.keyrings||[];return(await Promise.all(e.map((async e=>e.getAccounts())))).reduce(((e,t)=>e.concat(t)),[]).map(y.normalize)}getKeyringBuilderForType(e){return this.keyringBuilders.find((t=>t.type===e))}async updateMemStoreKeyrings(){const e=await Promise.all(this.keyrings.map(A));this.memStore.updateState({keyrings:e})}async signTransaction(e,t,r={}){const n=(0,y.normalize)(t),i=await this.getKeyringForAccount(n);if(!i.signTransaction)throw new Error(v.KeyringControllerError.UnsupportedSignTransaction);return await i.signTransaction(n,e,r)}async signMessage(e,t={}){const r=(0,y.normalize)(e.from),n=await this.getKeyringForAccount(r);if(!n.signMessage)throw new Error(v.KeyringControllerError.UnsupportedSignMessage);return await n.signMessage(r,e.data,t)}async signPersonalMessage(e,t={}){const r=(0,y.normalize)(e.from),n=await this.getKeyringForAccount(r);if(!n.signPersonalMessage)throw new Error(v.KeyringControllerError.UnsupportedSignPersonalMessage);const i=(0,y.normalize)(e.data);return await n.signPersonalMessage(r,i,t)}async getEncryptionPublicKey(e,t={}){const r=(0,y.normalize)(e),n=await this.getKeyringForAccount(e);if(!n.getEncryptionPublicKey)throw new Error(v.KeyringControllerError.UnsupportedGetEncryptionPublicKey);return await n.getEncryptionPublicKey(r,t)}async decryptMessage(e){const t=(0,y.normalize)(e.from),r=await this.getKeyringForAccount(t);if(!r.decryptMessage)throw new Error(v.KeyringControllerError.UnsupportedDecryptMessage);return r.decryptMessage(t,e.data)}async signTypedMessage(e,t={version:"V1"}){const r=(0,y.normalize)(e.from),n=await this.getKeyringForAccount(r);if(!n.signTypedData)throw new Error(v.KeyringControllerError.UnsupportedSignTypedMessage);return n.signTypedData(r,e.data,t)}async getAppKeyAddress(e,t){const r=(0,y.normalize)(e),n=await this.getKeyringForAccount(r);if(!n.getAppKeyAddress)throw new Error(v.KeyringControllerError.UnsupportedGetAppKeyAddress);return n.getAppKeyAddress(r,t)}async exportAppKeyForAddress(e,t){const r=(0,y.normalize)(e),n=await this.getKeyringForAccount(r);if(!n.exportAccount)throw new Error(v.KeyringControllerError.UnsupportedExportAppKeyForAddress);return n.exportAccount(r,{withAppKeyOrigin:t})}async addNewKeyring(e,t){const r=await h(this,n,"m",u).call(this,e,t);if(!r)throw new Error(v.KeyringControllerError.NoKeyring);if(!(e!==v.KeyringType.HD||(0,k.isObject)(t)&&t.mnemonic)){if(!r.generateRandomMnemonic)throw new Error(v.KeyringControllerError.UnsupportedGenerateRandomMnemonic);r.generateRandomMnemonic(),await r.addAccounts(1)}const i=await r.getAccounts();return await this.checkForDuplicate(e,i),this.keyrings.push(r),await this.persistAllKeyrings(),this.fullUpdate(),r}async removeEmptyKeyrings(){const e=[];await Promise.all(this.keyrings.map((async t=>{(await t.getAccounts()).length>0?e.push(t):await h(this,n,"m",a).call(this,t)}))),this.keyrings=e}async checkForDuplicate(e,t){const r=await this.getAccounts();if(e===v.KeyringType.Simple){if(Boolean(r.find((e=>t[0]&&(e===t[0]||e===(0,k.remove0x)(t[0]))))))throw new Error(v.KeyringControllerError.DuplicatedAccount);return t}return t}async getKeyringForAccount(e){var t;const r=(0,y.normalize)(e),n=await Promise.all(this.keyrings.map((async e=>Promise.all([e,e.getAccounts()])))),i=n.filter((e=>e[1].map(y.normalize).includes(r)));if(i.length&&(null===(t=i[0])||void 0===t?void 0:t.length))return i[0][0];let s="";throw(0,k.isValidHexAddress)(r)?n.length?i.length||(s="There are keyrings, but none match the address"):s="There are no keyrings":s="The address passed in is invalid/empty",new Error(`${v.KeyringControllerError.NoKeyring}. Error info: ${s}`)}async restoreKeyring(e){const t=await h(this,n,"m",s).call(this,e);return t&&await this.updateMemStoreKeyrings(),t}getKeyringsByType(e){return this.keyrings.filter((t=>t.type===e))}async persistAllKeyrings(){const{encryptionKey:e,encryptionSalt:t}=this.memStore.getState();if(!this.password&&!e)throw new Error(v.KeyringControllerError.MissingCredentials);const r=await Promise.all(this.keyrings.map((async e=>{const[t,r]=await Promise.all([e.type,e.serialize()]);return{type:t,data:r}})));let n,i;if(r.push(...this.unsupportedKeyrings),this.cacheEncryptionKey){if(this.password){const{vault:e,exportedKeyString:t}=await this.encryptor.encryptWithDetail(this.password,r);n=e,i=t}else if(e){const i=await this.encryptor.importKey(e),s=await this.encryptor.encryptWithKey(i,r);s.salt=t,n=JSON.stringify(s)}}else{if("string"!=typeof this.password)throw new TypeError(v.KeyringControllerError.WrongPasswordType);n=await this.encryptor.encrypt(this.password,r)}if(!n)throw new Error(v.KeyringControllerError.MissingVaultData);return this.store.updateState({vault:n}),await this.updateMemStoreKeyrings(),i&&this.memStore.updateState({encryptionKey:i,encryptionSalt:JSON.parse(n).salt}),!0}async unlockKeyrings(e,t,r){const i=this.store.getState().vault;if(!i)throw new Error(v.KeyringControllerError.VaultError);let a;if(await h(this,n,"m",o).call(this),this.cacheEncryptionKey)if(e){const t=await this.encryptor.decryptWithDetail(e,i);a=t.vault,this.password=e,this.memStore.updateState({encryptionKey:t.exportedKeyString,encryptionSalt:t.salt})}else{const e=JSON.parse(i);if(r!==e.salt)throw new Error(v.KeyringControllerError.ExpiredCredentials);if("string"!=typeof t)throw new TypeError(v.KeyringControllerError.WrongPasswordType);const n=await this.encryptor.importKey(t);a=await this.encryptor.decryptWithKey(n,e),this.memStore.updateState({encryptionKey:t,encryptionSalt:r})}else{if("string"!=typeof e)throw new TypeError(v.KeyringControllerError.WrongPasswordType);a=await this.encryptor.decrypt(e,i),this.password=e}return await Promise.all(a.map(h(this,n,"m",s).bind(this))),await this.updateMemStoreKeyrings(),this.keyrings}}function S(e){const t=()=>new e;return t.type=e.type,t}async function A(e){const t=await e.getAccounts();return{type:e.type,accounts:t.map(y.normalize)}}r.KeyringController=T,n=new WeakSet,i=async function(){await h(this,n,"m",o).call(this);const e=await this.addNewKeyring(v.KeyringType.HD);if(!e)throw new Error(v.KeyringControllerError.NoKeyring);const[t]=await e.getAccounts();if(!t)throw new Error(v.KeyringControllerError.NoAccountOnKeychain);const r=(0,y.normalize)(t);return this.emit("newVault",r),null},s=async function(e){const{type:t,data:r}=e;let i;try{i=await h(this,n,"m",u).call(this,t,r)}catch(e){console.error(e)}return i?(await i.getAccounts(),this.keyrings.push(i),i):(this.unsupportedKeyrings.push(e),undefined)},o=async function(){for(const e of this.keyrings)await h(this,n,"m",a).call(this,e);this.keyrings=[],this.memStore.updateState({keyrings:[]})},a=async function(e){var t;await(null===(t=e.destroy)||void 0===t?void 0:t.call(e))},c=function(){this.memStore.updateState({isUnlocked:!0}),this.emit("unlock")},u=async function(e,t){const r=this.getKeyringBuilderForType(e);if(!r)throw new Error(`${v.KeyringControllerError.NoKeyringBuilder}. Keyring type: ${e}`);const n=r();return await n.deserialize(t),n.init&&await n.init(),n},r.keyringBuilderFactory=S}}},{package:"@metamask/eth-keyring-controller",file:"node_modules/@metamask/eth-keyring-controller/dist/KeyringController.js"}],[1217,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringControllerError=r.KeyringType=void 0,function(e){e.HD="HD Key Tree",e.Simple="Simple Key Pair"}(r.KeyringType||(r.KeyringType={})),function(e){e.NoKeyring="KeyringController - No keyring found",e.WrongPasswordType="KeyringController - Password must be of type string.",e.NoFirstAccount="KeyringController - First Account not found.",e.DuplicatedAccount="KeyringController - The account you are trying to import is a duplicate",e.VaultError="KeyringController - Cannot unlock without a previous vault.",e.UnsupportedGenerateRandomMnemonic="KeyringController - The current keyring does not support the method generateRandomMnemonic.",e.UnsupportedExportAccount="`KeyringController - The keyring for the current address does not support the method exportAccount",e.UnsupportedRemoveAccount="`KeyringController - The keyring for the current address does not support the method removeAccount",e.UnsupportedSignTransaction="KeyringController - The keyring for the current address does not support the method signTransaction.",e.UnsupportedSignMessage="KeyringController - The keyring for the current address does not support the method signMessage.",e.UnsupportedSignPersonalMessage="KeyringController - The keyring for the current address does not support the method signPersonalMessage.",e.UnsupportedGetEncryptionPublicKey="KeyringController - The keyring for the current address does not support the method getEncryptionPublicKey.",e.UnsupportedDecryptMessage="KeyringController - The keyring for the current address does not support the method decryptMessage.",e.UnsupportedSignTypedMessage="KeyringController - The keyring for the current address does not support the method signTypedMessage.",e.UnsupportedGetAppKeyAddress="KeyringController - The keyring for the current address does not support the method getAppKeyAddress.",e.UnsupportedExportAppKeyForAddress="KeyringController - The keyring for the current address does not support the method exportAppKeyForAddress.",e.NoAccountOnKeychain="KeyringController - The keyring for the current address does not support the method decryptMessage.",e.MissingCredentials="KeyringController - Cannot persist vault without password and encryption key",e.MissingVaultData="KeyringController - Cannot persist vault without vault information",e.ExpiredCredentials="KeyringController - Encryption key and salt provided are expired",e.NoKeyringBuilder="KeyringController - No keyringBuilder found for keyring",e.DataType="KeyringController - Incorrect data type provided"}(r.KeyringControllerError||(r.KeyringControllerError={}))}}},{package:"@metamask/eth-keyring-controller",file:"node_modules/@metamask/eth-keyring-controller/dist/constants.js"}],[1218,{"./KeyringController":1216,"./constants":1217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringControllerError=r.KeyringType=r.keyringBuilderFactory=r.KeyringController=void 0;var n=e("./KeyringController");Object.defineProperty(r,"KeyringController",{enumerable:!0,get:function(){return n.KeyringController}}),Object.defineProperty(r,"keyringBuilderFactory",{enumerable:!0,get:function(){return n.keyringBuilderFactory}});var i=e("./constants");Object.defineProperty(r,"KeyringType",{enumerable:!0,get:function(){return i.KeyringType}}),Object.defineProperty(r,"KeyringControllerError",{enumerable:!0,get:function(){return i.KeyringControllerError}})}}},{package:"@metamask/eth-keyring-controller",file:"node_modules/@metamask/eth-keyring-controller/dist/index.js"}],[1219,{"./utils":1224,buffer:2913,tweetnacl:4651,"tweetnacl-util":4650},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=s(e("tweetnacl")),a=s(e("tweetnacl-util")),c=e("./utils");function u({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=o.box.keyPair();let n;try{n=a.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const i=a.decodeUTF8(t),s=o.randomBytes(o.box.nonceLength),c=o.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:a.encodeBase64(s),ephemPublicKey:a.encodeBase64(r.publicKey),ciphertext:a.encodeBase64(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const r=f(t),n=o.box.keyPair.fromSecretKey(r).secretKey,i=a.decodeBase64(e.nonce),s=a.decodeBase64(e.ciphertext),c=a.decodeBase64(e.ephemPublicKey),u=o.box.open(s,i,c,n);try{if(!u)throw new Error;const e=a.encodeUTF8(u);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}function f(e){const r=t.from(e,"hex").toString("base64");return a.decodeBase64(r)}r.encrypt=u,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(r))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const t=f(e),r=o.box.keyPair.fromSecretKey(t).publicKey;return a.encodeBase64(r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[122,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:31,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=31;const r=function(e){const{KeyringController:t,PreferencesController:r}=e;if(t&&r){const{vault:e}=t;r.completedOnboarding=Boolean(e)}return e}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/031.js"}],[1220,{"./utils":1224,"@ethereumjs/util":410,"bn.js":2851,buffer:2913,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.rawEncode=r.parseNumber=r.solidityPack=void 0;const i=e("@ethereumjs/util"),s=n(e("bn.js")),o=e("ethjs-util"),a=e("./utils");function c(e){return e.endsWith("]")}function u(e){const t=e.match(/(.*)\[(.*?)\]$/u);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function l(e){const t=/^\D+(\d+)$/u.exec(e);if(null===t)throw new Error(`Invalid parseTypeN input "${e}".`);return parseInt(t[1],10)}function f(e){const t=typeof e;if("string"===t)return(0,i.isHexPrefixed)(e)?new s.default((0,o.stripHexPrefix)(e),16):new s.default(e,10);if("number"===t)return new s.default(e);if(e&&Object.prototype.hasOwnProperty.call(e,"toArray")||s.default.isBN(e))return e;throw new Error("Argument is not a number")}function d(e,r,n){if(c(e)){const n=e.replace(/\[.*?\]/u,"");if(!c(n)){const t=u(e);if("dynamic"!==t&&0!==t&&null!==t&&r.length>t)throw new Error(`Elements exceed array size: ${t}`)}const i=r.map((e=>d(n,e,256)));return t.concat(i)}if("bytes"===e)return r;if("string"===e)return t.from(r,"utf8");if("bool"===e){n=n||8;const e=Array(n/4).join("0");return t.from(r?`${e}1`:`${e}0`,"hex")}if("address"===e){let e=20;return n&&(e=n/8),(0,i.setLengthLeft)((0,i.toBuffer)(r),e)}if(e.startsWith("bytes")){const t=l(e);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);return"number"==typeof r&&(r=(0,a.normalize)(r)),(0,i.setLengthRight)((0,i.toBuffer)(r),t)}if(e.startsWith("uint")){const i=l(e);if(i%8||i<8||i>256)throw new Error(`Invalid uint<N> width: ${i}`);const s=f(r);if(s.bitLength()>i)throw new Error(`Supplied uint exceeds width: ${i} vs ${s.bitLength()}`);return n=n||i,s.toArrayLike(t,"be",n/8)}if(e.startsWith("int")){const i=l(e);if(i%8||i<8||i>256)throw new Error(`Invalid int<N> width: ${i}`);const s=f(r);if(s.bitLength()>i)throw new Error(`Supplied int exceeds width: ${i} vs ${s.bitLength()}`);return n=n||i,s.toTwos(i).toArrayLike(t,"be",n/8)}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function h(e){return e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256${e.slice(4)}`:"uint"===e?"uint256":e.startsWith("fixed[")?`fixed128x128${e.slice(5)}`:"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?`ufixed128x128${e.slice(6)}`:"ufixed"===e?"ufixed128x128":e}function p(e,r){if("address"===e)return p("uint160",f(r));if("bool"===e)return p("uint8",r?1:0);if("string"===e)return p("bytes",t.from(r,"utf8"));if(c(e)){if(void 0===r.length)throw new Error("Not an array?");const n=u(e);if("dynamic"!==n&&0!==n&&null!==n&&r.length>n)throw new Error(`Elements exceed array size: ${n}`);const i=[];e=e.slice(0,e.lastIndexOf("[")),"string"==typeof r&&(r=JSON.parse(r));for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&i.push(p(e,r[t]));if("dynamic"===n){const e=p("uint256",r.length);i.unshift(e)}return t.concat(i)}if("bytes"===e){r=t.from(r);let e=t.concat([p("uint256",r.length),r]);return r.length%32!=0&&(e=t.concat([e,(0,i.zeros)(32-r.length%32)])),e}if(e.startsWith("bytes")){const t=l(e);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);const n="number"==typeof r?(0,a.normalize)(r):r;return(0,i.setLengthRight)((0,i.toBuffer)(n),32)}if(e.startsWith("uint")){const n=l(e);if(n%8||n<8||n>256)throw new Error(`Invalid uint<N> width: ${n}`);const i=f(r);if(i.bitLength()>n)throw new Error(`Supplied uint exceeds width: ${n} vs ${i.bitLength()}`);if(i.isNeg())throw new Error("Supplied uint is negative");return i.toArrayLike(t,"be",32)}if(e.startsWith("int")){const n=l(e);if(n%8||n<8||n>256)throw new Error(`Invalid int<N> width: ${n}`);const i=f(r);if(i.bitLength()>n)throw new Error(`Supplied int exceeds width: ${n} vs ${i.bitLength()}`);return i.toTwos(256).toArrayLike(t,"be",32)}if(e.startsWith("ufixed")){const t=g(e),n=f(r);if(n.isNeg())throw new Error("Supplied ufixed is negative");return p("uint256",n.mul(new s.default(2).pow(new s.default(t[1]))))}if(e.startsWith("fixed")){const t=g(e);return p("int256",f(r).mul(new s.default(2).pow(new s.default(t[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function m(e){return"string"===e||"bytes"===e||"dynamic"===u(e)}function g(e){const t=/^\D+(\d+)x(\d+)$/u.exec(e);if(null===t||t.length<1)throw new Error(`Invalid parseTypeNxM input "${e}".`);return[parseInt(t[1],10),parseInt(t[2],10)]}r.solidityPack=function(e,r){if(e.length!==r.length)throw new Error("Number of types are not matching the values");const n=[];for(let t=0;t<e.length;t++){const i=h(e[t]),s=r[t];n.push(d(i,s,null))}return t.concat(n)},r.parseNumber=f,r.rawEncode=function(e,r){const n=[],i=[];let s=0;e.forEach((e=>{if(c(e)){const t=u(e);s+="dynamic"!==t&&null!==t?32*t:32}else s+=32}));for(let t=0;t<e.length;t++){const o=h(e[t]),a=p(o,r[t]);m(o)?(n.push(p("uint256",s)),i.push(a),s+=a.length):n.push(a)}return t.concat(n.concat(i))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/eth-sig-util/dist/ethereumjs-abi-utils.js"}],[1221,{"./encryption":1219,"./personal-sign":1222,"./sign-typed-data":1223,"./utils":1224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.