nableEmitNotification(161),r.enableEmitNotification(160),r.enableEmitNotification(162),r.enableEmitNotification(163),r.enableEmitNotification(201),r.enableEmitNotification(200),r.enableEmitNotification(243))}function Ae(t,r){return e.hasModifier(r,32)?e.getInternalName(t):e.createPropertyAccess(e.getInternalName(t),"prototype")}},e.extendsHelper={name:"typescript:extends",importName:"__extends",scoped:!1,priority:0,text:"\n            var __extends = (this && this.__extends) || (function () {\n                var extendStatics = function (d, b) {\n                    extendStatics = Object.setPrototypeOf ||\n                        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n                    return extendStatics(d, b);\n                };\n\n                return function (d, b) {\n                    extendStatics(d, b);\n                    function __() { this.constructor = d; }\n                    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n                };\n            })();"},e.templateObjectHelper={name:"typescript:makeTemplateObject",importName:"__makeTemplateObject",scoped:!1,priority:0,text:'\n            var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n                if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }\n                return cooked;\n            };'}}(s||(s={})),function(e){e.transformES5=function(t){var r,n,i=t.getCompilerOptions();1!==i.jsx&&3!==i.jsx||(r=t.onEmitNode,t.onEmitNode=function(t,i,a){switch(i.kind){case 266:case 267:case 265:var o=i.tagName;n[e.getOriginalNodeId(o)]=!0}r(t,i,a)},t.enableEmitNotification(266),t.enableEmitNotification(267),t.enableEmitNotification(265),n=[]);var a=t.onSubstituteNode;return t.onSubstituteNode=function(t,r){if(r.id&&n&&n[r.id])return a(t,r);if(r=a(t,r),e.isPropertyAccessExpression(r))return function(t){var r=o(t.name);if(r)return e.setTextRange(e.createElementAccess(t.expression,r),t);return t}(r);if(e.isPropertyAssignment(r))return function(t){var r=e.isIdentifier(t.name)&&o(t.name);if(r)return e.updatePropertyAssignment(t,r,t.initializer);return t}(r);return r},t.enableSubstitution(193),t.enableSubstitution(279),e.chainBundle((function(e){return e}));function o(t){var r=t.originalKeywordKind||(e.nodeIsSynthesized(t)?e.stringToToken(e.idText(t)):void 0);if(void 0!==r&&r>=76&&r<=111)return e.setTextRange(e.createLiteral(t),t)}}}(s||(s={})),function(e){var r,n,i,a,o;!function(e){e[e.Nop=0]="Nop",e[e.Statement=1]="Statement",e[e.Assign=2]="Assign",e[e.Break=3]="Break",e[e.BreakWhenTrue=4]="BreakWhenTrue",e[e.BreakWhenFalse=5]="BreakWhenFalse",e[e.Yield=6]="Yield",e[e.YieldStar=7]="YieldStar",e[e.Return=8]="Return",e[e.Throw=9]="Throw",e[e.Endfinally=10]="Endfinally"}(r||(r={})),function(e){e[e.Open=0]="Open",e[e.Close=1]="Close"}(n||(n={})),function(e){e[e.Exception=0]="Exception",e[e.With=1]="With",e[e.Switch=2]="Switch",e[e.Loop=3]="Loop",e[e.Labeled=4]="Labeled"}(i||(i={})),function(e){e[e.Try=0]="Try",e[e.Catch=1]="Catch",e[e.Finally=2]="Finally",e[e.Done=3]="Done"}(a||(a={})),function(e){e[e.Next=0]="Next",e[e.Throw=1]="Throw",e[e.Return=2]="Return",e[e.Break=3]="Break",e[e.Yield=4]="Yield",e[e.YieldStar=5]="YieldStar",e[e.Catch=6]="Catch",e[e.Endfinally=7]="Endfinally"}(o||(o={})),e.transformGenerators=function(r){var n,i,a,o,s,c,u,l,_,d,p=r.resumeLexicalEnvironment,f=r.endLexicalEnvironment,m=r.hoistFunctionDeclaration,g=r.hoistVariableDeclaration,y=r.getCompilerOptions(),h=e.getEmitScriptTarget(y),v=r.getEmitResolver(),b=r.onSubstituteNode;r.onSubstituteNode=function(t,r){if(r=b(t,r),1===t)return function(t){if(e.isIdentifier(t))return function(t){if(!e.isGeneratedIdentifier(t)&&n&&n.has(e.idText(t))){var r=e.getOriginalNode(t);if(e.isIdentifier(r)&&r.parent){var a=v.getReferencedValueDeclaration(r);if(a){var o=i[e.getOriginalNodeId(a)];if(o){var s=e.getMutableClone(o);return e.setSourceMapRange(s,t),e.setCommentRange(s,t),s}}}}return t}(t);return t}(r);return r};var x,D,S,T,E,C,k,N,A,F,P,w,I=1,O=0,M=0;return e.chainBundle((function(t){if(t.isDeclarationFile||0==(256&t.transformFlags))return t;var n=e.visitEachChild(t,L,r);return e.addEmitHelpers(n,r.readEmitHelpers()),n}));function L(t){var n=t.transformFlags;return o?function(t){switch(t.kind){case 227:case 228:return function(t){return o?(ne(),t=e.visitEachChild(t,L,r),ae(),t):e.visitEachChild(t,L,r)}(t);case 236:return function(t){o&&Z({kind:2,isScript:!0,breakLabel:-1});t=e.visitEachChild(t,L,r),o&&oe();return t}(t);case 237:return function(t){o&&Z({kind:4,isScript:!0,labelText:e.idText(t.label),breakLabel:-1});t=e.visitEachChild(t,L,r),o&&se();return t}(t);default:return R(t)}}(t):a?R(t):e.isFunctionLikeDeclaration(t)&&t.asteriskToken?function(t){switch(t.kind){case 243:return B(t);case 200:return j(t);default:return e.Debug.failBadSyntaxKind(t)}}(t):256&n?e.visitEachChild(t,L,r):t}function R(t){switch(t.kind){case 243:return B(t);case 200:return j(t);case 162:case 163:return function(t){var n=a,i=o;return a=!1,o=!1,t=e.visitEachChild(t,L,r),a=n,o=i,t}(t);case 224:return function(t){if(131072&t.transformFlags)return void q(t.declarationList);if(1048576&e.getEmitFlags(t))return t;for(var r=0,n=t.declarationList.declarations;r<n.length;r++){var i=n[r];g(i.name)}var a=e.getInitializedVariables(t.declarationList);if(0===a.length)return;return e.setSourceMapRange(e.createExpressionStatement(e.inlineExpressions(e.map(a,W))),t)}(t);case 229:return function(t){o&&ne();var n=t.initializer;if(n&&e.isVariableDeclarationList(n)){for(var i=0,a=n.declarations;i<a.length;i++){var s=a[i];g(s.name)}var c=e.getInitializedVariables(n);t=e.updateFor(t,c.length>0?e.inlineExpressions(e.map(c,W)):void 0,e.visitNode(t.condition,L,e.isExpression),e.visitNode(t.incrementor,L,e.isExpression),e.visitNode(t.statement,L,e.isStatement,e.liftToBlock))}else t=e.visitEachChild(t,L,r);o&&ae();return t}(t);case 230:return function(t){o&&ne();var n=t.initializer;if(e.isVariableDeclarationList(n)){for(var i=0,a=n.declarations;i<a.length;i++){var s=a[i];g(s.name)}t=e.updateForIn(t,n.declarations[0].name,e.visitNode(t.expression,L,e.isExpression),e.visitNode(t.statement,L,e.isStatement,e.liftToBlock))}else t=e.visitEachChild(t,L,r);o&&ae();return t}(t);case 233:return function(t){if(o){var n=de(t.label&&e.idText(t.label));if(n>0)return ge(n,t)}return e.visitEachChild(t,L,r)}(t);case 232:return function(t){if(o){var n=pe(t.label&&e.idText(t.label));if(n>0)return ge(n,t)}return e.visitEachChild(t,L,r)}(t);case 234:return function(t){return r=e.visitNode(t.expression,L,e.isExpression),n=t,e.setTextRange(e.createReturn(e.createArrayLiteral(r?[me(2),r]:[me(2)])),n);var r,n}(t);default:return 131072&t.transformFlags?function(t){switch(t.kind){case 208:return function(t){var n=e.getExpressionAssociativity(t);switch(n){case 0:return function(t){if(G(t.right)){if(e.isLogicalOperator(t.operatorToken.kind))return function(t){var r=Q(),n=X();ve(n,e.visitNode(t.left,L,e.isExpression),t.left),55===t.operatorToken.kind?De(r,n,t.left):xe(r,n,t.left);return ve(n,e.visitNode(t.right,L,e.isExpression),t.right),$(r),n}(t);if(27===t.operatorToken.kind)return function(t){var r=[];return n(t.left),n(t.right),e.inlineExpressions(r);function n(t){e.isBinaryExpression(t)&&27===t.operatorToken.kind?(n(t.left),n(t.right)):(G(t)&&r.length>0&&(Se(1,[e.createExpressionStatement(e.inlineExpressions(r))]),r=[]),r.push(e.visitNode(t,L,e.isExpression)))}}(t);var n=e.getMutableClone(t);return n.left=Y(e.visitNode(t.left,L,e.isExpression)),n.right=e.visitNode(t.right,L,e.isExpression),n}return e.visitEachChild(t,L,r)}(t);case 1:return function(t){var n=t.left,i=t.right;if(G(i)){var a=void 0;switch(n.kind){case 193:a=e.updatePropertyAccess(n,Y(e.visitNode(n.expression,L,e.isLeftHandSideExpression)),n.name);break;case 194:a=e.updateElementAccess(n,Y(e.visitNode(n.expression,L,e.isLeftHandSideExpression)),Y(e.visitNode(n.argumentExpression,L,e.isExpression)));break;default:a=e.visitNode(n,L,e.isExpression)}var o=t.operatorToken.kind;return(s=o)>=63&&s<=74?e.setTextRange(e.createAssignment(a,e.setTextRange(e.createBinary(Y(a),function(e){switch(e){case 63:return 39;case 64:return 40;case 65:return 41;case 66:return 42;case 67:return 43;case 68:return 44;case 69:return 47;case 70:return 48;case 71:return 49;case 72:return 50;case 73:return 51;case 74:return 52}}(o),e.visitNode(i,L,e.isExpression)),t)),t):e.updateBinary(t,a,e.visitNode(i,L,e.isExpression))}var s;return e.visitEachChild(t,L,r)}(t);default:return e.Debug.assertNever(n)}}(t);case 209:return function(t){if(G(t.whenTrue)||G(t.whenFalse)){var n=Q(),i=Q(),a=X();return De(n,e.visitNode(t.condition,L,e.isExpression),t.condition),ve(a,e.visitNode(t.whenTrue,L,e.isExpression),t.whenTrue),be(i),$(n),ve(a,e.visitNode(t.whenFalse,L,e.isExpression),t.whenFalse),$(i),a}return e.visitEachChild(t,L,r)}(t);case 211:return function(t){var n=Q(),i=e.visitNode(t.expression,L,e.isExpression);if(t.asteriskToken){!function(e,t){Se(7,[e],t)}(0==(8388608&e.getEmitFlags(t.expression))?e.createValuesHelper(r,i,t):i,t)}else!function(e,t){Se(6,[e],t)}(i,t);return $(n),function(t){return e.setTextRange(e.createCall(e.createPropertyAccess(T,"sent"),void 0,[]),t)}(t)}(t);case 191:return function(e){return J(e.elements,void 0,void 0,e.multiLine)}(t);case 192:return function(t){var r=t.properties,n=t.multiLine,i=H(r),a=X();ve(a,e.createObjectLiteral(e.visitNodes(r,L,e.isObjectLiteralElementLike,0,i),n));var o=e.reduceLeft(r,(function(r,i){G(i)&&r.length>0&&(he(e.createExpressionStatement(e.inlineExpressions(r))),r=[]);var o=e.createExpressionForObjectLiteralElementLike(t,i,a),s=e.visitNode(o,L,e.isExpression);s&&(n&&e.startOnNewLine(s),r.push(s));return r}),[],i);return o.push(n?e.startOnNewLine(e.getMutableClone(a)):a),e.inlineExpressions(o)}(t);case 194:return function(t){if(G(t.argumentExpression)){var n=e.getMutableClone(t);return n.expression=Y(e.visitNode(t.expression,L,e.isLeftHandSideExpression)),n.argumentExpression=e.visitNode(t.argumentExpression,L,e.isExpression),n}return e.visitEachChild(t,L,r)}(t);case 195:return function(t){if(!e.isImportCall(t)&&e.forEach(t.arguments,G)){var n=e.createCallBinding(t.expression,g,h,!0),i=n.target,a=n.thisArg;return e.setOriginalNode(e.createFunctionApply(Y(e.visitNode(i,L,e.isLeftHandSideExpression)),a,J(t.arguments),t),t)}return e.visitEachChild(t,L,r)}(t);case 196:return function(t){if(e.forEach(t.arguments,G)){var n=e.createCallBinding(e.createPropertyAccess(t.expression,"bind"),g),i=n.target,a=n.thisArg;return e.setOriginalNode(e.setTextRange(e.createNew(e.createFunctionApply(Y(e.visitNode(i,L,e.isExpression)),a,J(t.arguments,e.createVoidZero())),void 0,[]),t),t)}return e.visitEachChild(t,L,r)}(t);default:return e.visitEachChild(t,L,r)}}(t):262400&t.transformFlags?e.visitEachChild(t,L,r):t}}function B(t){if(t.asteriskToken)t=e.setOriginalNode(e.setTextRange(e.createFunctionDeclaration(void 0,t.modifiers,void 0,t.name,void 0,e.visitParameterList(t.parameters,L,r),void 0,K(t.body)),t),t);else{var n=a,i=o;a=!1,o=!1,t=e.visitEachChild(t,L,r),a=n,o=i}return a?void m(t):t}function j(t){if(t.asteriskToken)t=e.setOriginalNode(e.setTextRange(e.createFunctionExpression(void 0,void 0,t.name,void 0,e.visitParameterList(t.parameters,L,r),void 0,K(t.body)),t),t);else{var n=a,i=o;a=!1,o=!1,t=e.visitEachChild(t,L,r),a=n,o=i}return t}function K(t){var r=[],n=a,i=o,m=s,g=c,y=u,h=l,v=_,b=d,E=I,C=x,k=D,N=S,A=T;a=!0,o=!1,s=void 0,c=void 0,u=void 0,l=void 0,_=void 0,d=void 0,I=1,x=void 0,D=void 0,S=void 0,T=e.createTempVariable(void 0),p();var F=e.addPrologue(r,t.statements,!1,L);z(t.statements,F);var P=Te();return e.insertStatementsAfterStandardPrologue(r,f()),r.push(e.createReturn(P)),a=n,o=i,s=m,c=g,u=y,l=h,_=v,d=b,I=E,x=C,D=k,S=N,T=A,e.setTextRange(e.createBlock(r,t.multiLine),t)}function J(r,n,i,a){var o,s=H(r);if(s>0){o=X();var c=e.visitNodes(r,L,e.isExpression,0,s);ve(o,e.createArrayLiteral(n?t([n],c):c)),n=void 0}var u=e.reduceLeft(r,(function(r,i){if(G(i)&&r.length>0){var s=void 0!==o;o||(o=X()),ve(o,s?e.createArrayConcat(o,[e.createArrayLiteral(r,a)]):e.createArrayLiteral(n?t([n],r):r,a)),n=void 0,r=[]}return r.push(e.visitNode(i,L,e.isExpression)),r}),[],s);return o?e.createArrayConcat(o,[e.createArrayLiteral(u,a)]):e.setTextRange(e.createArrayLiteral(n?t([n],u):u,a),i)}function z(e,t){void 0===t&&(t=0);for(var r=e.length,n=t;n<r;n++)V(e[n])}function U(t){e.isBlock(t)?z(t.statements):V(t)}function V(t){var a=o;o||(o=G(t)),function(t){switch(t.kind){case 222:return function(t){G(t)?z(t.statements):he(e.visitNode(t,L,e.isStatement))}(t);case 225:return function(t){he(e.visitNode(t,L,e.isStatement))}(t);case 226:return function(t){if(G(t))if(G(t.thenStatement)||G(t.elseStatement)){var r=Q(),n=t.elseStatement?Q():void 0;De(t.elseStatement?n:r,e.visitNode(t.expression,L,e.isExpression),t.expression),U(t.thenStatement),t.elseStatement&&(be(r),$(n),U(t.elseStatement)),$(r)}else he(e.visitNode(t,L,e.isStatement));else he(e.visitNode(t,L,e.isStatement))}(t);case 227:return function(t){if(G(t)){var r=Q(),n=Q();ie(r),$(n),U(t.statement),$(r),xe(n,e.visitNode(t.expression,L,e.isExpression)),ae()}else he(e.visitNode(t,L,e.isStatement))}(t);case 228:return function(t){if(G(t)){var r=Q(),n=ie(r);$(r),De(n,e.visitNode(t.expression,L,e.isExpression)),U(t.statement),be(r),ae()}else he(e.visitNode(t,L,e.isStatement))}(t);case 229:return function(t){if(G(t)){var r=Q(),n=Q(),i=ie(n);if(t.initializer){var a=t.initializer;e.isVariableDeclarationList(a)?q(a):he(e.setTextRange(e.createExpressionStatement(e.visitNode(a,L,e.isExpression)),a))}$(r),t.condition&&De(i,e.visitNode(t.condition,L,e.isExpression)),U(t.statement),$(n),t.incrementor&&he(e.setTextRange(e.createExpressionStatement(e.visitNode(t.incrementor,L,e.isExpression)),t.incrementor)),be(r),ae()}else he(e.visitNode(t,L,e.isStatement))}(t);case 230:return function(t){if(G(t)){var r=X(),n=X(),i=e.createLoopVariable(),a=t.initializer;g(i),ve(r,e.createArrayLiteral()),he(e.createForIn(n,e.visitNode(t.expression,L,e.isExpression),e.createExpressionStatement(e.createCall(e.createPropertyAccess(r,"push"),void 0,[n])))),ve(i,e.createLiteral(0));var o=Q(),s=Q(),c=ie(s);$(o),De(c,e.createLessThan(i,e.createPropertyAccess(r,"length")));var u=void 0;if(e.isVariableDeclarationList(a)){for(var l=0,_=a.declarations;l<_.length;l++){var d=_[l];g(d.name)}u=e.getSynthesizedClone(a.declarations[0].name)}else u=e.visitNode(a,L,e.isExpression),e.Debug.assert(e.isLeftHandSideExpression(u));ve(u,e.createElementAccess(r,i)),U(t.statement),$(s),he(e.createExpressionStatement(e.createPostfixIncrement(i))),be(o),ae()}else he(e.visitNode(t,L,e.isStatement))}(t);case 232:return function(t){var r=pe(t.label?e.idText(t.label):void 0);r>0?be(r,t):he(t)}(t);case 233:return function(t){var r=de(t.label?e.idText(t.label):void 0);r>0?be(r,t):he(t)}(t);case 234:return function(t){r=e.visitNode(t.expression,L,e.isExpression),n=t,Se(8,[r],n);var r,n}(t);case 235:return function(t){G(t)?(r=Y(e.visitNode(t.expression,L,e.isExpression)),n=Q(),i=Q(),$(n),Z({kind:1,expression:r,startLabel:n,endLabel:i}),U(t.statement),e.Debug.assert(1===re()),$(ee().endLabel)):he(e.visitNode(t,L,e.isStatement));var r,n,i}(t);case 236:return function(t){if(G(t.caseBlock)){for(var r=t.caseBlock,n=r.clauses.length,i=(Z({kind:2,isScript:!1,breakLabel:p=Q()}),p),a=Y(e.visitNode(t.expression,L,e.isExpression)),o=[],s=-1,c=0;c<n;c++){var u=r.clauses[c];o.push(Q()),276===u.kind&&-1===s&&(s=c)}for(var l=0,_=[];l<n;){var d=0;for(c=l;c<n;c++){if(275===(u=r.clauses[c]).kind){if(G(u.expression)&&_.length>0)break;_.push(e.createCaseClause(e.visitNode(u.expression,L,e.isExpression),[ge(o[c],u.expression)]))}else d++}_.length&&(he(e.createSwitch(a,e.createCaseBlock(_))),l+=_.length,_=[]),d>0&&(l+=d,d=0)}be(s>=0?o[s]:i);for(c=0;c<n;c++)$(o[c]),z(r.clauses[c].statements);oe()}else he(e.visitNode(t,L,e.isStatement));var p}(t);case 237:return function(t){G(t)?(r=e.idText(t.label),n=Q(),Z({kind:4,isScript:!1,labelText:r,breakLabel:n}),U(t.statement),se()):he(e.visitNode(t,L,e.isStatement));var r,n}(t);case 238:return function(t){r=e.visitNode(t.expression,L,e.isExpression),n=t,Se(9,[r],n);var r,n}(t);case 239:return function(t){G(t)?(a=Q(),o=Q(),$(a),Z({kind:0,state:0,startLabel:a,endLabel:o}),ye(),U(t.tryBlock),t.catchClause&&(!function(t){var a;if(e.Debug.assert(0===re()),e.isGeneratedIdentifier(t.name))a=t.name,g(t.name);else{var o=e.idText(t.name);a=X(o),n||(n=e.createMap(),i=[],r.enableSubstitution(75)),n.set(o,!0),i[e.getOriginalNodeId(t)]=a}var s=te();e.Debug.assert(s.state<1),be(s.endLabel);var c=Q();$(c),s.state=1,s.catchVariable=a,s.catchLabel=c,ve(a,e.createCall(e.createPropertyAccess(T,"sent"),void 0,[])),ye()}(t.catchClause.variableDeclaration),U(t.catchClause.block)),t.finallyBlock&&(!function(){e.Debug.assert(0===re());var t=te();e.Debug.assert(t.state<2),be(t.endLabel);var r=Q();$(r),t.state=2,t.finallyLabel=r}(),U(t.finallyBlock)),function(){e.Debug.assert(0===re());var t=ee();t.state<2?be(t.endLabel):Se(10);$(t.endLabel),ye(),t.state=3}()):he(e.visitEachChild(t,L,r));var a,o}(t);default:he(e.visitNode(t,L,e.isStatement))}}(t),o=a}function q(t){for(var r=0,n=t.declarations;r<n.length;r++){var i=n[r],a=e.getSynthesizedClone(i.name);e.setCommentRange(a,i.name),g(a)}for(var o=e.getInitializedVariables(t),s=o.length,c=0,u=[];c<s;){for(var l=c;l<s;l++){if(G((i=o[l]).initializer)&&u.length>0)break;u.push(W(i))}u.length&&(he(e.createExpressionStatement(e.inlineExpressions(u))),c+=u.length,u=[])}}function W(t){return e.setSourceMapRange(e.createAssignment(e.setSourceMapRange(e.getSynthesizedClone(t.name),t.name),e.visitNode(t.initializer,L,e.isExpression)),t)}function G(e){return!!e&&0!=(131072&e.transformFlags)}function H(e){for(var t=e.length,r=0;r<t;r++)if(G(e[r]))return r;return-1}function Y(t){if(e.isGeneratedIdentifier(t)||4096&e.getEmitFlags(t))return t;var r=e.createTempVariable(g);return ve(r,t,t),r}function X(t){var r=t?e.createUniqueName(t):e.createTempVariable(void 0);return g(r),r}function Q(){_||(_=[]);var e=I;return I++,_[e]=-1,e}function $(t){e.Debug.assert(void 0!==_,"No labels were defined."),_[t]=x?x.length:0}function Z(e){s||(s=[],u=[],c=[],l=[]);var t=u.length;return u[t]=0,c[t]=x?x.length:0,s[t]=e,l.push(e),t}function ee(){var t=te();if(void 0===t)return e.Debug.fail("beginBlock was never called.");var r=u.length;return u[r]=1,c[r]=x?x.length:0,s[r]=t,l.pop(),t}function te(){return e.lastOrUndefined(l)}function re(){var e=te();return e&&e.kind}function ne(){Z({kind:3,isScript:!0,breakLabel:-1,continueLabel:-1})}function ie(e){var t=Q();return Z({kind:3,isScript:!1,breakLabel:t,continueLabel:e}),t}function ae(){e.Debug.assert(3===re());var t=ee(),r=t.breakLabel;t.isScript||$(r)}function oe(){e.Debug.assert(2===re());var t=ee(),r=t.breakLabel;t.isScript||$(r)}function se(){e.Debug.assert(4===re());var t=ee();t.isScript||$(t.breakLabel)}function ce(e){return 2===e.kind||3===e.kind}function ue(e){return 4===e.kind}function le(e){return 3===e.kind}function _e(e,t){for(var r=t;r>=0;r--){var n=l[r];if(!ue(n))break;if(n.labelText===e)return!0}return!1}function de(e){if(l)if(e)for(var t=l.length-1;t>=0;t--){if(ue(r=l[t])&&r.labelText===e)return r.breakLabel;if(ce(r)&&_e(e,t-1))return r.breakLabel}else for(t=l.length-1;t>=0;t--){var r;if(ce(r=l[t]))return r.breakLabel}return 0}function pe(e){if(l)if(e)for(var t=l.length-1;t>=0;t--){if(le(r=l[t])&&_e(e,t-1))return r.continueLabel}else for(t=l.length-1;t>=0;t--){var r;if(le(r=l[t]))return r.continueLabel}return 0}function fe(t){if(void 0!==t&&t>0){void 0===d&&(d=[]);var r=e.createLiteral(-1);return void 0===d[t]?d[t]=[r]:d[t].push(r),r}return e.createOmittedExpression()}function me(t){var r=e.createLiteral(t);return e.addSyntheticTrailingComment(r,3,function(e){switch(e){case 2:return"return";case 3:return"break";case 4:return"yield";case 5:return"yield*";case 7:return"endfinally";default:return}}(t)),r}function ge(t,r){return e.Debug.assertLessThan(0,t,"Invalid label"),e.setTextRange(e.createReturn(e.createArrayLiteral([me(3),fe(t)])),r)}function ye(){Se(0)}function he(e){e?Se(1,[e]):ye()}function ve(e,t,r){Se(2,[e,t],r)}function be(e,t){Se(3,[e],t)}function xe(e,t,r){Se(4,[e,t],r)}function De(e,t,r){Se(5,[e,t],r)}function Se(e,t,r){void 0===x&&(x=[],D=[],S=[]),void 0===_&&$(Q());var n=x.length;x[n]=e,D[n]=t,S[n]=r}function Te(){O=0,M=0,E=void 0,C=!1,k=!1,N=void 0,A=void 0,F=void 0,P=void 0,w=void 0;var t=function(){if(x){for(var t=0;t<x.length;t++)Ne(t);Ee(x.length)}else Ee(0);if(N){var r=e.createPropertyAccess(T,"label"),n=e.createSwitch(r,e.createCaseBlock(N));return[e.startOnNewLine(n)]}if(A)return A;return[]}();return function(t,r){return t.requestEmitHelper(e.generatorHelper),e.createCall(e.getUnscopedHelperName("__generator"),void 0,[e.createThis(),r])}(r,e.setEmitFlags(e.createFunctionExpression(void 0,void 0,void 0,void 0,[e.createParameter(void 0,void 0,void 0,T)],void 0,e.createBlock(t,t.length>0)),524288))}function Ee(e){(function(e){if(!k)return!0;if(!_||!d)return!1;for(var t=0;t<_.length;t++)if(_[t]===e&&d[t])return!0;return!1})(e)&&(ke(e),w=void 0,Fe(void 0,void 0)),A&&N&&Ce(!1),function(){if(void 0!==d&&void 0!==E)for(var e=0;e<E.length;e++){var t=E[e];if(void 0!==t)for(var r=0,n=t;r<n.length;r++){var i=n[r],a=d[i];if(void 0!==a)for(var o=0,s=a;o<s.length;o++){s[o].text=String(e)}}}}()}function Ce(t){if(N||(N=[]),A){if(w)for(var r=w.length-1;r>=0;r--){var n=w[r];A=[e.createWith(n.expression,e.createBlock(A))]}if(P){var i=P.startLabel,a=P.catchLabel,o=P.finallyLabel,s=P.endLabel;A.unshift(e.createExpressionStatement(e.createCall(e.createPropertyAccess(e.createPropertyAccess(T,"trys"),"push"),void 0,[e.createArrayLiteral([fe(i),fe(a),fe(o),fe(s)])]))),P=void 0}t&&A.push(e.createExpressionStatement(e.createAssignment(e.createPropertyAccess(T,"label"),e.createLiteral(M+1))))}N.push(e.createCaseClause(e.createLiteral(M),A||[])),A=void 0}function ke(e){if(_)for(var t=0;t<_.length;t++)_[t]===e&&(A&&(Ce(!C),C=!1,k=!1,M++),void 0===E&&(E=[]),void 0===E[M]?E[M]=[t]:E[M].push(t))}function Ne(t){if(ke(t),function(e){if(s)for(;O<u.length&&c[O]<=e;O++){var t=s[O],r=u[O];switch(t.kind){case 0:0===r?(F||(F=[]),A||(A=[]),F.push(P),P=t):1===r&&(P=F.pop());break;case 1:0===r?(w||(w=[]),w.push(t)):1===r&&w.pop()}}}(t),!C){C=!1,k=!1;var r=x[t];if(0!==r){if(10===r)return C=!0,void Ae(e.createReturn(e.createArrayLiteral([me(7)])));var n=D[t];if(1===r)return Ae(n[0]);var i,a,o,l=S[t];switch(r){case 2:return i=n[0],a=n[1],o=l,void Ae(e.setTextRange(e.createExpressionStatement(e.createAssignment(i,a)),o));case 3:return function(t,r){C=!0,Ae(e.setEmitFlags(e.setTextRange(e.createReturn(e.createArrayLiteral([me(3),fe(t)])),r),384))}(n[0],l);case 4:return function(t,r,n){Ae(e.setEmitFlags(e.createIf(r,e.setEmitFlags(e.setTextRange(e.createReturn(e.createArrayLiteral([me(3),fe(t)])),n),384)),1))}(n[0],n[1],l);case 5:return function(t,r,n){Ae(e.setEmitFlags(e.createIf(e.createLogicalNot(r),e.setEmitFlags(e.setTextRange(e.createReturn(e.createArrayLiteral([me(3),fe(t)])),n),384)),1))}(n[0],n[1],l);case 6:return function(t,r){C=!0,Ae(e.setEmitFlags(e.setTextRange(e.createReturn(e.createArrayLiteral(t?[me(4),t]:[me(4)])),r),384))}(n[0],l);case 7:return function(t,r){C=!0,Ae(e.setEmitFlags(e.setTextRange(e.createReturn(e.createArrayLiteral([me(5),t])),r),384))}(n[0],l);case 8:return Fe(n[0],l);case 9:return function(t,r){C=!0,k=!0,Ae(e.setTextRange(e.createThrow(t),r))}(n[0],l)}}}}function Ae(e){e&&(A?A.push(e):A=[e])}function Fe(t,r){C=!0,k=!0,Ae(e.setEmitFlags(e.setTextRange(e.createReturn(e.createArrayLiteral(t?[me(2),t]:[me(2)])),r),384))}},e.generatorHelper={name:"typescript:generator",importName:"__generator",scoped:!1,priority:6,text:'\n            var __generator = (this && this.__generator) || function (thisArg, body) {\n                var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n                return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n                function verb(n) { return function (v) { return step([n, v]); }; }\n                function step(op) {\n                    if (f) throw new TypeError("Generator is already executing.");\n                    while (_) try {\n                        if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n                        if (y = 0, t) op = [op[0] & 2, t.value];\n                        switch (op[0]) {\n                            case 0: case 1: t = op; break;\n                            case 4: _.label++; return { value: op[1], done: false };\n                            case 5: _.label++; y = op[1]; op = [0]; continue;\n                            case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                            default:\n                                if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                                if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                                if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                                if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                                if (t[2]) _.ops.pop();\n                                _.trys.pop(); continue;\n                        }\n                        op = body.call(thisArg, _);\n                    } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n                    if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n                }\n            };'}}(s||(s={})),function(e){e.transformModule=function(i){var a=i.startLexicalEnvironment,o=i.endLexicalEnvironment,s=i.hoistVariableDeclaration,c=i.getCompilerOptions(),u=i.getEmitResolver(),l=i.getEmitHost(),_=e.getEmitScriptTarget(c),d=e.getEmitModuleKind(c),p=i.onSubstituteNode,f=i.onEmitNode;i.onSubstituteNode=function(t,r){if((r=p(t,r)).id&&y[r.id])return r;if(1===t)return function(t){switch(t.kind){case 75:return H(t);case 208:return function(t){if(e.isAssignmentOperator(t.operatorToken.kind)&&e.isIdentifier(t.left)&&!e.isGeneratedIdentifier(t.left)&&!e.isLocalName(t.left)&&!e.isDeclarationNameOfEnumOrNamespace(t.left)){var r=Y(t.left);if(r){for(var n=t,i=0,a=r;i<a.length;i++){var o=a[i];y[e.getNodeId(n)]=!0,n=W(o,n,t)}return n}}return t}(t);case 207:case 206:return function(t){if((45===t.operator||46===t.operator)&&e.isIdentifier(t.operand)&&!e.isGeneratedIdentifier(t.operand)&&!e.isLocalName(t.operand)&&!e.isDeclarationNameOfEnumOrNamespace(t.operand)){var r=Y(t.operand);if(r){for(var n=207===t.kind?e.setTextRange(e.createBinary(t.operand,e.createToken(45===t.operator?63:64),e.createLiteral(1)),t):t,i=0,a=r;i<a.length;i++){var o=a[i];y[e.getNodeId(n)]=!0,n=W(o,n)}return n}}return t}(t)}return t}(r);if(e.isShorthandPropertyAssignment(r))return function(t){var r=t.name,n=H(r);if(n!==r){if(t.objectAssignmentInitializer){var i=e.createAssignment(n,t.objectAssignmentInitializer);return e.setTextRange(e.createPropertyAssignment(r,i),t)}return e.setTextRange(e.createPropertyAssignment(r,n),t)}return t}(r);return r},i.onEmitNode=function(t,r,n){288===r.kind?(m=r,g=v[e.getOriginalNodeId(m)],y=[],f(t,r,n),m=void 0,g=void 0,y=void 0):f(t,r,n)},i.enableSubstitution(75),i.enableSubstitution(208),i.enableSubstitution(206),i.enableSubstitution(207),i.enableSubstitution(280),i.enableEmitNotification(288);var m,g,y,h,v=[],b=[];return e.chainBundle((function(t){if(t.isDeclarationFile||!(e.isEffectiveExternalModule(t,c)||524288&t.transformFlags||e.isJsonSourceFile(t)&&e.hasJsonModuleEmitEnabled(c)&&(c.out||c.outFile)))return t;m=t,g=e.collectExternalModuleInfo(t,u,c),v[e.getOriginalNodeId(t)]=g;var r=function(t){switch(t){case e.ModuleKind.AMD:return S;case e.ModuleKind.UMD:return T;default:return D}}(d)(t);return m=void 0,g=void 0,h=!1,e.aggregateTransformFlags(r)}));function x(){return!(g.exportEquals||!e.isExternalModule(m))}function D(t){a();var n=[],s=e.getStrictOptionValue(c,"alwaysStrict")||!c.noImplicitUseStrict&&e.isExternalModule(m),u=e.addPrologue(n,t.statements,s,A);x()&&e.append(n,q()),e.append(n,e.visitNode(g.externalHelpersImportDeclaration,A,e.isStatement)),e.addRange(n,e.visitNodes(t.statements,A,e.isStatement,u)),N(n,!1),e.insertStatementsAfterStandardPrologue(n,o());var l=e.updateSourceFileNode(t,e.setTextRange(e.createNodeArray(n),t.statements));return g.hasExportStarsToExportValues&&!c.importHelpers&&e.addEmitHelper(l,r),e.addEmitHelpers(l,i.readEmitHelpers()),l}function S(r){var n=e.createIdentifier("define"),a=e.tryGetModuleNameFromFile(r,l,c),o=e.isJsonSourceFile(r)&&r,s=E(r,!0),u=s.aliasedModuleNames,_=s.unaliasedModuleNames,d=s.importAliasNames,p=e.updateSourceFileNode(r,e.setTextRange(e.createNodeArray([e.createExpressionStatement(e.createCall(n,void 0,t(a?[a]:[],[e.createArrayLiteral(o?e.emptyArray:t([e.createLiteral("require"),e.createLiteral("exports")],u,_)),o?o.statements.length?o.statements[0].expression:e.createObjectLiteral():e.createFunctionExpression(void 0,void 0,void 0,void 0,t([e.createParameter(void 0,void 0,void 0,"require"),e.createParameter(void 0,void 0,void 0,"exports")],d),void 0,k(r))])))]),r.statements));return e.addEmitHelpers(p,i.readEmitHelpers()),p}function T(r){var n=E(r,!1),a=n.aliasedModuleNames,o=n.unaliasedModuleNames,s=n.importAliasNames,u=e.tryGetModuleNameFromFile(r,l,c),_=e.createFunctionExpression(void 0,void 0,void 0,void 0,[e.createParameter(void 0,void 0,void 0,"factory")],void 0,e.setTextRange(e.createBlock([e.createIf(e.createLogicalAnd(e.createTypeCheck(e.createIdentifier("module"),"object"),e.createTypeCheck(e.createPropertyAccess(e.createIdentifier("module"),"exports"),"object")),e.createBlock([e.createVariableStatement(void 0,[e.createVariableDeclaration("v",void 0,e.createCall(e.createIdentifier("factory"),void 0,[e.createIdentifier("require"),e.createIdentifier("exports")]))]),e.setEmitFlags(e.createIf(e.createStrictInequality(e.createIdentifier("v"),e.createIdentifier("undefined")),e.createExpressionStatement(e.createAssignment(e.createPropertyAccess(e.createIdentifier("module"),"exports"),e.createIdentifier("v")))),1)]),e.createIf(e.createLogicalAnd(e.createTypeCheck(e.createIdentifier("define"),"function"),e.createPropertyAccess(e.createIdentifier("define"),"amd")),e.createBlock([e.createExpressionStatement(e.createCall(e.createIdentifier("define"),void 0,t(u?[u]:[],[e.createArrayLiteral(t([e.createLiteral("require"),e.createLiteral("exports")],a,o)),e.createIdentifier("factory")])))])))],!0),void 0)),d=e.updateSourceFileNode(r,e.setTextRange(e.createNodeArray([e.createExpressionStatement(e.createCall(_,void 0,[e.createFunctionExpression(void 0,void 0,void 0,void 0,t([e.createParameter(void 0,void 0,void 0,"require"),e.createParameter(void 0,void 0,void 0,"exports")],s),void 0,k(r))]))]),r.statements));return e.addEmitHelpers(d,i.readEmitHelpers()),d}function E(t,r){for(var n=[],i=[],a=[],o=0,s=t.amdDependencies;o<s.length;o++){var _=s[o];_.name?(n.push(e.createLiteral(_.path)),a.push(e.createParameter(void 0,void 0,void 0,_.name))):i.push(e.createLiteral(_.path))}for(var d=0,p=g.externalImports;d<p.length;d++){var f=p[d],y=e.getExternalModuleNameLiteral(f,m,l,u,c),h=e.getLocalNameForExternalImport(f,m);y&&(r&&h?(e.setEmitFlags(h,4),n.push(y),a.push(e.createParameter(void 0,void 0,void 0,h))):i.push(y))}return{aliasedModuleNames:n,unaliasedModuleNames:i,importAliasNames:a}}function C(t){if(!e.isImportEqualsDeclaration(t)&&!e.isExportDeclaration(t)&&e.getExternalModuleNameLiteral(t,m,l,u,c)){var r=e.getLocalNameForExternalImport(t,m),n=I(t,r);if(n!==r)return e.createExpressionStatement(e.createAssignment(r,n))}}function k(t){a();var i=[],s=e.addPrologue(i,t.statements,!c.noImplicitUseStrict,A);x()&&e.append(i,q()),e.append(i,e.visitNode(g.externalHelpersImportDeclaration,A,e.isStatement)),d===e.ModuleKind.AMD&&e.addRange(i,e.mapDefined(g.externalImports,C)),e.addRange(i,e.visitNodes(t.statements,A,e.isStatement,s)),N(i,!0),e.insertStatementsAfterStandardPrologue(i,o());var u=e.createBlock(i,!0);return g.hasExportStarsToExportValues&&!c.importHelpers&&e.addEmitHelper(u,r),h&&e.addEmitHelper(u,n),u}function N(t,r){if(g.exportEquals){var n=e.visitNode(g.exportEquals.expression,F);if(n)if(r){var i=e.createReturn(n);e.setTextRange(i,g.exportEquals),e.setEmitFlags(i,1920),t.push(i)}else{i=e.createExpressionStatement(e.createAssignment(e.createPropertyAccess(e.createIdentifier("module"),"exports"),n));e.setTextRange(i,g.exportEquals),e.setEmitFlags(i,1536),t.push(i)}}}function A(t){switch(t.kind){case 253:return function(t){var r,n=e.getNamespaceDeclarationNode(t);if(d!==e.ModuleKind.AMD){if(!t.importClause)return e.setOriginalNode(e.setTextRange(e.createExpressionStatement(O(t)),t),t);var i=[];n&&!e.isDefaultImport(t)?i.push(e.createVariableDeclaration(e.getSynthesizedClone(n.name),void 0,I(t,O(t)))):(i.push(e.createVariableDeclaration(e.getGeneratedNameForNode(t),void 0,I(t,O(t)))),n&&e.isDefaultImport(t)&&i.push(e.createVariableDeclaration(e.getSynthesizedClone(n.name),void 0,e.getGeneratedNameForNode(t)))),r=e.append(r,e.setOriginalNode(e.setTextRange(e.createVariableStatement(void 0,e.createVariableDeclarationList(i,_>=2?2:0)),t),t))}else n&&e.isDefaultImport(t)&&(r=e.append(r,e.createVariableStatement(void 0,e.createVariableDeclarationList([e.setOriginalNode(e.setTextRange(e.createVariableDeclaration(e.getSynthesizedClone(n.name),void 0,e.getGeneratedNameForNode(t)),t),t)],_>=2?2:0))));if(R(t)){var a=e.getOriginalNodeId(t);b[a]=B(b[a],t)}else r=B(r,t);return e.singleOrMany(r)}(t);case 252:return function(t){var r;e.Debug.assert(e.isExternalModuleImportEqualsDeclaration(t),"import= for internal module references should be handled in an earlier transformer."),d!==e.ModuleKind.AMD?r=e.hasModifier(t,1)?e.append(r,e.setOriginalNode(e.setTextRange(e.createExpressionStatement(W(t.name,O(t))),t),t)):e.append(r,e.setOriginalNode(e.setTextRange(e.createVariableStatement(void 0,e.createVariableDeclarationList([e.createVariableDeclaration(e.getSynthesizedClone(t.name),void 0,O(t))],_>=2?2:0)),t),t)):e.hasModifier(t,1)&&(r=e.append(r,e.setOriginalNode(e.setTextRange(e.createExpressionStatement(W(e.getExportName(t),e.getLocalName(t))),t),t)));if(R(t)){var n=e.getOriginalNodeId(t);b[n]=j(b[n],t)}else r=j(r,t);return e.singleOrMany(r)}(t);case 259:return function(t){if(!t.moduleSpecifier)return;var r=e.getGeneratedNameForNode(t);if(t.exportClause){var n=[];d!==e.ModuleKind.AMD&&n.push(e.setOriginalNode(e.setTextRange(e.createVariableStatement(void 0,e.createVariableDeclarationList([e.createVariableDeclaration(r,void 0,O(t))])),t),t));for(var a=0,o=t.exportClause.elements;a<o.length;a++){var s=o[a],c=e.createPropertyAccess(r,s.propertyName||s.name);n.push(e.setOriginalNode(e.setTextRange(e.createExpressionStatement(W(e.getExportName(s),c)),s),s))}return e.singleOrMany(n)}return e.setOriginalNode(e.setTextRange(e.createExpressionStatement(function(t,r){return t.getCompilerOptions().importHelpers?e.createCall(e.getUnscopedHelperName("__exportStar"),void 0,[r,e.createIdentifier("exports")]):e.createCall(e.createIdentifier("__export"),void 0,[r])}(i,d!==e.ModuleKind.AMD?O(t):r)),t),t)}(t);case 258:return function(t){if(t.isExportEquals)return;var r,n=t.original;if(n&&R(n)){var i=e.getOriginalNodeId(t);b[i]=V(b[i],e.createIdentifier("default"),e.visitNode(t.expression,F),t,!0)}else r=V(r,e.createIdentifier("default"),e.visitNode(t.expression,F),t,!0);return e.singleOrMany(r)}(t);case 224:return function(t){var r,n,a;if(e.hasModifier(t,1)){for(var o=void 0,s=0,c=t.declarationList.declarations;s<c.length;s++){var u=c[s];e.isIdentifier(u.name)&&e.isLocalName(u.name)?(o||(o=e.visitNodes(t.modifiers,G,e.isModifier)),n=e.append(n,u)):u.initializer&&(a=e.append(a,L(u)))}n&&(r=e.append(r,e.updateVariableStatement(t,o,e.updateVariableDeclarationList(t.declarationList,n)))),a&&(r=e.append(r,e.setOriginalNode(e.setTextRange(e.createExpressionStatement(e.inlineExpressions(a)),t),t)))}else r=e.append(r,e.visitEachChild(t,F,i));if(R(t)){var l=e.getOriginalNodeId(t);b[l]=K(b[l],t)}else r=K(r,t);return e.singleOrMany(r)}(t);case 243:return function(t){var r;r=e.hasModifier(t,1)?e.append(r,e.setOriginalNode(e.setTextRange(e.createFunctionDeclaration(void 0,e.visitNodes(t.modifiers,G,e.isModifier),t.asteriskToken,e.getDeclarationName(t,!0,!0),void 0,e.visitNodes(t.parameters,F),void 0,e.visitEachChild(t.body,F,i)),t),t)):e.append(r,e.visitEachChild(t,F,i));if(R(t)){var n=e.getOriginalNodeId(t);b[n]=z(b[n],t)}else r=z(r,t);return e.singleOrMany(r)}(t);case 244:return function(t){var r;r=e.hasModifier(t,1)?e.append(r,e.setOriginalNode(e.setTextRange(e.createClassDeclaration(void 0,e.visitNodes(t.modifiers,G,e.isModifier),e.getDeclarationName(t,!0,!0),void 0,e.visitNodes(t.heritageClauses,F),e.visitNodes(t.members,F)),t),t)):e.append(r,e.visitEachChild(t,F,i));if(R(t)){var n=e.getOriginalNodeId(t);b[n]=z(b[n],t)}else r=z(r,t);return e.singleOrMany(r)}(t);case 321:return function(t){if(R(t)&&224===t.original.kind){var r=e.getOriginalNodeId(t);b[r]=K(b[r],t.original)}return t}(t);case 322:return function(t){var r=e.getOriginalNodeId(t),n=b[r];if(n)return delete b[r],e.append(n,t);return t}(t);default:return e.visitEachChild(t,F,i)}}function F(t){return 524288&t.transformFlags||512&t.transformFlags?e.isImportCall(t)?function(t){var r=e.visitNode(e.firstOrUndefined(t.arguments),F),n=!!(2048&t.transformFlags);switch(c.module){case e.ModuleKind.AMD:return P(r,n);case e.ModuleKind.UMD:return function(t,r){if(h=!0,e.isSimpleCopiableExpression(t)){var n=e.isGeneratedIdentifier(t)?t:e.isStringLiteral(t)?e.createLiteral(t):e.setEmitFlags(e.setTextRange(e.getSynthesizedClone(t),t),1536);return e.createConditional(e.createIdentifier("__syncRequire"),w(t,r),P(n,r))}var i=e.createTempVariable(s);return e.createComma(e.createAssignment(i,t),e.createConditional(e.createIdentifier("__syncRequire"),w(i,r),P(i,r)))}(r,n);case e.ModuleKind.CommonJS:default:return w(r,n)}}(t):e.isDestructuringAssignment(t)?function(t){if(function t(r){if(e.isObjectLiteralExpression(r))for(var n=0,i=r.properties;n<i.length;n++){switch((s=i[n]).kind){case 279:if(t(s.initializer))return!0;break;case 280:if(t(s.name))return!0;break;case 281:if(t(s.expression))return!0;break;case 160:case 162:case 163:return!1;default:e.Debug.assertNever(s,"Unhandled object member kind")}}else if(e.isArrayLiteralExpression(r))for(var a=0,o=r.elements;a<o.length;a++){var s=o[a];if(e.isSpreadElement(s)){if(t(s.expression))return!0}else if(t(s))return!0}else if(e.isIdentifier(r))return e.length(Y(r))>(e.isExportName(r)?1:0);return!1}(t.left))return e.flattenDestructuringAssignment(t,F,i,0,!1,M);return e.visitEachChild(t,F,i)}(t):e.visitEachChild(t,F,i):t}function P(t,r){var n,a=e.createUniqueName("resolve"),o=e.createUniqueName("reject"),s=[e.createParameter(void 0,void 0,void 0,a),e.createParameter(void 0,void 0,void 0,o)],u=e.createBlock([e.createExpressionStatement(e.createCall(e.createIdentifier("require"),void 0,[e.createArrayLiteral([t||e.createOmittedExpression()]),a,o]))]);_>=2?n=e.createArrowFunction(void 0,void 0,s,void 0,void 0,u):(n=e.createFunctionExpression(void 0,void 0,void 0,void 0,s,void 0,u),r&&e.setEmitFlags(n,8));var l=e.createNew(e.createIdentifier("Promise"),void 0,[n]);return c.esModuleInterop?(i.requestEmitHelper(e.importStarHelper),e.createCall(e.createPropertyAccess(l,e.createIdentifier("then")),void 0,[e.getUnscopedHelperName("__importStar")])):l}function w(t,r){var n,a=e.createCall(e.createPropertyAccess(e.createIdentifier("Promise"),"resolve"),void 0,[]),o=e.createCall(e.createIdentifier("require"),void 0,t?[t]:[]);return c.esModuleInterop&&(i.requestEmitHelper(e.importStarHelper),o=e.createCall(e.getUnscopedHelperName("__importStar"),void 0,[o])),_>=2?n=e.createArrowFunction(void 0,void 0,[],void 0,void 0,o):(n=e.createFunctionExpression(void 0,void 0,void 0,void 0,[],void 0,e.createBlock([e.createReturn(o)])),r&&e.setEmitFlags(n,8)),e.createCall(e.createPropertyAccess(a,"then"),void 0,[n])}function I(t,r){return!c.esModuleInterop||67108864&e.getEmitFlags(t)?r:e.getImportNeedsImportStarHelper(t)?(i.requestEmitHelper(e.importStarHelper),e.createCall(e.getUnscopedHelperName("__importStar"),void 0,[r])):e.getImportNeedsImportDefaultHelper(t)?(i.requestEmitHelper(e.importDefaultHelper),e.createCall(e.getUnscopedHelperName("__importDefault"),void 0,[r])):r}function O(t){var r=e.getExternalModuleNameLiteral(t,m,l,u,c),n=[];return r&&n.push(r),e.createCall(e.createIdentifier("require"),void 0,n)}function M(t,r,n){var i=Y(t);if(i){for(var a=e.isExportName(t)?r:e.createAssignment(t,r),o=0,s=i;o<s.length;o++){var c=s[o];e.setEmitFlags(a,4),a=W(c,a,n)}return a}return e.createAssignment(t,r)}function L(t){return e.isBindingPattern(t.name)?e.flattenDestructuringAssignment(e.visitNode(t,F),void 0,i,0,!1,M):e.createAssignment(e.setTextRange(e.createPropertyAccess(e.createIdentifier("exports"),t.name),t.name),e.visitNode(t.initializer,F))}function R(t){return 0!=(4194304&e.getEmitFlags(t))}function B(e,t){if(g.exportEquals)return e;var r=t.importClause;if(!r)return e;r.name&&(e=U(e,r));var n=r.namedBindings;if(n)switch(n.kind){case 255:e=U(e,n);break;case 256:for(var i=0,a=n.elements;i<a.length;i++){e=U(e,a[i])}}return e}function j(e,t){return g.exportEquals?e:U(e,t)}function K(e,t){if(g.exportEquals)return e;for(var r=0,n=t.declarationList.declarations;r<n.length;r++){e=J(e,n[r])}return e}function J(t,r){if(g.exportEquals)return t;if(e.isBindingPattern(r.name))for(var n=0,i=r.name.elements;n<i.length;n++){var a=i[n];e.isOmittedExpression(a)||(t=J(t,a))}else e.isGeneratedIdentifier(r.name)||(t=U(t,r));return t}function z(t,r){if(g.exportEquals)return t;e.hasModifier(r,1)&&(t=V(t,e.hasModifier(r,512)?e.createIdentifier("default"):e.getDeclarationName(r),e.getLocalName(r),r));return r.name&&(t=U(t,r)),t}function U(t,r){var n=e.getDeclarationName(r),i=g.exportSpecifiers.get(e.idText(n));if(i)for(var a=0,o=i;a<o.length;a++){var s=o[a];t=V(t,s.name,n,s.name)}return t}function V(t,r,n,i,a){return t=e.append(t,function(t,r,n,i){var a=e.setTextRange(e.createExpressionStatement(W(t,r)),n);e.startOnNewLine(a),i||e.setEmitFlags(a,1536);return a}(r,n,i,a))}function q(){var t;return t=0===_?e.createExpressionStatement(W(e.createIdentifier("__esModule"),e.createLiteral(!0))):e.createExpressionStatement(e.createCall(e.createPropertyAccess(e.createIdentifier("Object"),"defineProperty"),void 0,[e.createIdentifier("exports"),e.createLiteral("__esModule"),e.createObjectLiteral([e.createPropertyAssignment("value",e.createLiteral(!0))])])),e.setEmitFlags(t,1048576),t}function W(t,r,n){return e.setTextRange(e.createAssignment(e.createPropertyAccess(e.createIdentifier("exports"),e.getSynthesizedClone(t)),r),n)}function G(e){switch(e.kind){case 88:case 83:return}return e}function H(t){if(4096&e.getEmitFlags(t)){var r=e.getExternalHelpersModuleName(m);return r?e.createPropertyAccess(r,t):t}if(!e.isGeneratedIdentifier(t)&&!e.isLocalName(t)){var n=u.getReferencedExportContainer(t,e.isExportName(t));if(n&&288===n.kind)return e.setTextRange(e.createPropertyAccess(e.createIdentifier("exports"),e.getSynthesizedClone(t)),t);var i=u.getReferencedImportDeclaration(t);if(i){if(e.isImportClause(i))return e.setTextRange(e.createPropertyAccess(e.getGeneratedNameForNode(i.parent),e.createIdentifier("default")),t);if(e.isImportSpecifier(i)){var a=i.propertyName||i.name;return e.setTextRange(e.createPropertyAccess(e.getGeneratedNameForNode(i.parent.parent.parent),e.getSynthesizedClone(a)),t)}}}return t}function Y(t){if(!e.isGeneratedIdentifier(t)){var r=u.getReferencedImportDeclaration(t)||u.getReferencedValueDeclaration(t);if(r)return g&&g.exportedBindings[e.getOriginalNodeId(r)]}}};var r={name:"typescript:export-star",scoped:!0,text:"\n            function __export(m) {\n                for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n            }"};var n={name:"typescript:dynamicimport-sync-require",scoped:!0,text:'\n            var __syncRequire = typeof module === "object" && typeof module.exports === "object";'};e.importStarHelper={name:"typescript:commonjsimportstar",importName:"__importStar",scoped:!1,text:'\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result["default"] = mod;\n    return result;\n};'},e.importDefaultHelper={name:"typescript:commonjsimportdefault",importName:"__importDefault",scoped:!1,text:'\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};'}}(s||(s={})),function(e){e.transformSystemModule=function(t){var r=t.startLexicalEnvironment,n=t.endLexicalEnvironment,i=t.hoistVariableDeclaration,a=t.getCompilerOptions(),o=t.getEmitResolver(),s=t.getEmitHost(),c=t.onSubstituteNode,u=t.onEmitNode;t.onSubstituteNode=function(t,r){if(function(e){return g&&e.id&&g[e.id]}(r=c(t,r)))return r;if(1===t)return function(t){switch(t.kind){case 75:return function(t){if(4096&e.getEmitFlags(t)){var r=e.getExternalHelpersModuleName(l);return r?e.createPropertyAccess(r,t):t}if(!e.isGeneratedIdentifier(t)&&!e.isLocalName(t)){var n=o.getReferencedImportDeclaration(t);if(n){if(e.isImportClause(n))return e.setTextRange(e.createPropertyAccess(e.getGeneratedNameForNode(n.parent),e.createIdentifier("default")),t);if(e.isImportSpecifier(n))return e.setTextRange(e.createPropertyAccess(e.getGeneratedNameForNode(n.parent.parent.parent),e.getSynthesizedClone(n.propertyName||n.name)),t)}}return t}(t);case 208:return function(t){if(e.isAssignmentOperator(t.operatorToken.kind)&&e.isIdentifier(t.left)&&!e.isGeneratedIdentifier(t.left)&&!e.isLocalName(t.left)&&!e.isDeclarationNameOfEnumOrNamespace(t.left)){var r=W(t.left);if(r){for(var n=t,i=0,a=r;i<a.length;i++){var o=a[i];n=K(o,G(n))}return n}}return t}(t);case 206:case 207:return function(t){if((45===t.operator||46===t.operator)&&e.isIdentifier(t.operand)&&!e.isGeneratedIdentifier(t.operand)&&!e.isLocalName(t.operand)&&!e.isDeclarationNameOfEnumOrNamespace(t.operand)){var r=W(t.operand);if(r){for(var n=207===t.kind?e.setTextRange(e.createPrefix(t.operator,t.operand),t):t,i=0,a=r;i<a.length;i++){var o=a[i];n=K(o,G(n))}return 207===t.kind&&(n=45===t.operator?e.createSubtract(G(n),e.createLiteral(1)):e.createAdd(G(n),e.createLiteral(1))),n}}return t}(t);case 218:return function(t){if(e.isImportMeta(t))return e.createPropertyAccess(p,e.createIdentifier("meta"));return t}(t)}return t}(r);if(4===t)return function(t){switch(t.kind){case 280:return function(t){var r=t.name;if(!e.isGeneratedIdentifier(r)&&!e.isLocalName(r)){var n=o.getReferencedImportDeclaration(r);if(n){if(e.isImportClause(n))return e.setTextRange(e.createPropertyAssignment(e.getSynthesizedClone(r),e.createPropertyAccess(e.getGeneratedNameForNode(n.parent),e.createIdentifier("default"))),t);if(e.isImportSpecifier(n))return e.setTextRange(e.createPropertyAssignment(e.getSynthesizedClone(r),e.createPropertyAccess(e.getGeneratedNameForNode(n.parent.parent.parent),e.getSynthesizedClone(n.propertyName||n.name))),t)}}return t}(t)}return t}(r);return r},t.onEmitNode=function(t,r,n){if(288===r.kind){var i=e.getOriginalNodeId(r);l=r,_=y[i],d=v[i],g=b[i],p=x[i],g&&delete b[i],u(t,r,n),l=void 0,_=void 0,d=void 0,p=void 0,g=void 0}else u(t,r,n)},t.enableSubstitution(75),t.enableSubstitution(280),t.enableSubstitution(208),t.enableSubstitution(206),t.enableSubstitution(207),t.enableSubstitution(218),t.enableEmitNotification(288);var l,_,d,p,f,m,g,y=[],h=[],v=[],b=[],x=[];return e.chainBundle((function(t){if(t.isDeclarationFile||!(e.isEffectiveExternalModule(t,a)||524288&t.transformFlags))return t;var i=e.getOriginalNodeId(t);l=t,m=t,_=y[i]=e.collectExternalModuleInfo(t,o,a),d=e.createUniqueName("exports"),v[i]=d,p=x[i]=e.createUniqueName("context");var c=function(t){for(var r=e.createMap(),n=[],i=0,c=t;i<c.length;i++){var u=c[i],_=e.getExternalModuleNameLiteral(u,l,s,o,a);if(_){var d=_.text,p=r.get(d);void 0!==p?n[p].externalImports.push(u):(r.set(d,n.length),n.push({name:_,externalImports:[u]}))}}return n}(_.externalImports),u=function(t,i){var o=[];r();var s=e.getStrictOptionValue(a,"alwaysStrict")||!a.noImplicitUseStrict&&e.isExternalModule(l),c=e.addPrologue(o,t.statements,s,T);o.push(e.createVariableStatement(void 0,e.createVariableDeclarationList([e.createVariableDeclaration("__moduleName",void 0,e.createLogicalAnd(p,e.createPropertyAccess(p,"id")))]))),e.visitNode(_.externalHelpersImportDeclaration,T,e.isStatement);var u=e.visitNodes(t.statements,T,e.isStatement,c);e.addRange(o,f),e.insertStatementsAfterStandardPrologue(o,n());var d=function(t){if(!_.hasExportStarsToExportValues)return;if(!_.exportedNames&&0===_.exportSpecifiers.size){for(var r=!1,n=0,i=_.externalImports;n<i.length;n++){if(259===(p=i[n]).kind&&p.exportClause){r=!0;break}}if(!r){var a=D(void 0);return t.push(a),a.name}}var o=[];if(_.exportedNames)for(var s=0,c=_.exportedNames;s<c.length;s++){var u=c[s];"default"!==u.escapedText&&o.push(e.createPropertyAssignment(e.createLiteral(u),e.createTrue()))}for(var l=0,d=_.externalImports;l<d.length;l++){var p;if(259===(p=d[l]).kind&&p.exportClause)for(var f=0,m=p.exportClause.elements;f<m.length;f++){var g=m[f];o.push(e.createPropertyAssignment(e.createLiteral(e.idText(g.name||g.propertyName)),e.createTrue()))}}var y=e.createUniqueName("exportedNames");t.push(e.createVariableStatement(void 0,e.createVariableDeclarationList([e.createVariableDeclaration(y,void 0,e.createObjectLiteral(o,!0))])));var h=D(y);return t.push(h),h.name}(o),m=e.createObjectLiteral([e.createPropertyAssignment("setters",S(d,i)),e.createPropertyAssignment("execute",e.createFunctionExpression(void 0,void 0,void 0,void 0,[],void 0,e.createBlock(u,!0)))]);return m.multiLine=!0,o.push(e.createReturn(m)),e.createBlock(o,!0)}(t,c),h=e.createFunctionExpression(void 0,void 0,void 0,void 0,[e.createParameter(void 0,void 0,void 0,d),e.createParameter(void 0,void 0,void 0,p)],void 0,u),E=e.tryGetModuleNameFromFile(t,s,a),C=e.createArrayLiteral(e.map(c,(function(e){return e.name}))),k=e.setEmitFlags(e.updateSourceFileNode(t,e.setTextRange(e.createNodeArray([e.createExpressionStatement(e.createCall(e.createPropertyAccess(e.createIdentifier("System"),"register"),void 0,E?[E,C,h]:[C,h]))]),t.statements)),1024);a.outFile||a.out||e.moveEmitHelpers(k,u,(function(e){return!e.scoped}));g&&(b[i]=g,g=void 0);return l=void 0,_=void 0,d=void 0,p=void 0,f=void 0,m=void 0,e.aggregateTransformFlags(k)}));function D(t){var r=e.createUniqueName("exportStar"),n=e.createIdentifier("m"),i=e.createIdentifier("n"),a=e.createIdentifier("exports"),o=e.createStrictInequality(i,e.createLiteral("default"));return t&&(o=e.createLogicalAnd(o,e.createLogicalNot(e.createCall(e.createPropertyAccess(t,"hasOwnProperty"),void 0,[i])))),e.createFunctionDeclaration(void 0,void 0,void 0,r,void 0,[e.createParameter(void 0,void 0,void 0,n)],void 0,e.createBlock([e.createVariableStatement(void 0,e.createVariableDeclarationList([e.createVariableDeclaration(a,void 0,e.createObjectLiteral([]))])),e.createForIn(e.createVariableDeclarationList([e.createVariableDeclaration(i,void 0)]),n,e.createBlock([e.setEmitFlags(e.createIf(o,e.createExpressionStatement(e.createAssignment(e.createElementAccess(a,i),e.createElementAccess(n,i)))),1)])),e.createExpressionStatement(e.createCall(d,void 0,[a]))],!0))}function S(t,r){for(var n=[],i=0,a=r;i<a.length;i++){for(var o=a[i],s=e.forEach(o.externalImports,(function(t){return e.getLocalNameForExternalImport(t,l)})),c=s?e.getGeneratedNameForNode(s):e.createUniqueName(""),u=[],_=0,p=o.externalImports;_<p.length;_++){var f=p[_],m=e.getLocalNameForExternalImport(f,l);switch(f.kind){case 253:if(!f.importClause)break;case 252:e.Debug.assert(void 0!==m),u.push(e.createExpressionStatement(e.createAssignment(m,c)));break;case 259:if(e.Debug.assert(void 0!==m),f.exportClause){for(var g=[],y=0,h=f.exportClause.elements;y<h.length;y++){var v=h[y];g.push(e.createPropertyAssignment(e.createLiteral(e.idText(v.name)),e.createElementAccess(c,e.createLiteral(e.idText(v.propertyName||v.name)))))}u.push(e.createExpressionStatement(e.createCall(d,void 0,[e.createObjectLiteral(g,!0)])))}else u.push(e.createExpressionStatement(e.createCall(t,void 0,[c])))}}n.push(e.createFunctionExpression(void 0,void 0,void 0,void 0,[e.createParameter(void 0,void 0,void 0,c)],void 0,e.createBlock(u,!0)))}return e.createArrayLiteral(n,!0)}function T(t){switch(t.kind){case 253:return function(t){var r;t.importClause&&i(e.getLocalNameForExternalImport(t,l));if(P(t)){var n=e.getOriginalNodeId(t);h[n]=w(h[n],t)}else r=w(r,t);return e.singleOrMany(r)}(t);case 252:return function(t){var r;if(e.Debug.assert(e.isExternalModuleImportEqualsDeclaration(t),"import= for internal module references should be handled in an earlier transformer."),i(e.getLocalNameForExternalImport(t,l)),P(t)){var n=e.getOriginalNodeId(t);h[n]=I(h[n],t)}else r=I(r,t);return e.singleOrMany(r)}(t);case 259:return;case 258:return function(t){if(t.isExportEquals)return;var r=e.visitNode(t.expression,U,e.isExpression),n=t.original;if(!n||!P(n))return j(e.createIdentifier("default"),r,!0);var i=e.getOriginalNodeId(t);h[i]=B(h[i],e.createIdentifier("default"),r,!0)}(t);default:return J(t)}}function E(t){if(e.isBindingPattern(t.name))for(var r=0,n=t.name.elements;r<n.length;r++){var a=n[r];e.isOmittedExpression(a)||E(a)}else i(e.getSynthesizedClone(t.name))}function C(t){return 0==(2097152&e.getEmitFlags(t))&&(288===m.kind||0==(3&e.getOriginalNode(t).flags))}function k(r,n){var i=n?N:A;return e.isBindingPattern(r.name)?e.flattenDestructuringAssignment(r,U,t,0,!1,i):r.initializer?i(r.name,e.visitNode(r.initializer,U,e.isExpression)):r.name}function N(e,t,r){return F(e,t,r,!0)}function A(e,t,r){return F(e,t,r,!1)}function F(t,r,n,a){return i(e.getSynthesizedClone(t)),a?K(t,G(e.setTextRange(e.createAssignment(t,r),n))):G(e.setTextRange(e.createAssignment(t,r),n))}function P(t){return 0!=(4194304&e.getEmitFlags(t))}function w(e,t){if(_.exportEquals)return e;var r=t.importClause;if(!r)return e;r.name&&(e=R(e,r));var n=r.namedBindings;if(n)switch(n.kind){case 255:e=R(e,n);break;case 256:for(var i=0,a=n.elements;i<a.length;i++){e=R(e,a[i])}}return e}function I(e,t){return _.exportEquals?e:R(e,t)}function O(e,t,r){if(_.exportEquals)return e;for(var n=0,i=t.declarationList.declarations;n<i.length;n++){var a=i[n];(a.initializer||r)&&(e=M(e,a,r))}return e}function M(t,r,n){if(_.exportEquals)return t;if(e.isBindingPattern(r.name))for(var i=0,a=r.name.elements;i<a.length;i++){var o=a[i];e.isOmittedExpression(o)||(t=M(t,o,n))}else if(!e.isGeneratedIdentifier(r.name)){var s=void 0;n&&(t=B(t,r.name,e.getLocalName(r)),s=e.idText(r.name)),t=R(t,r,s)}return t}function L(t,r){if(_.exportEquals)return t;var n;if(e.hasModifier(r,1)){var i=e.hasModifier(r,512)?e.createLiteral("default"):r.name;t=B(t,i,e.getLocalName(r)),n=e.getTextOfIdentifierOrLiteral(i)}return r.name&&(t=R(t,r,n)),t}function R(t,r,n){if(_.exportEquals)return t;var i=e.getDeclarationName(r),a=_.exportSpecifiers.get(e.idText(i));if(a)for(var o=0,s=a;o<s.length;o++){var c=s[o];c.name.escapedText!==n&&(t=B(t,c.name,i))}return t}function B(t,r,n,i){return t=e.append(t,j(r,n,i))}function j(t,r,n){var i=e.createExpressionStatement(K(t,r));return e.startOnNewLine(i),n||e.setEmitFlags(i,1536),i}function K(t,r){var n=e.isIdentifier(t)?e.createLiteral(t):t;return e.setEmitFlags(r,1536|e.getEmitFlags(r)),e.setCommentRange(e.createCall(d,void 0,[n,r]),r)}function J(r){switch(r.kind){case 224:return function(t){if(!C(t.declarationList))return e.visitNode(t,U,e.isStatement);for(var r,n,i=e.hasModifier(t,1),a=P(t),o=0,s=t.declarationList.declarations;o<s.length;o++){var c=s[o];c.initializer?r=e.append(r,k(c,i&&!a)):E(c)}if(r&&(n=e.append(n,e.setTextRange(e.createExpressionStatement(e.inlineExpressions(r)),t))),a){var u=e.getOriginalNodeId(t);h[u]=O(h[u],t,i)}else n=O(n,t,!1);return e.singleOrMany(n)}(r);case 243:return function(r){if(f=e.hasModifier(r,1)?e.append(f,e.updateFunctionDeclaration(r,r.decorators,e.visitNodes(r.modifiers,q,e.isModifier),r.asteriskToken,e.getDeclarationName(r,!0,!0),void 0,e.visitNodes(r.parameters,U,e.isParameterDeclaration),void 0,e.visitNode(r.body,U,e.isBlock))):e.append(f,e.visitEachChild(r,U,t)),P(r)){var n=e.getOriginalNodeId(r);h[n]=L(h[n],r)}else f=L(f,r)}(r);case 244:return function(t){var r,n=e.getLocalName(t);if(i(n),r=e.append(r,e.setTextRange(e.createExpressionStatement(e.createAssignment(n,e.setTextRange(e.createClassExpression(void 0,t.name,void 0,e.visitNodes(t.heritageClauses,U,e.isHeritageClause),e.visitNodes(t.members,U,e.isClassElement)),t))),t)),P(t)){var a=e.getOriginalNodeId(t);h[a]=L(h[a],t)}else r=L(r,t);return e.singleOrMany(r)}(r);case 229:return function(t){var r=m;return m=t,t=e.updateFor(t,t.initializer&&z(t.initializer),e.visitNode(t.condition,U,e.isExpression),e.visitNode(t.incrementor,U,e.isExpression),e.visitNode(t.statement,J,e.isStatement)),m=r,t}(r);case 230:return function(t){var r=m;return m=t,t=e.updateForIn(t,z(t.initializer),e.visitNode(t.expression,U,e.isExpression),e.visitNode(t.statement,J,e.isStatement,e.liftToBlock)),m=r,t}(r);case 231:return function(t){var r=m;return m=t,t=e.updateForOf(t,t.awaitModifier,z(t.initializer),e.visitNode(t.expression,U,e.isExpression),e.visitNode(t.statement,J,e.isStatement,e.liftToBlock)),m=r,t}(r);case 227:return function(t){return e.updateDo(t,e.visitNode(t.statement,J,e.isStatement,e.liftToBlock),e.visitNode(t.expression,U,e.isExpression))}(r);case 228:return function(t){return e.updateWhile(t,e.visitNode(t.expression,U,e.isExpression),e.visitNode(t.statement,J,e.isStatement,e.liftToBlock))}(r);case 237:return function(t){return e.updateLabel(t,t.label,e.visitNode(t.statement,J,e.isStatement,e.liftToBlock))}(r);case 235:return function(t){return e.updateWith(t,e.visitNode(t.expression,U,e.isExpression),e.visitNode(t.statement,J,e.isStatement,e.liftToBlock))}(r);case 236:return function(t){return e.updateSwitch(t,e.visitNode(t.expression,U,e.isExpression),e.visitNode(t.caseBlock,J,e.isCaseBlock))}(r);case 250:return function(t){var r=m;return m=t,t=e.updateCaseBlock(t,e.visitNodes(t.clauses,J,e.isCaseOrDefaultClause)),m=r,t}(r);case 275:return function(t){return e.updateCaseClause(t,e.visitNode(t.expression,U,e.isExpression),e.visitNodes(t.statements,J,e.isStatement))}(r);case 276:case 239:return function(r){return e.visitEachChild(r,J,t)}(r);case 278:return function(t){var r=m;return m=t,t=e.updateCatchClause(t,t.variableDeclaration,e.visitNode(t.block,J,e.isBlock)),m=r,t}(r);case 222:return function(r){var n=m;return m=r,r=e.visitEachChild(r,J,t),m=n,r}(r);case 321:return function(t){if(P(t)&&224===t.original.kind){var r=e.getOriginalNodeId(t),n=e.hasModifier(t.original,1);h[r]=O(h[r],t.original,n)}return t}(r);case 322:return function(t){var r=e.getOriginalNodeId(t),n=h[r];if(n)return delete h[r],e.append(n,t);var i=e.getOriginalNode(t);return e.isModuleOrEnumDeclaration(i)?e.append(R(n,i),t):t}(r);default:return U(r)}}function z(r){if(function(t){return e.isVariableDeclarationList(t)&&C(t)}(r)){for(var n=void 0,i=0,a=r.declarations;i<a.length;i++){var o=a[i];n=e.append(n,k(o,!1)),o.initializer||E(o)}return n?e.inlineExpressions(n):e.createOmittedExpression()}return e.visitEachChild(r,J,t)}function U(r){return e.isDestructuringAssignment(r)?function(r){if(V(r.left))return e.flattenDestructuringAssignment(r,U,t,0,!0);return e.visitEachChild(r,U,t)}(r):e.isImportCall(r)?function(t){return e.createCall(e.createPropertyAccess(p,e.createIdentifier("import")),void 0,e.some(t.arguments)?[e.visitNode(t.arguments[0],U)]:[])}(r):512&r.transformFlags||524288&r.transformFlags?e.visitEachChild(r,U,t):r}function V(t){if(e.isAssignmentExpression(t,!0))return V(t.left);if(e.isSpreadElement(t))return V(t.expression);if(e.isObjectLiteralExpression(t))return e.some(t.properties,V);if(e.isArrayLiteralExpression(t))return e.some(t.elements,V);if(e.isShorthandPropertyAssignment(t))return V(t.name);if(e.isPropertyAssignment(t))return V(t.initializer);if(e.isIdentifier(t)){var r=o.getReferencedExportContainer(t);return void 0!==r&&288===r.kind}return!1}function q(e){switch(e.kind){case 88:case 83:return}return e}function W(t){var r;if(!e.isGeneratedIdentifier(t)){var n=o.getReferencedImportDeclaration(t)||o.getReferencedValueDeclaration(t);if(n){var i=o.getReferencedExportContainer(t,!1);i&&288===i.kind&&(r=e.append(r,e.getDeclarationName(n))),r=e.addRange(r,_&&_.exportedBindings[e.getOriginalNodeId(n)])}}return r}function G(t){return void 0===g&&(g=[]),g[e.getNodeId(t)]=!0,t}}}(s||(s={})),function(e){e.transformES2015Module=function(t){var r,n=t.getCompilerOptions(),i=t.onEmitNode,a=t.onSubstituteNode;return t.onEmitNode=function(t,n,a){e.isSourceFile(n)?(r=e.createMap(),i(t,n,a),r=void 0):i(t,n,a)},t.onSubstituteNode=function(t,n){if(n=a(t,n),r&&e.isIdentifier(n)&&4096&e.getEmitFlags(n))return function(t){var n=e.idText(t),i=r.get(n);i||r.set(n,i=e.createFileLevelUniqueName(n));return i}(n);return n},t.enableEmitNotification(288),t.enableSubstitution(75),e.chainBundle((function(r){if(r.isDeclarationFile)return r;if(e.isExternalModule(r)||n.isolatedModules){var i=e.createExternalHelpersImportDeclarationIfNeeded(r,n);if(i){var a=[],s=e.addPrologue(a,r.statements);return e.append(a,i),e.addRange(a,e.visitNodes(r.statements,o,e.isStatement,s)),e.updateSourceFileNode(r,e.setTextRange(e.createNodeArray(a),r.statements))}return e.visitEachChild(r,o,t)}return r}));function o(e){switch(e.kind){case 252:return;case 258:return function(e){return e.isExportEquals?void 0:e}(e)}return e}}}(s||(s={})),function(e){function t(t){return e.isVariableDeclaration(t)||e.isPropertyDeclaration(t)||e.isPropertySignature(t)||e.isPropertyAccessExpression(t)||e.isBindingElement(t)||e.isConstructorDeclaration(t)?r:e.isSetAccessor(t)||e.isGetAccessor(t)?function(r){var n;n=163===t.kind?e.hasModifier(t,32)?r.errorModuleName?e.Diagnostics.Parameter_type_of_public_static_setter_0_from_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_type_of_public_static_setter_0_from_exported_class_has_or_is_using_private_name_1:r.errorModuleName?e.Diagnostics.Parameter_type_of_public_setter_0_from_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_type_of_public_setter_0_from_exported_class_has_or_is_using_private_name_1:e.hasModifier(t,32)?r.errorModuleName?2===r.accessibility?e.Diagnostics.Return_type_of_public_static_getter_0_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Return_type_of_public_static_getter_0_from_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Return_type_of_public_static_getter_0_from_exported_class_has_or_is_using_private_name_1:r.errorModuleName?2===r.accessibility?e.Diagnostics.Return_type_of_public_getter_0_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Return_type_of_public_getter_0_from_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Return_type_of_public_getter_0_from_exported_class_has_or_is_using_private_name_1;return{diagnosticMessage:n,errorNode:t.name,typeName:t.name}}:e.isConstructSignatureDeclaration(t)||e.isCallSignatureDeclaration(t)||e.isMethodDeclaration(t)||e.isMethodSignature(t)||e.isFunctionDeclaration(t)||e.isIndexSignatureDeclaration(t)?function(r){var n;switch(t.kind){case 165:n=r.errorModuleName?e.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:e.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 164:n=r.errorModuleName?e.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:e.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 166:n=r.errorModuleName?e.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:e.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 160:case 159:n=e.hasModifier(t,32)?r.errorModuleName?2===r.accessibility?e.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:e.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:e.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:244===t.parent.kind?r.errorModuleName?2===r.accessibility?e.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:e.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:e.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:r.errorModuleName?e.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:e.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0;break;case 243:n=r.errorModuleName?2===r.accessibility?e.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:e.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:e.Diagnostics.Return_type_of_exported_function_has_or_is_using_private_name_0;break;default:return e.Debug.fail("This is unknown kind for signature: "+t.kind)}return{diagnosticMessage:n,errorNode:t.name||t}}:e.isParameter(t)?e.isParameterPropertyDeclaration(t,t.parent)&&e.hasModifier(t.parent,8)?r:function(r){var n=function(r){switch(t.parent.kind){case 161:return r.errorModuleName?2===r.accessibility?e.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1;case 165:case 170:return r.errorModuleName?e.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;case 164:return r.errorModuleName?e.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;case 166:return r.errorModuleName?e.Diagnostics.Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_private_name_1;case 160:case 159:return e.hasModifier(t.parent,32)?r.errorModuleName?2===r.accessibility?e.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:244===t.parent.parent.kind?r.errorModuleName?2===r.accessibility?e.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:r.errorModuleName?e.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;case 243:case 169:return r.errorModuleName?2===r.accessibility?e.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_private_name_1;case 163:case 162:return r.errorModuleName?2===r.accessibility?e.Diagnostics.Parameter_0_of_accessor_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Parameter_0_of_accessor_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Parameter_0_of_accessor_has_or_is_using_private_name_1;default:return e.Debug.fail("Unknown parent for parameter: "+e.SyntaxKind[t.parent.kind])}}(r);return void 0!==n?{diagnosticMessage:n,errorNode:t,typeName:t.name}:void 0}:e.isTypeParameterDeclaration(t)?function(){var r;switch(t.parent.kind){case 244:r=e.Diagnostics.Type_parameter_0_of_exported_class_has_or_is_using_private_name_1;break;case 245:r=e.Diagnostics.Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1;break;case 185:r=e.Diagnostics.Type_parameter_0_of_exported_mapped_object_type_is_using_private_name_1;break;case 170:case 165:r=e.Diagnostics.Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 164:r=e.Diagnostics.Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 160:case 159:r=e.hasModifier(t.parent,32)?e.Diagnostics.Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:244===t.parent.parent.kind?e.Diagnostics.Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:e.Diagnostics.Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;break;case 169:case 243:r=e.Diagnostics.Type_parameter_0_of_exported_function_has_or_is_using_private_name_1;break;case 246:r=e.Diagnostics.Type_parameter_0_of_exported_type_alias_has_or_is_using_private_name_1;break;default:return e.Debug.fail("This is unknown parent for type parameter: "+t.parent.kind)}return{diagnosticMessage:r,errorNode:t,typeName:t.name}}:e.isExpressionWithTypeArguments(t)?function(){var r;r=244===t.parent.parent.kind?e.isHeritageClause(t.parent)&&112===t.parent.token?e.Diagnostics.Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:e.Diagnostics.extends_clause_of_exported_class_0_has_or_is_using_private_name_1:e.Diagnostics.extends_clause_of_exported_interface_0_has_or_is_using_private_name_1;return{diagnosticMessage:r,errorNode:t,typeName:e.getNameOfDeclaration(t.parent.parent)}}:e.isImportEqualsDeclaration(t)?function(){return{diagnosticMessage:e.Diagnostics.Import_declaration_0_is_using_private_name_1,errorNode:t,typeName:t.name}}:e.isTypeAliasDeclaration(t)?function(){return{diagnosticMessage:e.Diagnostics.Exported_type_alias_0_has_or_is_using_private_name_1,errorNode:t.type,typeName:t.name}}:e.Debug.assertNever(t,"Attempted to set a declaration diagnostic context for unhandled node kind: "+e.SyntaxKind[t.kind]);function r(r){var n=function(r){return 241===t.kind||190===t.kind?r.errorModuleName?2===r.accessibility?e.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Exported_variable_0_has_or_is_using_private_name_1:158===t.kind||193===t.kind||157===t.kind||155===t.kind&&e.hasModifier(t.parent,8)?e.hasModifier(t,32)?r.errorModuleName?2===r.accessibility?e.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:244===t.parent.kind||155===t.kind?r.errorModuleName?2===r.accessibility?e.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_private_name_1:r.errorModuleName?e.Diagnostics.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Property_0_of_exported_interface_has_or_is_using_private_name_1:void 0}(r);return void 0!==n?{diagnosticMessage:n,errorNode:t,typeName:t.name}:void 0}}e.canProduceDiagnostics=function(t){return e.isVariableDeclaration(t)||e.isPropertyDeclaration(t)||e.isPropertySignature(t)||e.isBindingElement(t)||e.isSetAccessor(t)||e.isGetAccessor(t)||e.isConstructSignatureDeclaration(t)||e.isCallSignatureDeclaration(t)||e.isMethodDeclaration(t)||e.isMethodSignature(t)||e.isFunctionDeclaration(t)||e.isParameter(t)||e.isTypeParameterDeclaration(t)||e.isExpressionWithTypeArguments(t)||e.isImportEqualsDeclaration(t)||e.isTypeAliasDeclaration(t)||e.isConstructorDeclaration(t)||e.isIndexSignatureDeclaration(t)||e.isPropertyAccessExpression(t)},e.createGetSymbolAccessibilityDiagnosticForNodeName=function(r){return e.isSetAccessor(r)||e.isGetAccessor(r)?function(t){var n=function(t){return e.hasModifier(r,32)?t.errorModuleName?2===t.accessibility?e.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:244===r.parent.kind?t.errorModuleName?2===t.accessibility?e.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_private_name_1:t.errorModuleName?e.Diagnostics.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Property_0_of_exported_interface_has_or_is_using_private_name_1}(t);return void 0!==n?{diagnosticMessage:n,errorNode:r,typeName:r.name}:void 0}:e.isMethodSignature(r)||e.isMethodDeclaration(r)?function(t){var n=function(t){return e.hasModifier(r,32)?t.errorModuleName?2===t.accessibility?e.Diagnostics.Public_static_method_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Public_static_method_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Public_static_method_0_of_exported_class_has_or_is_using_private_name_1:244===r.parent.kind?t.errorModuleName?2===t.accessibility?e.Diagnostics.Public_method_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:e.Diagnostics.Public_method_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Public_method_0_of_exported_class_has_or_is_using_private_name_1:t.errorModuleName?e.Diagnostics.Method_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:e.Diagnostics.Method_0_of_exported_interface_has_or_is_using_private_name_1}(t);return void 0!==n?{diagnosticMessage:n,errorNode:r,typeName:r.name}:void 0}:t(r)},e.createGetSymbolAccessibilityDiagnosticForNode=t}(s||(s={})),function(e){function n(t,r){var n=r.text.substring(t.pos,t.end);return e.stringContains(n,"@internal")}function i(t,r){var i=e.getParseTreeNode(t);if(i&&155===i.kind){var a=i.parent.parameters.indexOf(i),o=a>0?i.parent.parameters[a-1]:void 0,s=r.text,c=o?e.concatenate(e.getTrailingCommentRanges(s,e.skipTrivia(s,o.end+1,!1,!0)),e.getLeadingCommentRanges(s,t.pos)):e.getTrailingCommentRanges(s,e.skipTrivia(s,t.pos,!1,!0));return c&&c.length&&n(e.last(c),r)}var u=i&&e.getLeadingCommentRangesOfNode(i,r);return!!e.forEach(u,(function(e){return n(e,r)}))}e.getDeclarationDiagnostics=function(t,r,n){var i=t.getCompilerOptions();return e.transformNodes(r,t,i,n?[n]:t.getSourceFiles(),[o],!1).diagnostics},e.isInternalDeclaration=i;var a=531469;function o(n){var o,u,l,_,d,p,f,m,g,y,h,v=function(){return e.Debug.fail("Diagnostic emitted without context")},b=v,x=!0,D=!1,S=!1,T=!1,E=!1,C=n.getEmitHost(),k={trackSymbol:function(e,t,r){if(262144&e.flags)return;I(N.isSymbolAccessible(e,t,r,!0)),w(N.getTypeReferenceDirectivesForSymbol(e,r))},reportInaccessibleThisError:function(){f&&n.addDiagnostic(e.createDiagnosticForNode(f,e.Diagnostics.The_inferred_type_of_0_references_an_inaccessible_1_type_A_type_annotation_is_necessary,e.declarationNameToString(f),"this"))},reportInaccessibleUniqueSymbolError:function(){f&&n.addDiagnostic(e.createDiagnosticForNode(f,e.Diagnostics.The_inferred_type_of_0_references_an_inaccessible_1_type_A_type_annotation_is_necessary,e.declarationNameToString(f),"unique symbol"))},reportPrivateInBaseOfClassExpression:function(t){f&&n.addDiagnostic(e.createDiagnosticForNode(f,e.Diagnostics.Property_0_of_exported_class_expression_may_not_be_private_or_protected,t))},reportLikelyUnsafeImportRequiredError:function(t){f&&n.addDiagnostic(e.createDiagnosticForNode(f,e.Diagnostics.The_inferred_type_of_0_cannot_be_named_without_a_reference_to_1_This_is_likely_not_portable_A_type_annotation_is_necessary,e.declarationNameToString(f),t))},moduleResolverHost:C,trackReferencedAmbientModule:function(t,r){var n=N.getTypeReferenceDirectivesForSymbol(r,67108863);if(e.length(n))return w(n);var i=e.getSourceFileOfNode(t);g.set(""+e.getOriginalNodeId(i),i)},trackExternalModuleSymbolOfImportTypeNode:function(e){D||(p||(p=[])).push(e)}},N=n.getEmitResolver(),A=n.getCompilerOptions(),F=A.noResolve,P=A.stripInternal;return function(i){if(288===i.kind&&i.isDeclarationFile)return i;if(289===i.kind){D=!0,g=e.createMap(),y=e.createMap();var a=!1,s=e.createBundle(e.map(i.sourceFiles,(function(t){if(!t.isDeclarationFile){if(a=a||t.hasNoDefaultLib,m=t,o=t,l=void 0,d=!1,_=e.createMap(),b=v,T=!1,E=!1,M(t,g),L(t,y),e.isExternalOrCommonJsModule(t)||e.isJsonSourceFile(t)){S=!1,x=!1;var r=e.isSourceFileJS(t)?e.createNodeArray(O(t,!0)):e.visitNodes(t.statements,$);return e.updateSourceFileNode(t,[e.createModuleDeclaration([],[e.createModifier(129)],e.createLiteral(e.getResolvedExternalModuleName(n.getEmitHost(),t)),e.createModuleBlock(e.setTextRange(e.createNodeArray(X(r)),t.statements)))],!0,[],[],!1,[])}x=!0;var i=e.isSourceFileJS(t)?e.createNodeArray(O(t)):e.visitNodes(t.statements,$);return e.updateSourceFileNode(t,X(i),!0,[],[],!1,[])}})),e.mapDefined(i.prepends,(function(t){if(291===t.kind){var r=e.createUnparsedSourceFile(t,"dts",P);return a=a||!!r.hasNoDefaultLib,M(r,g),w(r.typeReferenceDirectives),L(r,y),r}return t})));s.syntheticFileReferences=[],s.syntheticTypeReferences=K(),s.syntheticLibReferences=j(),s.hasNoDefaultLib=a;var c=e.getDirectoryPath(e.normalizeSlashes(e.getOutputPathsFor(i,C,!0).declarationFilePath)),f=z(s.syntheticFileReferences,c);return g.forEach(f),s}x=!0,T=!1,E=!1,o=i,m=i,b=v,D=!1,S=!1,d=!1,l=void 0,_=e.createMap(),u=void 0,g=M(m,e.createMap()),y=L(m,e.createMap());var k,N=[],F=e.getDirectoryPath(e.normalizeSlashes(e.getOutputPathsFor(i,C,!0).declarationFilePath)),I=z(N,F);if(e.isSourceFileJS(m))k=e.createNodeArray(O(i)),g.forEach(I),h=e.filter(k,e.isAnyImportSyntax);else{var R=e.visitNodes(i.statements,$);k=e.setTextRange(e.createNodeArray(X(R)),i.statements),g.forEach(I),h=e.filter(k,e.isAnyImportSyntax),e.isExternalModule(i)&&(!S||T&&!E)&&(k=e.setTextRange(e.createNodeArray(t(k,[e.createEmptyExports()])),k))}var B=e.updateSourceFileNode(i,k,!0,N,K(),i.hasNoDefaultLib,j());return B.exportedModulesFromDeclarationEmit=p,B;function j(){return e.map(e.arrayFrom(y.keys()),(function(e){return{fileName:e,pos:-1,end:-1}}))}function K(){return u?e.mapDefined(e.arrayFrom(u.keys()),J):[]}function J(t){if(h)for(var r=0,n=h;r<n.length;r++){var i=n[r];if(e.isImportEqualsDeclaration(i)&&e.isExternalModuleReference(i.moduleReference)){var a=i.moduleReference.expression;if(e.isStringLiteralLike(a)&&a.text===t)return}else if(e.isImportDeclaration(i)&&e.isStringLiteral(i.moduleSpecifier)&&i.moduleSpecifier.text===t)return}return{fileName:t,pos:-1,end:-1}}function z(t,n){return function(a){var o;if(a.isDeclarationFile)o=a.fileName;else{if(D&&e.contains(i.sourceFiles,a))return;var s=e.getOutputPathsFor(a,C,!0);o=s.declarationFilePath||s.jsFilePath||a.fileName}if(o){var c=e.moduleSpecifiers.getModuleSpecifier(r(r({},A),{baseUrl:A.baseUrl&&e.toPath(A.baseUrl,C.getCurrentDirectory(),C.getCanonicalFileName)}),m,e.toPath(n,C.getCurrentDirectory(),C.getCanonicalFileName),e.toPath(o,C.getCurrentDirectory(),C.getCanonicalFileName),C,C.getSourceFiles(),void 0,C.redirectTargetsMap);if(!e.pathIsRelative(c))return void w([c]);var u=e.getRelativePathToDirectoryOrUrl(n,o,C.getCurrentDirectory(),C.getCanonicalFileName,!1);if(e.startsWith(u,"./")&&e.hasExtension(u)&&(u=u.substring(2)),e.startsWith(u,"node_modules/")||-1!==u.indexOf("/node_modules/"))return;t.push({pos:-1,end:-1,fileName:u})}}}};function w(t){if(t){u=u||e.createMap();for(var r=0,n=t;r<n.length;r++){var i=n[r];u.set(i,!0)}}}function I(t){if(0===t.accessibility){if(t&&t.aliasesToMakeVisible)if(l)for(var r=0,i=t.aliasesToMakeVisible;r<i.length;r++){var a=i[r];e.pushIfUnique(l,a)}else l=t.aliasesToMakeVisible}else{var o=b(t);o&&(o.typeName?n.addDiagnostic(e.createDiagnosticForNode(t.errorNode||o.errorNode,o.diagnosticMessage,e.getTextOfNode(o.typeName),t.errorSymbolName,t.errorModuleName)):n.addDiagnostic(e.createDiagnosticForNode(t.errorNode||o.errorNode,o.diagnosticMessage,t.errorSymbolName,t.errorModuleName)))}}function O(t,r){var n=b;b=function(r){return{diagnosticMessage:r.errorModuleName?e.Diagnostics.Declaration_emit_for_this_file_requires_using_private_name_0_from_module_1_An_explicit_type_annotation_may_unblock_declaration_emit:e.Diagnostics.Declaration_emit_for_this_file_requires_using_private_name_0_An_explicit_type_annotation_may_unblock_declaration_emit,errorNode:r.errorNode||t}};var i=N.getDeclarationStatementsForSourceFile(t,a,k,r);return b=n,i}function M(t,r){return F||!e.isUnparsedSource(t)&&e.isSourceFileJS(t)?r:(e.forEach(t.referencedFiles,(function(n){var i=C.getSourceFileFromReference(t,n);i&&r.set(""+e.getOriginalNodeId(i),i)})),r)}function L(t,r){return e.forEach(t.libReferenceDirectives,(function(e){C.getLibFileFromReference(e)&&r.set(e.fileName.toLocaleLowerCase(),!0)})),r}function R(t,r,n){var i;d||(i=b,b=e.createGetSymbolAccessibilityDiagnosticForNode(t));var a=e.updateParameter(t,void 0,function(t,r,n){return e.createModifiersFromModifierFlags(s(t,r,n))}(t,r),t.dotDotDotToken,function t(r){return 75===r.kind?r:189===r.kind?e.updateArrayBindingPattern(r,e.visitNodes(r.elements,n)):e.updateObjectBindingPattern(r,e.visitNodes(r.elements,n));function n(r){return 214===r.kind?r:e.updateBindingElement(r,r.dotDotDotToken,r.propertyName,t(r.name),B(r)?r.initializer:void 0)}}(t.name),N.isOptionalParameter(t)?t.questionToken||e.createToken(57):void 0,K(t,n||t.type,!0),j(t));return d||(b=i),a}function B(t){return function(t){switch(t.kind){case 158:case 157:return!e.hasModifier(t,8);case 155:case 241:return!0}return!1}(t)&&N.isLiteralConstDeclaration(e.getParseTreeNode(t))}function j(t){if(B(t))return N.createLiteralConstValue(e.getParseTreeNode(t),k)}function K(t,r,n){if((n||!e.hasModifier(t,8))&&!B(t)){var i,s=155===t.kind&&(N.isRequiredInitializedParameter(t)||N.isOptionalUninitializedParameterProperty(t));return r&&!s?e.visitNode(r,Q):e.getParseTreeNode(t)?163===t.kind?e.createKeywordTypeNode(124):(f=t.name,d||(i=b,b=e.createGetSymbolAccessibilityDiagnosticForNode(t)),241===t.kind||190===t.kind?c(N.createTypeOfDeclaration(t,o,a,k)):155===t.kind||158===t.kind||157===t.kind?t.initializer?c(N.createTypeOfDeclaration(t,o,a,k,s)||N.createTypeOfExpression(t.initializer,o,a,k)):c(N.createTypeOfDeclaration(t,o,a,k,s)):c(N.createReturnTypeOfSignatureDeclaration(t,o,a,k))):r?e.visitNode(r,Q):e.createKeywordTypeNode(124)}function c(t){return f=void 0,d||(b=i),t||e.createKeywordTypeNode(124)}}function J(t){switch((t=e.getParseTreeNode(t)).kind){case 243:case 248:case 245:case 244:case 246:case 247:return!N.isDeclarationVisible(t);case 241:return!z(t);case 252:case 253:case 259:case 258:return!1}return!1}function z(t){return!e.isOmittedExpression(t)&&(e.isBindingPattern(t.name)?e.some(t.name.elements,z):N.isDeclarationVisible(t))}function U(t,r,n){if(!e.hasModifier(t,8)){var i=e.map(r,(function(e){return R(e,n)}));if(i)return e.createNodeArray(i,r.hasTrailingComma)}}function V(t,r){var n;if(!r){var i=e.getThisParameter(t);i&&(n=[R(i)])}if(e.isSetAccessorDeclaration(t)){var a=void 0;if(!r){var o=e.getSetAccessorValueParameter(t);if(o)a=R(o,void 0,ae(t,N.getAllAccessorDeclarations(t)))}a||(a=e.createParameter(void 0,void 0,void 0,"value")),n=e.append(n,a)}return e.createNodeArray(n||e.emptyArray)}function q(t,r){return e.hasModifier(t,8)?void 0:e.visitNodes(r,Q)}function W(t){return e.isSourceFile(t)||e.isTypeAliasDeclaration(t)||e.isModuleDeclaration(t)||e.isClassDeclaration(t)||e.isInterfaceDeclaration(t)||e.isFunctionLike(t)||e.isIndexSignatureDeclaration(t)||e.isMappedTypeNode(t)}function G(e,t){I(N.isEntityNameVisible(e,t)),w(N.getTypeReferenceDirectivesForEntityName(e))}function H(t,r){return e.hasJSDocNodes(t)&&e.hasJSDocNodes(r)&&(t.jsDoc=r.jsDoc),e.setCommentRange(t,e.getCommentRange(r))}function Y(t,r){if(r){if(S=S||248!==t.kind&&187!==t.kind,e.isStringLiteralLike(r))if(D){var i=e.getExternalModuleNameFromDeclaration(n.getEmitHost(),N,t);if(i)return e.createLiteral(i)}else{var a=N.getSymbolOfExternalModuleSpecifier(r);a&&(p||(p=[])).push(a)}return r}}function X(t){for(;e.length(l);){var r=l.shift();if(!e.isLateVisibilityPaintedStatement(r))return e.Debug.fail("Late replaced statement was found which is not handled by the declaration transformer!: "+(e.SyntaxKind?e.SyntaxKind[r.kind]:r.kind));var n=x;x=r.parent&&e.isSourceFile(r.parent)&&!(e.isExternalModule(r.parent)&&D);var i=ee(r);x=n,_.set(""+e.getOriginalNodeId(r),i)}return e.visitNodes(t,(function(t){if(e.isLateVisibilityPaintedStatement(t)){var r=""+e.getOriginalNodeId(t);if(_.has(r)){var n=_.get(r);return _.delete(r),n&&((e.isArray(n)?e.some(n,e.needsScopeMarker):e.needsScopeMarker(n))&&(T=!0),e.isSourceFile(t.parent)&&(e.isArray(n)?e.some(n,e.isExternalModuleIndicator):e.isExternalModuleIndicator(n))&&(S=!0)),n}}return t}))}function Q(t){if(!re(t)){if(e.isDeclaration(t)){if(J(t))return;if(e.hasDynamicName(t)&&!N.isLateBound(e.getParseTreeNode(t)))return}if(!(e.isFunctionLike(t)&&N.isImplementationOfOverload(t)||e.isSemicolonClassElement(t))){var r;W(t)&&(r=o,o=t);var i=b,a=e.canProduceDiagnostics(t),s=d,c=(172===t.kind||185===t.kind)&&246!==t.parent.kind;if((e.isMethodDeclaration(t)||e.isMethodSignature(t))&&e.hasModifier(t,8)){if(t.symbol&&t.symbol.declarations&&t.symbol.declarations[0]!==t)return;return D(e.createProperty(void 0,ie(t),t.name,void 0,void 0,void 0))}if(a&&!d&&(b=e.createGetSymbolAccessibilityDiagnosticForNode(t)),e.isTypeQueryNode(t)&&G(t.exprName,o),c&&(d=!0),function(e){switch(e.kind){case 165:case 161:case 160:case 162:case 163:case 158:case 157:case 159:case 164:case 166:case 241:case 154:case 215:case 168:case 179:case 169:case 170:case 187:return!0}return!1}(t))switch(t.kind){case 215:(e.isEntityName(t.expression)||e.isEntityNameExpression(t.expression))&&G(t.expression,o);var u=e.visitEachChild(t,Q,n);return D(e.updateExpressionWithTypeArguments(u,e.parenthesizeTypeParameters(u.typeArguments),u.expression));case 168:G(t.typeName,o);u=e.visitEachChild(t,Q,n);return D(e.updateTypeReferenceNode(u,u.typeName,e.parenthesizeTypeParameters(u.typeArguments)));case 165:return D(e.updateConstructSignature(t,q(t,t.typeParameters),U(t,t.parameters),K(t,t.type)));case 161:var l=e.hasModifier(t,8),_=e.createSignatureDeclaration(161,l?void 0:q(t,t.typeParameters),l?void 0:U(t,t.parameters,0),void 0);return _.modifiers=e.createNodeArray(ie(t)),D(_);case 160:var p=e.createSignatureDeclaration(159,q(t,t.typeParameters),U(t,t.parameters),K(t,t.type));return p.name=t.name,p.modifiers=e.createNodeArray(ie(t)),p.questionToken=t.questionToken,D(p);case 162:l=e.hasModifier(t,8);var m=ae(t,N.getAllAccessorDeclarations(t));return D(e.updateGetAccessor(t,void 0,ie(t),t.name,V(t,l),l?void 0:K(t,m),void 0));case 163:return D(e.updateSetAccessor(t,void 0,ie(t),t.name,V(t,e.hasModifier(t,8)),void 0));case 158:return D(e.updateProperty(t,void 0,ie(t),t.name,t.questionToken,e.hasModifier(t,8)?void 0:K(t,t.type),j(t)));case 157:return D(e.updatePropertySignature(t,ie(t),t.name,t.questionToken,e.hasModifier(t,8)?void 0:K(t,t.type),j(t)));case 159:return D(e.updateMethodSignature(t,q(t,t.typeParameters),U(t,t.parameters),K(t,t.type),t.name,t.questionToken));case 164:return D(e.updateCallSignature(t,q(t,t.typeParameters),U(t,t.parameters),K(t,t.type)));case 166:return D(e.updateIndexSignature(t,void 0,ie(t),U(t,t.parameters),e.visitNode(t.type,Q)||e.createKeywordTypeNode(124)));case 241:return e.isBindingPattern(t.name)?te(t.name):(c=!0,d=!0,D(e.updateVariableDeclaration(t,t.name,K(t,t.type),j(t))));case 154:return function(t){return 160===t.parent.kind&&e.hasModifier(t.parent,8)}(t)&&(t.default||t.constraint)?D(e.updateTypeParameterDeclaration(t,t.name,void 0,void 0)):D(e.visitEachChild(t,Q,n));case 179:var g=e.visitNode(t.checkType,Q),y=e.visitNode(t.extendsType,Q),h=o;o=t.trueType;var v=e.visitNode(t.trueType,Q);o=h;var x=e.visitNode(t.falseType,Q);return D(e.updateConditionalTypeNode(t,g,y,v,x));case 169:return D(e.updateFunctionTypeNode(t,e.visitNodes(t.typeParameters,Q),U(t,t.parameters),e.visitNode(t.type,Q)));case 170:return D(e.updateConstructorTypeNode(t,e.visitNodes(t.typeParameters,Q),U(t,t.parameters),e.visitNode(t.type,Q)));case 187:return e.isLiteralImportTypeNode(t)?D(e.updateImportTypeNode(t,e.updateLiteralTypeNode(t.argument,Y(t,t.argument.literal)),t.qualifier,e.visitNodes(t.typeArguments,Q,e.isTypeNode),t.isTypeOf)):D(t);default:e.Debug.assertNever(t,"Attempted to process unhandled node kind: "+e.SyntaxKind[t.kind])}return D(e.visitEachChild(t,Q,n))}}function D(n){return n&&a&&e.hasDynamicName(t)&&function(t){var r;d||(r=b,b=e.createGetSymbolAccessibilityDiagnosticForNodeName(t));f=t.name,e.Debug.assert(N.isLateBound(e.getParseTreeNode(t))),G(t.name.expression,o),d||(b=r);f=void 0}(t),W(t)&&(o=r),a&&!d&&(b=i),c&&(d=s),n===t?n:n&&e.setOriginalNode(H(n,t),t)}}function $(t){if(function(e){switch(e.kind){case 243:case 248:case 252:case 245:case 244:case 246:case 247:case 224:case 253:case 259:case 258:return!0}return!1}(t)&&!re(t)){switch(t.kind){case 259:return e.isSourceFile(t.parent)&&(S=!0),E=!0,e.updateExportDeclaration(t,void 0,t.modifiers,t.exportClause,Y(t,t.moduleSpecifier));case 258:if(e.isSourceFile(t.parent)&&(S=!0),E=!0,75===t.expression.kind)return t;var r=e.createOptimisticUniqueName("_default");b=function(){return{diagnosticMessage:e.Diagnostics.Default_export_of_the_module_has_or_is_using_private_name_0,errorNode:t}};var n=e.createVariableDeclaration(r,N.createTypeOfExpression(t.expression,t,a,k),void 0);return[e.createVariableStatement(x?[e.createModifier(129)]:[],e.createVariableDeclarationList([n],2)),e.updateExportAssignment(t,t.decorators,t.modifiers,r)]}var i=ee(t);return _.set(""+e.getOriginalNodeId(t),i),t}}function Z(t){if(e.isImportEqualsDeclaration(t)||e.hasModifier(t,512))return t;var r=e.getMutableClone(t),n=e.createModifiersFromModifierFlags(3070&e.getModifierFlags(t));return r.modifiers=n.length?e.createNodeArray(n):void 0,r}function ee(r){if(!re(r)){switch(r.kind){case 252:return function(t){if(N.isDeclarationVisible(t)){if(263===t.moduleReference.kind){var r=e.getExternalModuleImportEqualsDeclarationExpression(t);return e.updateImportEqualsDeclaration(t,void 0,t.modifiers,t.name,e.updateExternalModuleReference(t.moduleReference,Y(t,r)))}var n=b;return b=e.createGetSymbolAccessibilityDiagnosticForNode(t),G(t.moduleReference,o),b=n,t}}(r);case 253:return function(t){if(!t.importClause)return e.updateImportDeclaration(t,void 0,t.modifiers,t.importClause,Y(t,t.moduleSpecifier));var r=t.importClause&&t.importClause.name&&N.isDeclarationVisible(t.importClause)?t.importClause.name:void 0;if(!t.importClause.namedBindings)return r&&e.updateImportDeclaration(t,void 0,t.modifiers,e.updateImportClause(t.importClause,r,void 0),Y(t,t.moduleSpecifier));if(255===t.importClause.namedBindings.kind){var n=N.isDeclarationVisible(t.importClause.namedBindings)?t.importClause.namedBindings:void 0;return r||n?e.updateImportDeclaration(t,void 0,t.modifiers,e.updateImportClause(t.importClause,r,n),Y(t,t.moduleSpecifier)):void 0}var i=e.mapDefined(t.importClause.namedBindings.elements,(function(e){return N.isDeclarationVisible(e)?e:void 0}));return i&&i.length||r?e.updateImportDeclaration(t,void 0,t.modifiers,e.updateImportClause(t.importClause,r,i&&i.length?e.updateNamedImports(t.importClause.namedBindings,i):void 0),Y(t,t.moduleSpecifier)):void 0}(r)}if(!(e.isDeclaration(r)&&J(r)||e.isFunctionLike(r)&&N.isImplementationOfOverload(r))){var n;W(r)&&(n=o,o=r);var i=e.canProduceDiagnostics(r),s=b;i&&(b=e.createGetSymbolAccessibilityDiagnosticForNode(r));var c=x;switch(r.kind){case 246:return ce(e.updateTypeAliasDeclaration(r,void 0,ie(r),r.name,e.visitNodes(r.typeParameters,Q,e.isTypeParameterDeclaration),e.visitNode(r.type,Q,e.isTypeNode)));case 245:return ce(e.updateInterfaceDeclaration(r,void 0,ie(r),r.name,q(r,r.typeParameters),oe(r.heritageClauses),e.visitNodes(r.members,Q)));case 243:var u=ce(e.updateFunctionDeclaration(r,void 0,ie(r),void 0,r.name,q(r,r.typeParameters),U(r,r.parameters),K(r,r.type),void 0));if(u&&N.isExpandoFunctionDeclaration(r)){var l=N.getPropertiesOfContainerFunction(r),d=e.createModuleDeclaration(void 0,void 0,u.name||e.createIdentifier("_default"),e.createModuleBlock([]),16);d.flags^=8,d.parent=o,d.locals=e.createSymbolTable(l),d.symbol=l[0].parent;var p=e.mapDefined(l,(function(t){if(e.isPropertyAccessExpression(t.valueDeclaration)){b=e.createGetSymbolAccessibilityDiagnosticForNode(t.valueDeclaration);var r=N.createTypeOfDeclaration(t.valueDeclaration,d,a,k);b=s;var n=e.createVariableDeclaration(e.unescapeLeadingUnderscores(t.escapedName),r,void 0);return e.createVariableStatement(void 0,e.createVariableDeclarationList([n]))}})),f=e.createModuleDeclaration(void 0,ie(r),r.name,e.createModuleBlock(p),16);if(!e.hasModifier(u,512))return[u,f];var m=e.createModifiersFromModifierFlags(-514&e.getModifierFlags(u)|2),g=e.updateFunctionDeclaration(u,void 0,m,void 0,u.name,u.typeParameters,u.parameters,u.type,void 0),y=e.updateModuleDeclaration(f,void 0,m,f.name,f.body),h=e.createExportAssignment(void 0,void 0,!1,f.name);return e.isSourceFile(r.parent)&&(S=!0),E=!0,[g,y,h]}return u;case 248:x=!1;var v=r.body;if(v&&249===v.kind){var D=T,C=E;E=!1,T=!1;var A=X(e.visitNodes(v.statements,$));8388608&r.flags&&(T=!1),e.isGlobalScopeAugmentation(r)||function(t){return e.some(t,ne)}(A)||E||(A=T?e.createNodeArray(t(A,[e.createEmptyExports()])):e.visitNodes(A,Z));var F=e.updateModuleBlock(v,A);x=c,T=D,E=C;var P=ie(r);return ce(e.updateModuleDeclaration(r,void 0,P,e.isExternalModuleAugmentation(r)?Y(r,r.name):r.name,F))}x=c;P=ie(r);x=!1,e.visitNode(v,$);var w=""+e.getOriginalNodeId(v);F=_.get(w);return _.delete(w),ce(e.updateModuleDeclaration(r,void 0,P,r.name,F));case 244:m=e.createNodeArray(ie(r));var I=q(r,r.typeParameters),O=e.getFirstConstructorWithBody(r),M=void 0;if(O){var L=b;M=e.compact(e.flatMap(O.parameters,(function(t){if(e.hasModifier(t,92)&&!re(t))return b=e.createGetSymbolAccessibilityDiagnosticForNode(t),75===t.name.kind?H(e.createProperty(void 0,ie(t),t.name,t.questionToken,K(t,t.type),j(t)),t):function r(n){var i;for(var a=0,o=n.elements;a<o.length;a++){var s=o[a];e.isOmittedExpression(s)||(e.isBindingPattern(s.name)&&(i=e.concatenate(i,r(s.name))),(i=i||[]).push(e.createProperty(void 0,ie(t),s.name,void 0,K(s,void 0),void 0)))}return i}(t.name)}))),b=L}var R=e.createNodeArray(e.concatenate(M,e.visitNodes(r.members,Q))),B=e.getEffectiveBaseTypeNode(r);if(B&&!e.isEntityNameExpression(B.expression)&&99!==B.expression.kind){var V=r.name?e.unescapeLeadingUnderscores(r.name.escapedText):"default",ee=e.createOptimisticUniqueName(V+"_base");b=function(){return{diagnosticMessage:e.Diagnostics.extends_clause_of_exported_class_0_has_or_is_using_private_name_1,errorNode:B,typeName:r.name}};var te=e.createVariableDeclaration(ee,N.createTypeOfExpression(B.expression,r,a,k),void 0),ae=e.createVariableStatement(x?[e.createModifier(129)]:[],e.createVariableDeclarationList([te],2)),se=e.createNodeArray(e.map(r.heritageClauses,(function(t){if(89===t.token){var r=b;b=e.createGetSymbolAccessibilityDiagnosticForNode(t.types[0]);var n=e.updateHeritageClause(t,e.map(t.types,(function(t){return e.updateExpressionWithTypeArguments(t,e.visitNodes(t.typeArguments,Q),ee)})));return b=r,n}return e.updateHeritageClause(t,e.visitNodes(e.createNodeArray(e.filter(t.types,(function(t){return e.isEntityNameExpression(t.expression)||99===t.expression.kind}))),Q))})));return[ae,ce(e.updateClassDeclaration(r,void 0,m,r.name,I,se,R))]}se=oe(r.heritageClauses);return ce(e.updateClassDeclaration(r,void 0,m,r.name,I,se,R));case 224:return ce(function(t){if(!e.forEach(t.declarationList.declarations,z))return;var r=e.visitNodes(t.declarationList.declarations,Q);if(!e.length(r))return;return e.updateVariableStatement(t,e.createNodeArray(ie(t)),e.updateVariableDeclarationList(t.declarationList,r))}(r));case 247:return ce(e.updateEnumDeclaration(r,void 0,e.createNodeArray(ie(r)),r.name,e.createNodeArray(e.mapDefined(r.members,(function(t){if(!re(t)){var r=N.getConstantValue(t);return H(e.updateEnumMember(t,t.name,void 0!==r?e.createLiteral(r):void 0),t)}})))))}return e.Debug.assertNever(r,"Unhandled top-level node in declaration emit: "+e.SyntaxKind[r.kind])}}function ce(t){return W(r)&&(o=n),i&&(b=s),248===r.kind&&(x=c),t===r?t:t&&e.setOriginalNode(H(t,r),r)}}function te(t){return e.flatten(e.mapDefined(t.elements,(function(t){return function(t){if(214===t.kind)return;if(t.name){if(!z(t))return;return e.isBindingPattern(t.name)?te(t.name):e.createVariableDeclaration(t.name,K(t,void 0),void 0)}}(t)})))}function re(e){return!!P&&!!e&&i(e,m)}function ne(t){return e.isExportAssignment(t)||e.isExportDeclaration(t)}function ie(t){var r=e.getModifierFlags(t),n=function(t){var r=2811,n=x&&!function(e){if(245===e.kind)return!0;return!1}(t)?2:0,i=288===t.parent.kind;(!i||D&&i&&e.isExternalModule(t.parent))&&(r^=2,n=0);return s(t,r,n)}(t);return r===n?t.modifiers:e.createModifiersFromModifierFlags(n)}function ae(t,r){var n=c(t);return n||t===r.firstAccessor||(n=c(r.firstAccessor),b=e.createGetSymbolAccessibilityDiagnosticForNode(r.firstAccessor)),!n&&r.secondAccessor&&t!==r.secondAccessor&&(n=c(r.secondAccessor),b=e.createGetSymbolAccessibilityDiagnosticForNode(r.secondAccessor)),n}function oe(t){return e.createNodeArray(e.filter(e.map(t,(function(t){return e.updateHeritageClause(t,e.visitNodes(e.createNodeArray(e.filter(t.types,(function(r){return e.isEntityNameExpression(r.expression)||89===t.token&&99===r.expression.kind}))),Q))})),(function(e){return e.types&&!!e.types.length})))}}function s(t,r,n){void 0===r&&(r=3067),void 0===n&&(n=0);var i=e.getModifierFlags(t)&r|n;return 512&i&&!(1&i)&&(i^=1),512&i&&2&i&&(i^=2),i}function c(e){if(e)return 162===e.kind?e.type:e.parameters.length>0?e.parameters[0].type:void 0}e.transformDeclarations=o}(s||(s={})),function(e){var r,n;function i(t,r,n){if(n)return e.emptyArray;var i=t.jsx,a=e.getEmitScriptTarget(t),o=e.getEmitModuleKind(t),c=[];return e.addRange(c,r&&e.map(r.before,s)),c.push(e.transformTypeScript),c.push(e.transformClassFields),2===i&&c.push(e.transformJsx),a<99&&c.push(e.transformESNext),a<6&&c.push(e.transformES2019),a<5&&c.push(e.transformES2018),a<4&&c.push(e.transformES2017),a<3&&c.push(e.transformES2016),a<2&&(c.push(e.transformES2015),c.push(e.transformGenerators)),c.push(function(t){switch(t){case e.ModuleKind.ESNext:case e.ModuleKind.ES2015:return e.transformES2015Module;case e.ModuleKind.System:return e.transformSystemModule;default:return e.transformModule}}(o)),a<1&&c.push(e.transformES5),e.addRange(c,r&&e.map(r.after,s)),c}function a(t){var r=[];return r.push(e.transformDeclarations),e.addRange(r,t&&e.map(t.afterDeclarations,c)),r}function o(t,r){return function(n){var i=t(n);return"function"==typeof i?r(i):function(t){return function(r){return e.isBundle(r)?t.transformBundle(r):t.transformSourceFile(r)}}(i)}}function s(t){return o(t,e.chainBundle)}function c(t){return o(t,e.identity)}function u(e,t){return t}function l(e,t,r){r(e,t)}!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Completed=2]="Completed",e[e.Disposed=3]="Disposed"}(r||(r={})),function(e){e[e.Substitution=1]="Substitution",e[e.EmitNotifications=2]="EmitNotifications"}(n||(n={})),e.noTransformers={scriptTransformers:e.emptyArray,declarationTransformers:e.emptyArray},e.getTransformers=function(e,t,r){return{scriptTransformers:i(e,t,r),declarationTransformers:a(t)}},e.noEmitSubstitution=u,e.noEmitNotification=l,e.transformNodes=function(r,n,i,a,o,s){for(var c,_,d,p=new Array(324),f=[],m=[],g=0,y=!1,h=u,v=l,b=0,x=[],D={getCompilerOptions:function(){return i},getEmitResolver:function(){return r},getEmitHost:function(){return n},startLexicalEnvironment:function(){e.Debug.assert(b>0,"Cannot modify the lexical environment during initialization."),e.Debug.assert(b<2,"Cannot modify the lexical environment after transformation has completed."),e.Debug.assert(!y,"Lexical environment is suspended."),f[g]=c,m[g]=_,g++,c=void 0,_=void 0},suspendLexicalEnvironment:function(){e.Debug.assert(b>0,"Cannot modify the lexical environment during initialization."),e.Debug.assert(b<2,"Cannot modify the lexical environment after transformation has completed."),e.Debug.assert(!y,"Lexical environment is already suspended."),y=!0},resumeLexicalEnvironment:function(){e.Debug.assert(b>0,"Cannot modify the lexical environment during initialization."),e.Debug.assert(b<2,"Cannot modify the lexical environment after transformation has completed."),e.Debug.assert(y,"Lexical environment is not suspended."),y=!1},endLexicalEnvironment:function(){var r;if(e.Debug.assert(b>0,"Cannot modify the lexical environment during initialization."),e.Debug.assert(b<2,"Cannot modify the lexical environment after transformation has completed."),e.Debug.assert(!y,"Lexical environment is suspended."),(c||_)&&(_&&(r=t(_)),c)){var n=e.createVariableStatement(void 0,e.createVariableDeclarationList(c));e.setEmitFlags(n,1048576),r?r.push(n):r=[n]}c=f[--g],_=m[g],0===g&&(f=[],m=[]);return r},hoistVariableDeclaration:function(t){e.Debug.assert(b>0,"Cannot modify the lexical environment during initialization."),e.Debug.assert(b<2,"Cannot modify the lexical environment after transformation has completed.");var r=e.setEmitFlags(e.createVariableDeclaration(t),64);c?c.push(r):c=[r]},hoistFunctionDeclaration:function(t){e.Debug.assert(b>0,"Cannot modify the lexical environment during initialization."),e.Debug.assert(b<2,"Cannot modify the lexical environment after transformation has completed."),_?_.push(t):_=[t]},requestEmitHelper:function(t){e.Debug.assert(b>0,"Cannot modify the transformation context during initialization."),e.Debug.assert(b<2,"Cannot modify the transformation context after transformation has completed."),e.Debug.assert(!t.scoped,"Cannot request a scoped emit helper."),d=e.append(d,t)},readEmitHelpers:function(){e.Debug.assert(b>0,"Cannot modify the transformation context during initialization."),e.Debug.assert(b<2,"Cannot modify the transformation context after transformation has completed.");var t=d;return d=void 0,t},enableSubstitution:function(t){e.Debug.assert(b<2,"Cannot modify the transformation context after transformation has completed."),p[t]|=1},enableEmitNotification:function(t){e.Debug.assert(b<2,"Cannot modify the transformation context after transformation has completed."),p[t]|=2},isSubstitutionEnabled:A,isEmitNotificationEnabled:F,get onSubstituteNode(){return h},set onSubstituteNode(t){e.Debug.assert(b<1,"Cannot modify transformation hooks after initialization has completed."),e.Debug.assert(void 0!==t,"Value must not be 'undefined'"),h=t},get onEmitNode(){return v},set onEmitNode(t){e.Debug.assert(b<1,"Cannot modify transformation hooks after initialization has completed."),e.Debug.assert(void 0!==t,"Value must not be 'undefined'"),v=t},addDiagnostic:function(e){x.push(e)}},S=0,T=a;S<T.length;S++){var E=T[S];e.disposeEmitNodes(e.getSourceFileOfNode(e.getParseTreeNode(E)))}e.performance.mark("beforeTransform");var C=o.map((function(e){return e(D)})),k=function(e){for(var t=0,r=C;t<r.length;t++){e=(0,r[t])(e)}return e};b=1;var N=e.map(a,s?k:function(t){return!t||e.isSourceFile(t)&&t.isDeclarationFile?t:k(t)});return b=2,e.performance.mark("afterTransform"),e.performance.measure("transformTime","beforeTransform","afterTransform"),{transformed:N,substituteNode:function(t,r){return e.Debug.assert(b<3,"Cannot substitute a node after the result is disposed."),r&&A(r)&&h(t,r)||r},emitNodeWithNotification:function(t,r,n){e.Debug.assert(b<3,"Cannot invoke TransformationResult callbacks after the result is disposed."),r&&(F(r)?v(t,r,n):n(t,r))},dispose:function(){if(b<3){for(var t=0,r=a;t<r.length;t++){var n=r[t];e.disposeEmitNodes(e.getSourceFileOfNode(e.getParseTreeNode(n)))}c=void 0,f=void 0,_=void 0,m=void 0,h=void 0,v=void 0,d=void 0,b=3}},diagnostics:x};function A(t){return 0!=(1&p[t.kind])&&0==(4&e.getEmitFlags(t))}function F(t){return 0!=(2&p[t.kind])||0!=(2&e.getEmitFlags(t))}}}(s||(s={})),function(e){var r,n,i=function(){var e=[];return e[1024]=["{","}"],e[2048]=["(",")"],e[4096]=["<",">"],e[8192]=["[","]"],e}(),a={pos:-1,end:-1};function o(t,r,n,i,a,o){void 0===i&&(i=!1);var c=e.isArray(n)?n:e.getSourceFilesToEmit(t,n),l=t.getCompilerOptions();if(l.outFile||l.out){var _=t.getPrependNodes();if(c.length||_.length){var d=e.createBundle(c,_);if(m=r(u(d,t,i),d))return m}}else{if(!a)for(var p=0,f=c;p<f.length;p++){var m,g=f[p];if(m=r(u(g,t,i),g))return m}if(o){var y=s(t.getCompilerOptions());if(y)return r({buildInfoPath:y},void 0)}}}function s(t){var r=t.configFilePath;if(e.isIncrementalCompilation(t)){if(t.tsBuildInfoFile)return t.tsBuildInfoFile;var n,i=t.outFile||t.out;if(i)n=e.removeFileExtension(i);else{if(!r)return;var a=e.removeFileExtension(r);n=t.outDir?t.rootDir?e.resolvePath(t.outDir,e.getRelativePathFromDirectory(t.rootDir,a,!0)):e.combinePaths(t.outDir,e.getBaseFileName(a)):a}return n+".tsbuildinfo"}}function c(t,r){var n=t.outFile||t.out,i=t.emitDeclarationOnly?void 0:n,a=i&&l(i,t),o=r||e.getEmitDeclarations(t)?e.removeFileExtension(n)+".d.ts":void 0;return{jsFilePath:i,sourceMapFilePath:a,declarationFilePath:o,declarationMapPath:o&&e.getAreDeclarationMapsEnabled(t)?o+".map":void 0,buildInfoPath:s(t)}}function u(t,r,n){var i=r.getCompilerOptions();if(289===t.kind)return c(i,n);var a=e.getOwnEmitOutputFilePath(t.fileName,r,_(t,i)),o=e.isJsonSourceFile(t)&&0===e.comparePaths(t.fileName,a,r.getCurrentDirectory(),!r.useCaseSensitiveFileNames()),s=i.emitDeclarationOnly||o?void 0:a,u=!s||e.isJsonSourceFile(t)?void 0:l(s,i),d=n||e.getEmitDeclarations(i)?e.getDeclarationEmitOutputFilePath(t.fileName,r):void 0;return{jsFilePath:s,sourceMapFilePath:u,declarationFilePath:d,declarationMapPath:d&&e.getAreDeclarationMapsEnabled(i)?d+".map":void 0,buildInfoPath:void 0}}function l(e,t){return t.sourceMap&&!t.inlineSourceMap?e+".map":void 0}function _(t,r){if(e.isJsonSourceFile(t))return".json";if(1===r.jsx)if(e.isSourceFileJS(t)){if(e.fileExtensionIs(t.fileName,".jsx"))return".jsx"}else if(1===t.languageVariant)return".jsx";return".js"}function d(t,r,n,i){return i?e.resolvePath(i,e.getRelativePathFromDirectory(function(t){return t.options.rootDir||e.getDirectoryPath(e.Debug.assertDefined(t.options.configFilePath))}(r),t,n)):t}function p(t,r,n){return e.Debug.assert(!e.fileExtensionIs(t,".d.ts")),e.changeExtension(d(t,r,n,r.options.declarationDir||r.options.outDir),".d.ts")}function f(t,r,n){if(!r.options.emitDeclarationOnly){var i=e.fileExtensionIs(t,".json"),a=e.changeExtension(d(t,r,n,r.options.outDir),i?".json":e.fileExtensionIs(t,".tsx")&&1===r.options.jsx?".jsx":".js");return i&&0===e.comparePaths(t,a,e.Debug.assertDefined(r.options.configFilePath),n)?void 0:a}}function m(){var t;return{addOutput:function(e){e&&(t||(t=[])).push(e)},getOutputs:function(){return t||e.emptyArray}}}function g(e,t){var r=c(e.options,!1),n=r.jsFilePath,i=r.sourceMapFilePath,a=r.declarationFilePath,o=r.declarationMapPath,s=r.buildInfoPath;t(n),t(i),t(a),t(o),t(s)}function y(t,r,n,i){if(!e.fileExtensionIs(r,".d.ts")){var a=f(r,t,n);if(i(a),!e.fileExtensionIs(r,".json")&&(a&&t.options.sourceMap&&i(a+".map"),e.getEmitDeclarations(t.options))){var o=p(r,t,n);i(o),t.options.declarationMap&&i(o+".map")}}}function h(t,r,n,i,a,s,c){var u,l,_=i.scriptTransformers,d=i.declarationTransformers,p=r.getCompilerOptions(),f=p.sourceMap||p.inlineSourceMap||e.getAreDeclarationMapsEnabled(p)?[]:void 0,m=p.listEmittedFiles?[]:void 0,g=e.createDiagnosticCollection(),y=e.getNewLineCharacter(p,(function(){return r.getNewLine()})),h=e.createTextWriter(y),b=e.performance.createTimer("printTime","beforePrint","afterPrint"),D=b.enter,S=b.exit,T=!1;return D(),o(r,(function(i,o){var s,f=i.jsFilePath,y=i.sourceMapFilePath,h=i.declarationFilePath,b=i.declarationMapPath,D=i.buildInfoPath;D&&o&&e.isBundle(o)&&(s=e.getDirectoryPath(e.getNormalizedAbsolutePath(D,r.getCurrentDirectory())),u={commonSourceDirectory:S(r.getCommonSourceDirectory()),sourceFiles:o.sourceFiles.map((function(t){return S(e.getNormalizedAbsolutePath(t.fileName,r.getCurrentDirectory()))}))});(function(n,i,o,s){if(!n||a||!i)return;if(i&&r.isEmitBlocked(i)||p.noEmit)return void(T=!0);var c=e.transformNodes(t,r,p,[n],_,!1),l=x({removeComments:p.removeComments,newLine:p.newLine,noEmitHelpers:p.noEmitHelpers,module:p.module,target:p.target,sourceMap:p.sourceMap,inlineSourceMap:p.inlineSourceMap,inlineSources:p.inlineSources,extendedDiagnostics:p.extendedDiagnostics,writeBundleFileInfo:!!u,relativeToBuildInfo:s},{hasGlobalName:t.hasGlobalName,onEmitNode:c.emitNodeWithNotification,substituteNode:c.substituteNode});e.Debug.assert(1===c.transformed.length,"Should only see one output from the transform"),C(i,o,c.transformed[0],l,p),c.dispose(),u&&(u.js=l.bundleFileInfo)})(o,f,y,S),function(n,i,o,s){if(!n)return;if(!i)return void((a||p.emitDeclarationOnly)&&(T=!0));var _=e.isSourceFile(n)?[n]:n.sourceFiles,f=p.outFile||p.out?[e.createBundle(_,e.isSourceFile(n)?void 0:n.prepends)]:_;a&&!e.getEmitDeclarations(p)&&_.forEach(E);var m=e.transformNodes(t,r,p,f,d,!1);if(e.length(m.diagnostics))for(var y=0,h=m.diagnostics;y<h.length;y++){var v=h[y];g.add(v)}var b=x({removeComments:p.removeComments,newLine:p.newLine,noEmitHelpers:!0,module:p.module,target:p.target,sourceMap:p.sourceMap,inlineSourceMap:p.inlineSourceMap,extendedDiagnostics:p.extendedDiagnostics,onlyPrintJsDocStyle:!0,writeBundleFileInfo:!!u,recordInternalSection:!!u,relativeToBuildInfo:s},{hasGlobalName:t.hasGlobalName,onEmitNode:m.emitNodeWithNotification,substituteNode:m.substituteNode}),D=!!m.diagnostics&&!!m.diagnostics.length||!!r.isEmitBlocked(i)||!!p.noEmit;if(T=T||D,(!D||c)&&(e.Debug.assert(1===m.transformed.length,"Should only see one output from the decl transform"),C(i,o,m.transformed[0],b,{sourceMap:p.declarationMap,sourceRoot:p.sourceRoot,mapRoot:p.mapRoot,extendedDiagnostics:p.extendedDiagnostics}),c&&288===m.transformed[0].kind)){var S=m.transformed[0];l=S.exportedModulesFromDeclarationEmit}m.dispose(),u&&(u.dts=b.bundleFileInfo)}(o,h,b,S),function(t,i){if(!i||n||T)return;var a=r.getProgramBuildInfo();if(r.isEmitBlocked(i)||p.noEmit)return void(T=!0);e.writeFile(r,g,i,v({bundle:t,program:a,version:e.version}),!1)}(u,D),!T&&m&&(a||(f&&m.push(f),y&&m.push(y),D&&m.push(D)),h&&m.push(h),b&&m.push(b));function S(t){return e.ensurePathIsNonModuleName(e.getRelativePathFromDirectory(s,t,r.getCanonicalFileName))}}),e.getSourceFilesToEmit(r,n),c,s,!n),S(),{emitSkipped:T,diagnostics:g.getDiagnostics(),emittedFiles:m,sourceMaps:f,exportedModulesFromDeclarationEmit:l};function E(r){e.isExportAssignment(r)?75===r.expression.kind&&t.collectLinkedAliases(r.expression,!0):e.isExportSpecifier(r)?t.collectLinkedAliases(r.propertyName||r.name,!0):e.forEachChild(r,E)}function C(t,n,i,a,o){var s,c=289===i.kind?i:void 0,u=288===i.kind?i:void 0,l=c?c.sourceFiles:[u];if(function(t,r){return(t.sourceMap||t.inlineSourceMap)&&(288!==r.kind||!e.fileExtensionIs(r.fileName,".json"))}(o,i)&&(s=e.createSourceMapGenerator(r,e.getBaseFileName(e.normalizeSlashes(t)),function(t){var r=e.normalizeSlashes(t.sourceRoot||"");return r?e.ensureTrailingDirectorySeparator(r):r}(o),function(t,n,i){if(t.sourceRoot)return r.getCommonSourceDirectory();if(t.mapRoot){var a=e.normalizeSlashes(t.mapRoot);return i&&(a=e.getDirectoryPath(e.getSourceFilePathInNewDir(i.fileName,r,a))),0===e.getRootLength(a)&&(a=e.combinePaths(r.getCommonSourceDirectory(),a)),a}return e.getDirectoryPath(e.normalizePath(n))}(o,t,u),o)),c?a.writeBundle(c,h,s):a.writeFile(u,h,s),s){f&&f.push({inputSourceFileNames:s.getSources(),sourceMap:s.toJSON()});var _=function(t,n,i,a,o){if(t.inlineSourceMap){var s=n.toString();return"data:application/json;base64,"+e.base64encode(e.sys,s)}var c=e.getBaseFileName(e.normalizeSlashes(e.Debug.assertDefined(a)));if(t.mapRoot){var u=e.normalizeSlashes(t.mapRoot);return o&&(u=e.getDirectoryPath(e.getSourceFilePathInNewDir(o.fileName,r,u))),0===e.getRootLength(u)?(u=e.combinePaths(r.getCommonSourceDirectory(),u),e.getRelativePathToDirectoryOrUrl(e.getDirectoryPath(e.normalizePath(i)),e.combinePaths(u,c),r.getCurrentDirectory(),r.getCanonicalFileName,!0)):e.combinePaths(u,c)}return c}(o,s,t,n,u);if(_&&(h.isAtStartOfLine()||h.rawWrite(y),h.writeComment("//# sourceMappingURL="+_)),n){var d=s.toString();e.writeFile(r,g,n,d,!1,l)}}else h.writeLine();e.writeFile(r,g,t,h.getText(),!!p.emitBOM,l),h.clear()}}function v(e){return JSON.stringify(e,void 0,2)}function b(e){return JSON.parse(e)}function x(t,r){void 0===t&&(t={}),void 0===r&&(r={});var n,o,s,c,u,l,_,d,p,f,m,g,y,h,v,b,x,D=r.hasGlobalName,S=r.onEmitNode,T=void 0===S?e.noEmitNotification:S,E=r.substituteNode,C=void 0===E?e.noEmitSubstitution:E,k=r.onBeforeEmitNodeArray,N=r.onAfterEmitNodeArray,A=r.onBeforeEmitToken,F=r.onAfterEmitToken,P=!!t.extendedDiagnostics,w=e.getNewLineCharacter(t),I=e.getEmitModuleKind(t),O=e.createMap(),M=function(e){p.write(e)},L=t.writeBundleFileInfo?{sections:[]}:void 0,R=L?e.Debug.assertDefined(t.relativeToBuildInfo):void 0,B=t.recordInternalSection,j=0,K="text",J=!0,z=-1,U=-1,V=-1,q=-1,W=!1,G=!!t.removeComments,H=e.performance.createTimerIf(P,"commentTime","beforeComment","afterComment"),Y=H.enter,X=H.exit;return pe(),{printNode:function(t,r,n){switch(t){case 0:e.Debug.assert(e.isSourceFile(r),"Expected a SourceFile node.");break;case 2:e.Debug.assert(e.isIdentifier(r),"Expected an Identifier node.");break;case 1:e.Debug.assert(e.isExpression(r),"Expected an Expression node.")}switch(r.kind){case 288:return $(r);case 289:return Q(r);case 290:return function(e,t){var r=p;de(t,void 0),le(4,e,void 0),pe(),p=r}(r,ce()),ue()}return Z(t,r,n,ce()),ue()},printList:function(e,t,r){return ee(e,t,r,ce()),ue()},printFile:$,printBundle:Q,writeNode:Z,writeList:ee,writeFile:se,writeBundle:oe,bundleFileInfo:L};function Q(e){return oe(e,ce(),void 0),ue()}function $(e){return se(e,ce(),void 0),ue()}function Z(e,t,r,n){var i=p;de(n,void 0),le(e,t,r),pe(),p=i}function ee(e,t,r,n){var i=p;de(n,void 0),r&&_e(r),gt(a,t,e),pe(),p=i}function te(){return p.getTextPosWithWriteLine?p.getTextPosWithWriteLine():p.getTextPos()}function re(t,r,n){var i=e.lastOrUndefined(L.sections);i&&i.kind===n?i.end=r:L.sections.push({pos:t,end:r,kind:n})}function ne(t){if(B&&L&&n&&(e.isDeclaration(t)||e.isVariableStatement(t))&&e.isInternalDeclaration(t,n)&&"internal"!==K){var r=K;return ae(p.getTextPos()),j=te(),K="internal",r}}function ie(e){e&&(ae(p.getTextPos()),j=te(),K=e)}function ae(e){return j<e&&(re(j,e,K),!0)}function oe(r,n,i){var a;m=!1;var o=p;de(n,i),nt(r),rt(r),Te(r),function(t){$e(!!t.hasNoDefaultLib,t.syntheticFileReferences||[],t.syntheticTypeReferences||[],t.syntheticLibReferences||[]);for(var r=0,n=t.prepends;r<n.length;r++){var i=n[r];if(e.isUnparsedSource(i)&&i.syntheticReferences)for(var a=0,o=i.syntheticReferences;a<o.length;a++){me(o[a]),At()}}}(r);for(var s=0,c=r.prepends;s<c.length;s++){var u=c[s];At();var l=p.getTextPos(),_=L&&L.sections;if(_&&(L.sections=[]),le(4,u,void 0),L){var d=L.sections;L.sections=_,u.oldFileOfCurrentEmit?(a=L.sections).push.apply(a,d):(d.forEach((function(t){return e.Debug.assert(e.isBundleFileTextLike(t))})),L.sections.push({pos:l,end:p.getTextPos(),kind:"prepend",data:R(u.fileName),texts:d}))}}j=te();for(var f=0,g=r.sourceFiles;f<g.length;f++){var y=g[f];le(0,y,y)}if(L&&r.sourceFiles.length&&ae(p.getTextPos())){var h=function(t){for(var r,n=e.createMap(),i=0;i<t.sourceFiles.length;i++){for(var a=t.sourceFiles[i],o=void 0,s=0,c=0,u=a.statements;c<u.length;c++){var l=u[c];if(!e.isPrologueDirective(l))break;n.has(l.expression.text)||(n.set(l.expression.text,!0),(o||(o=[])).push({pos:l.pos,end:l.end,expression:{pos:l.expression.pos,end:l.expression.end,text:l.expression.text}}),s=s<l.end?l.end:s)}o&&(r||(r=[])).push({file:i,text:a.text.substring(0,s),directives:o})}return r}(r);h&&(L.sources||(L.sources={}),L.sources.prologues=h);var v=function(r){var n;if(I===e.ModuleKind.None||t.noEmitHelpers)return;for(var i=e.createMap(),a=0,o=r.sourceFiles;a<o.length;a++){var s=o[a],c=void 0!==e.getExternalHelpersModuleName(s),u=Ee(s);if(u)for(var l=0,_=u;l<_.length;l++){var d=_[l];d.scoped||c||i.get(d.name)||(i.set(d.name,!0),(n||(n=[])).push(d.name))}}return n}(r);v&&(L.sources||(L.sources={}),L.sources.helpers=v)}pe(),p=o}function se(e,t,r){m=!0;var n=p;de(t,r),nt(e),rt(e),le(0,e,e),pe(),p=n}function ce(){return f||(f=e.createTextWriter(w))}function ue(){var e=f.getText();return f.clear(),e}function le(e,t,r){r&&_e(r),he(e,t)}function _e(e){n=e,h=void 0,v=void 0,e&&kr(e)}function de(r,n){r&&t.omitTrailingSemicolon&&(r=e.getTrailingSemicolonDeferringWriter(r)),g=n,J=!(p=r)||!g}function pe(){o=[],s=[],c=e.createMap(),u=[],l=0,_=[],n=void 0,h=void 0,v=void 0,b=void 0,x=void 0,de(void 0,void 0)}function fe(){return h||(h=e.getLineStarts(n))}function me(e){if(void 0!==e){var t=ne(e),r=he(4,e);return ie(t),r}}function ge(e){if(void 0!==e)return he(2,e)}function ye(e){if(void 0!==e)return he(1,e)}function he(t,r){var n=b,i=x;b=r,x=void 0,ve(0,r)(t,r),e.Debug.assert(b===r);var a=x;return b=n,x=i,a||r}function ve(t,r){switch(t){case 0:if(T!==e.noEmitNotification)return xe;case 1:if(C!==e.noEmitSubstitution)return Se;case 2:if(!G&&288!==r.kind)return sr;case 3:if(!J&&288!==r.kind&&!e.isInJsonFile(r))return Sr;case 4:return De;default:return e.Debug.assertNever(t)}}function be(e,t){return ve(e+1,t)}function xe(t,r){e.Debug.assert(b===r);var n=be(0,r);T(t,r,n),e.Debug.assert(b===r)}function De(t,r){if(e.Debug.assert(b===r||x===r),0===t)return function(t){At();var r=t.statements;if(_r){if(0===r.length||!e.isPrologueDirective(r[0])||e.nodeIsSynthesized(r[0]))return void _r(t,r,Ze)}Ze(t)}(e.cast(r,e.isSourceFile));if(2===t)return Ne(e.cast(r,e.isIdentifier));if(3===t)return function(e){me(e.name),kt(),St("in"),kt(),me(e.constraint)}(e.cast(r,e.isTypeParameterDeclaration));if(5===t)return e.Debug.assertNode(r,e.isEmptyStatement),Pe(!0);if(4===t){if(e.isKeyword(r.kind))return It(r,St);switch(r.kind){case 15:case 16:case 17:return Ce(r);case 290:case 284:return function(e){for(var t=0,r=e.texts;t<r.length;t++){var n=r[t];At(),me(n)}}(r);case 283:return ke(r);case 285:case 286:return o=r,s=te(),ke(o),void(L&&re(s,p.getTextPos(),285===o.kind?"text":"internal"));case 287:return function(t){var r=te();if(ke(t),L){var n=e.clone(t.section);n.pos=r,n.end=p.getTextPos(),L.sections.push(n)}}(r);case 75:return Ne(r);case 152:return function(e){(function(e){75===e.kind?ye(e):me(e)})(e.left),xt("."),me(e.right)}(r);case 153:return function(e){xt("["),ye(e.expression),xt("]")}(r);case 154:return function(e){me(e.name),e.constraint&&(kt(),St("extends"),kt(),me(e.constraint));e.default&&(kt(),Tt("="),kt(),me(e.default))}(r);case 155:return function(e){_t(e,e.decorators),at(e,e.modifiers),me(e.dotDotDotToken),it(e.name,Et),me(e.questionToken),e.parent&&298===e.parent.kind&&!e.name?me(e.type):ot(e.type);st(e.initializer,e.type?e.type.end:e.questionToken?e.questionToken.end:e.name?e.name.end:e.modifiers?e.modifiers.end:e.decorators?e.decorators.end:e.pos,e)}(r);case 156:return a=r,xt("@"),void ye(a.expression);case 157:return function(e){_t(e,e.decorators),at(e,e.modifiers),it(e.name,Nt),me(e.questionToken),ot(e.type),Dt()}(r);case 158:return function(e){_t(e,e.decorators),at(e,e.modifiers),me(e.name),me(e.questionToken),me(e.exclamationToken),ot(e.type),st(e.initializer,e.type?e.type.end:e.questionToken?e.questionToken.end:e.name.end,e),Dt()}(r);case 159:return function(e){Ht(e),_t(e,e.decorators),at(e,e.modifiers),me(e.name),me(e.questionToken),pt(e,e.typeParameters),ft(e,e.parameters),ot(e.type),Dt(),Yt(e)}(r);case 160:return function(e){_t(e,e.decorators),at(e,e.modifiers),me(e.asteriskToken),me(e.name),me(e.questionToken),Re(e,Be)}(r);case 161:return function(e){at(e,e.modifiers),St("constructor"),Re(e,Be)}(r);case 162:case 163:return function(e){_t(e,e.decorators),at(e,e.modifiers),St(162===e.kind?"get":"set"),kt(),me(e.name),Re(e,Be)}(r);case 164:return function(e){Ht(e),_t(e,e.decorators),at(e,e.modifiers),pt(e,e.typeParameters),ft(e,e.parameters),ot(e.type),Dt(),Yt(e)}(r);case 165:return function(e){Ht(e),_t(e,e.decorators),at(e,e.modifiers),St("new"),kt(),pt(e,e.typeParameters),ft(e,e.parameters),ot(e.type),Dt(),Yt(e)}(r);case 166:return function(e){_t(e,e.decorators),at(e,e.modifiers),t=e,r=e.parameters,gt(t,r,8848),ot(e.type),Dt();var t,r}(r);case 167:return function(e){e.assertsModifier&&(me(e.assertsModifier),kt());me(e.parameterName),e.type&&(kt(),St("is"),kt(),me(e.type))}(r);case 168:return function(e){me(e.typeName),dt(e,e.typeArguments)}(r);case 169:return function(e){Ht(e),pt(e,e.typeParameters),mt(e,e.parameters),kt(),xt("=>"),kt(),me(e.type),Yt(e)}(r);case 298:return function(e){St("function"),ft(e,e.parameters),xt(":"),me(e.type)}(r);case 170:return function(e){Ht(e),St("new"),kt(),pt(e,e.typeParameters),ft(e,e.parameters),kt(),xt("=>"),kt(),me(e.type),Yt(e)}(r);case 171:return function(e){St("typeof"),kt(),me(e.exprName)}(r);case 172:return function(t){xt("{");var r=1&e.getEmitFlags(t)?768:32897;gt(t,t.members,524288|r),xt("}")}(r);case 173:return function(e){me(e.elementType),xt("["),xt("]")}(r);case 174:return function(e){xt("["),gt(e,e.elementTypes,528),xt("]")}(r);case 175:return function(e){me(e.type),xt("?")}(r);case 177:return function(e){gt(e,e.types,516)}(r);case 178:return function(e){gt(e,e.types,520)}(r);case 179:return function(e){me(e.checkType),kt(),St("extends"),kt(),me(e.extendsType),kt(),xt("?"),kt(),me(e.trueType),kt(),xt(":"),kt(),me(e.falseType)}(r);case 180:return function(e){St("infer"),kt(),me(e.typeParameter)}(r);case 181:return function(e){xt("("),me(e.type),xt(")")}(r);case 215:return function(e){ye(e.expression),dt(e,e.typeArguments)}(r);case 182:return void St("this");case 183:return function(e){Ot(e.operator,St),kt(),me(e.type)}(r);case 184:return function(e){me(e.objectType),xt("["),me(e.indexType),xt("]")}(r);case 185:return function(t){var r=e.getEmitFlags(t);xt("{"),1&r?kt():(At(),Ft());t.readonlyToken&&(me(t.readonlyToken),137!==t.readonlyToken.kind&&St("readonly"),kt());xt("["),he(3,t.typeParameter),xt("]"),t.questionToken&&(me(t.questionToken),57!==t.questionToken.kind&&xt("?"));xt(":"),kt(),me(t.type),Dt(),1&r?kt():(At(),Pt());xt("}")}(r);case 186:return function(e){ye(e.literal)}(r);case 187:return function(e){e.isTypeOf&&(St("typeof"),kt());St("import"),xt("("),me(e.argument),xt(")"),e.qualifier&&(xt("."),me(e.qualifier));dt(e,e.typeArguments)}(r);case 293:return void xt("*");case 294:return void xt("?");case 295:return function(e){xt("?"),me(e.type)}(r);case 296:return function(e){xt("!"),me(e.type)}(r);case 297:return function(e){me(e.type),xt("=")}(r);case 176:case 299:return function(e){xt("..."),me(e.type)}(r);case 188:return function(e){xt("{"),gt(e,e.elements,525136),xt("}")}(r);case 189:return function(e){xt("["),gt(e,e.elements,524880),xt("]")}(r);case 190:return function(e){me(e.dotDotDotToken),e.propertyName&&(me(e.propertyName),xt(":"),kt());me(e.name),st(e.initializer,e.name.end,e)}(r);case 220:return function(e){ye(e.expression),me(e.literal)}(r);case 221:return void Dt();case 222:return function(e){Fe(e,!e.multiLine&&Vt(e))}(r);case 224:return function(e){at(e,e.modifiers),me(e.declarationList),Dt()}(r);case 223:return Pe(!1);case 225:return function(t){ye(t.expression),(!e.isJsonSourceFile(n)||e.nodeIsSynthesized(t.expression))&&Dt()}(r);case 226:return function(e){var t=Oe(94,e.pos,St,e);kt(),Oe(20,t,xt,e),ye(e.expression),Oe(21,e.expression.end,xt,e),lt(e,e.thenStatement),e.elseStatement&&(Mt(e),Oe(86,e.thenStatement.end,St,e),226===e.elseStatement.kind?(kt(),me(e.elseStatement)):lt(e,e.elseStatement))}(r);case 227:return function(t){Oe(85,t.pos,St,t),lt(t,t.statement),e.isBlock(t.statement)?kt():Mt(t);we(t,t.statement.end),Dt()}(r);case 228:return function(e){we(e,e.pos),lt(e,e.statement)}(r);case 229:return function(e){var t=Oe(92,e.pos,St,e);kt();var r=Oe(20,t,xt,e);Ie(e.initializer),r=Oe(26,e.initializer?e.initializer.end:r,xt,e),ut(e.condition),r=Oe(26,e.condition?e.condition.end:r,xt,e),ut(e.incrementor),Oe(21,e.incrementor?e.incrementor.end:r,xt,e),lt(e,e.statement)}(r);case 230:return function(e){var t=Oe(92,e.pos,St,e);kt(),Oe(20,t,xt,e),Ie(e.initializer),kt(),Oe(96,e.initializer.end,St,e),kt(),ye(e.expression),Oe(21,e.expression.end,xt,e),lt(e,e.statement)}(r);case 231:return function(e){var t=Oe(92,e.pos,St,e);kt(),function(e){e&&(me(e),kt())}(e.awaitModifier),Oe(20,t,xt,e),Ie(e.initializer),kt(),Oe(151,e.initializer.end,St,e),kt(),ye(e.expression),Oe(21,e.expression.end,xt,e),lt(e,e.statement)}(r);case 232:return function(e){Oe(81,e.pos,St,e),ct(e.label),Dt()}(r);case 233:return function(e){Oe(76,e.pos,St,e),ct(e.label),Dt()}(r);case 234:return function(e){Oe(100,e.pos,St,e),ut(e.expression),Dt()}(r);case 235:return function(e){var t=Oe(111,e.pos,St,e);kt(),Oe(20,t,xt,e),ye(e.expression),Oe(21,e.expression.end,xt,e),lt(e,e.statement)}(r);case 236:return function(e){var t=Oe(102,e.pos,St,e);kt(),Oe(20,t,xt,e),ye(e.expression),Oe(21,e.expression.end,xt,e),kt(),me(e.caseBlock)}(r);case 237:return function(e){me(e.label),Oe(58,e.label.end,xt,e),kt(),me(e.statement)}(r);case 238:return function(e){Oe(104,e.pos,St,e),ut(e.expression),Dt()}(r);case 239:return function(e){Oe(106,e.pos,St,e),kt(),me(e.tryBlock),e.catchClause&&(Mt(e),me(e.catchClause));e.finallyBlock&&(Mt(e),Oe(91,(e.catchClause||e.tryBlock).end,St,e),kt(),me(e.finallyBlock))}(r);case 240:return function(e){wt(82,e.pos,St),Dt()}(r);case 241:return function(e){me(e.name),ot(e.type),st(e.initializer,e.type?e.type.end:e.name.end,e)}(r);case 242:return function(t){St(e.isLet(t)?"let":e.isVarConst(t)?"const":"var"),kt(),gt(t,t.declarations,528)}(r);case 243:return function(e){Me(e)}(r);case 244:return function(e){ze(e)}(r);case 245:return function(e){_t(e,e.decorators),at(e,e.modifiers),St("interface"),kt(),me(e.name),pt(e,e.typeParameters),gt(e,e.heritageClauses,512),kt(),xt("{"),gt(e,e.members,129),xt("}")}(r);case 246:return function(e){_t(e,e.decorators),at(e,e.modifiers),St("type"),kt(),me(e.name),pt(e,e.typeParameters),kt(),xt("="),kt(),me(e.type),Dt()}(r);case 247:return function(e){at(e,e.modifiers),St("enum"),kt(),me(e.name),kt(),xt("{"),gt(e,e.members,145),xt("}")}(r);case 248:return function(e){at(e,e.modifiers),1024&~e.flags&&(St(16&e.flags?"namespace":"module"),kt());me(e.name);var t=e.body;if(!t)return Dt();for(;248===t.kind;)xt("."),me(t.name),t=t.body;kt(),me(t)}(r);case 249:return function(t){Ht(t),e.forEach(t.statements,Qt),Fe(t,Vt(t)),Yt(t)}(r);case 250:return function(e){Oe(18,e.pos,xt,e),gt(e,e.clauses,129),Oe(19,e.clauses.end,xt,e,!0)}(r);case 251:return function(e){var t=Oe(88,e.pos,St,e);kt(),t=Oe(122,t,St,e),kt(),t=Oe(135,t,St,e),kt(),me(e.name),Dt()}(r);case 252:return function(e){at(e,e.modifiers),Oe(95,e.modifiers?e.modifiers.end:e.pos,St,e),kt(),me(e.name),kt(),Oe(62,e.name.end,xt,e),kt(),function(e){75===e.kind?ye(e):me(e)}(e.moduleReference),Dt()}(r);case 253:return function(e){at(e,e.modifiers),Oe(95,e.modifiers?e.modifiers.end:e.pos,St,e),kt(),e.importClause&&(me(e.importClause),kt(),Oe(148,e.importClause.end,St,e),kt());ye(e.moduleSpecifier),Dt()}(r);case 254:return function(e){me(e.name),e.name&&e.namedBindings&&(Oe(27,e.name.end,xt,e),kt());me(e.namedBindings)}(r);case 255:return function(e){var t=Oe(41,e.pos,xt,e);kt(),Oe(122,t,St,e),kt(),me(e.name)}(r);case 256:return function(e){Ue(e)}(r);case 257:return function(e){Ve(e)}(r);case 258:return function(e){var t=Oe(88,e.pos,St,e);kt(),e.isExportEquals?Oe(62,t,Tt,e):Oe(83,t,St,e);kt(),ye(e.expression),Dt()}(r);case 259:return function(e){var t=Oe(88,e.pos,St,e);kt(),e.exportClause?me(e.exportClause):t=Oe(41,t,xt,e);if(e.moduleSpecifier){kt(),Oe(148,e.exportClause?e.exportClause.end:t,St,e),kt(),ye(e.moduleSpecifier)}Dt()}(r);case 260:return function(e){Ue(e)}(r);case 261:return function(e){Ve(e)}(r);case 262:return;case 263:return function(e){St("require"),xt("("),ye(e.expression),xt(")")}(r);case 11:return function(e){p.writeLiteral(e.text)}(r);case 266:case 269:return function(t){xt("<"),e.isJsxOpeningElement(t)&&(qe(t.tagName),dt(t,t.typeArguments),t.attributes.properties&&t.attributes.properties.length>0&&kt(),me(t.attributes));xt(">")}(r);case 267:case 270:return function(t){xt("</"),e.isJsxClosingElement(t)&&qe(t.tagName);xt(">")}(r);case 271:return function(e){me(e.name),function(e,t,r,n){r&&(t(e),n(r))}("=",xt,e.initializer,me)}(r);case 272:return function(e){gt(e,e.properties,262656)}(r);case 273:return function(e){xt("{..."),ye(e.expression),xt("}")}(r);case 274:return function(e){e.expression&&(xt("{"),me(e.dotDotDotToken),ye(e.expression),xt("}"))}(r);case 275:return function(e){Oe(77,e.pos,St,e),kt(),ye(e.expression),We(e,e.statements,e.expression.end)}(r);case 276:return function(e){var t=Oe(83,e.pos,St,e);We(e,e.statements,t)}(r);case 277:return function(e){kt(),Ot(e.token,St),kt(),gt(e,e.types,528)}(r);case 278:return function(e){var t=Oe(78,e.pos,St,e);kt(),e.variableDeclaration&&(Oe(20,t,xt,e),me(e.variableDeclaration),Oe(21,e.variableDeclaration.end,xt,e),kt());me(e.block)}(r);case 279:return function(t){me(t.name),xt(":"),kt();var r=t.initializer;if(hr&&0==(512&e.getEmitFlags(r))){hr(e.getCommentRange(r).pos)}ye(r)}(r);case 280:return function(e){me(e.name),e.objectAssignmentInitializer&&(kt(),xt("="),kt(),ye(e.objectAssignmentInitializer))}(r);case 281:return function(e){e.expression&&(Oe(25,e.pos,xt,e),ye(e.expression))}(r);case 282:return function(e){me(e.name),st(e.initializer,e.name.end,e)}(r);case 310:case 316:return function(e){Ye(e.tagName),Qe(e.typeExpression),kt(),e.isBracketed&&xt("[");me(e.name),e.isBracketed&&xt("]");Xe(e.comment)}(r);case 311:case 313:case 312:case 309:return Ye((i=r).tagName),Qe(i.typeExpression),void Xe(i.comment);case 305:return function(e){Ye(e.tagName),kt(),xt("{"),me(e.class),xt("}"),Xe(e.comment)}(r);case 314:return function(e){Ye(e.tagName),Qe(e.constraint),kt(),gt(e,e.typeParameters,528),Xe(e.comment)}(r);case 315:return function(e){Ye(e.tagName),e.typeExpression&&(292===e.typeExpression.kind?Qe(e.typeExpression):(kt(),xt("{"),M("Object"),e.typeExpression.isArrayType&&(xt("["),xt("]")),xt("}")));e.fullName&&(kt(),me(e.fullName));Xe(e.comment),e.typeExpression&&302===e.typeExpression.kind&&Ge(e.typeExpression)}(r);case 308:return function(e){Ye(e.tagName),e.name&&(kt(),me(e.name));Xe(e.comment),He(e.typeExpression)}(r);case 303:return He(r);case 302:return Ge(r);case 307:case 304:return function(e){Ye(e.tagName),Xe(e.comment)}(r);case 301:return function(e){if(M("/**"),e.comment)for(var t=e.comment.split(/\r\n?|\n/g),r=0,n=t;r<n.length;r++){var i=n[r];At(),kt(),xt("*"),kt(),M(i)}e.tags&&(1!==e.tags.length||313!==e.tags[0].kind||e.comment?gt(e,e.tags,33):(kt(),me(e.tags[0])));kt(),M("*/")}(r)}if(e.isExpression(r))t=1,C!==e.noEmitSubstitution&&(x=r=C(t,r));else if(e.isToken(r))return It(r,xt)}var i,a,o,s;if(1===t)switch(r.kind){case 8:case 9:return function(e){Ce(e)}(r);case 10:case 13:case 14:return Ce(r);case 75:return Ne(r);case 90:case 99:case 101:case 105:case 103:case 95:return void It(r,St);case 191:return function(e){var t=e.elements,r=e.multiLine?65536:0;yt(e,t,8914|r)}(r);case 192:return function(t){e.forEach(t.properties,$t);var r=65536&e.getEmitFlags(t);r&&Ft();var i=t.multiLine?65536:0,a=n.languageVersion>=1&&!e.isJsonSourceFile(n)?64:0;gt(t,t.properties,526226|a|i),r&&Pt()}(r);case 193:return function(t){var r=e.cast(ye(t.expression),e.isExpression),n=e.getDotOrQuestionDotToken(t),i=Ut(t,t.expression,n),a=Ut(t,n,t.name);Rt(i,!1),28===n.kind||!function(t){if(t=e.skipPartiallyEmittedExpressions(t),e.isNumericLiteral(t)){var r=Gt(t,!0);return!t.numericLiteralFlags&&!e.stringContains(r,e.tokenToString(24))}if(e.isAccessExpression(t)){var n=e.getConstantValue(t);return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}}(r)||p.hasTrailingComment()||p.hasTrailingWhitespace()||xt(".");Oe(n.kind,t.expression.end,xt,t),Rt(a,!1),me(t.name),Bt(i,a)}(r);case 194:return function(e){ye(e.expression),me(e.questionDotToken),Oe(22,e.expression.end,xt,e),ye(e.argumentExpression),Oe(23,e.argumentExpression.end,xt,e)}(r);case 195:return function(e){ye(e.expression),me(e.questionDotToken),dt(e,e.typeArguments),yt(e,e.arguments,2576)}(r);case 196:return function(e){Oe(98,e.pos,St,e),kt(),ye(e.expression),dt(e,e.typeArguments),yt(e,e.arguments,18960)}(r);case 197:return function(e){ye(e.tag),dt(e,e.typeArguments),kt(),ye(e.template)}(r);case 198:return function(e){xt("<"),me(e.type),xt(">"),ye(e.expression)}(r);case 199:return function(e){var t=Oe(20,e.pos,xt,e);ye(e.expression),Oe(21,e.expression?e.expression.end:t,xt,e)}(r);case 200:return function(e){Zt(e.name),Me(e)}(r);case 201:return function(e){_t(e,e.decorators),at(e,e.modifiers),Re(e,Ae)}(r);case 202:return function(e){Oe(84,e.pos,St,e),kt(),ye(e.expression)}(r);case 203:return function(e){Oe(107,e.pos,St,e),kt(),ye(e.expression)}(r);case 204:return function(e){Oe(109,e.pos,St,e),kt(),ye(e.expression)}(r);case 205:return function(e){Oe(126,e.pos,St,e),kt(),ye(e.expression)}(r);case 206:return function(e){Ot(e.operator,Tt),function(e){var t=e.operand;return 206===t.kind&&(39===e.operator&&(39===t.operator||45===t.operator)||40===e.operator&&(40===t.operator||46===t.operator))}(e)&&kt();ye(e.operand)}(r);case 207:return function(e){ye(e.operand),Ot(e.operator,Tt)}(r);case 208:return function(e){var t=27!==e.operatorToken.kind,r=Ut(e,e.left,e.operatorToken),n=Ut(e,e.operatorToken,e.right);ye(e.left),Rt(r,t),gr(e.operatorToken.pos),It(e.operatorToken,96===e.operatorToken.kind?St:Tt),hr(e.operatorToken.end,!0),Rt(n,!0),ye(e.right),Bt(r,n)}(r);case 209:return function(e){var t=Ut(e,e.condition,e.questionToken),r=Ut(e,e.questionToken,e.whenTrue),n=Ut(e,e.whenTrue,e.colonToken),i=Ut(e,e.colonToken,e.whenFalse);ye(e.condition),Rt(t,!0),me(e.questionToken),Rt(r,!0),ye(e.whenTrue),Bt(t,r),Rt(n,!0),me(e.colonToken),Rt(i,!0),ye(e.whenFalse),Bt(n,i)}(r);case 210:return function(e){me(e.head),gt(e,e.templateSpans,262144)}(r);case 211:return function(e){Oe(120,e.pos,St,e),me(e.asteriskToken),ut(e.expression)}(r);case 212:return function(e){Oe(25,e.pos,xt,e),ye(e.expression)}(r);case 213:return function(e){Zt(e.name),ze(e)}(r);case 214:return;case 216:return function(e){ye(e.expression),e.type&&(kt(),St("as"),kt(),me(e.type))}(r);case 217:return function(e){ye(e.expression),Tt("!")}(r);case 218:return function(e){wt(e.keywordToken,e.pos,xt),xt("."),me(e.name)}(r);case 264:return function(e){me(e.openingElement),gt(e,e.children,262144),me(e.closingElement)}(r);case 265:return function(e){xt("<"),qe(e.tagName),dt(e,e.typeArguments),kt(),me(e.attributes),xt("/>")}(r);case 268:return function(e){me(e.openingFragment),gt(e,e.children,262144),me(e.closingFragment)}(r);case 319:return function(e){ye(e.expression)}(r);case 320:return function(e){yt(e,e.elements,528)}(r)}}function Se(t,r){e.Debug.assert(b===r||x===r),be(1,r)(t,x=C(t,r)),e.Debug.assert(b===r||x===r)}function Te(r){var i=!1,a=289===r.kind?r:void 0;if(!a||I!==e.ModuleKind.None){for(var o=a?a.prepends.length:0,s=a?a.sourceFiles.length+o:1,c=0;c<s;c++){var u=a?c<o?a.prepends[c]:a.sourceFiles[c-o]:r,l=e.isSourceFile(u)?u:e.isUnparsedSource(u)?void 0:n,_=t.noEmitHelpers||!!l&&e.hasRecordedExternalHelpers(l),d=(e.isSourceFile(u)||e.isUnparsedSource(u))&&!m,f=e.isUnparsedSource(u)?u.helpers:Ee(u);if(f)for(var g=0,y=f;g<y.length;g++){var h=y[g];if(h.scoped){if(a)continue}else{if(_)continue;if(d){if(O.get(h.name))continue;O.set(h.name,!0)}}var v=te();"string"==typeof h.text?Lt(h.text):Lt(h.text(or)),L&&L.sections.push({pos:v,end:p.getTextPos(),kind:"emitHelpers",data:h.name}),i=!0}}return i}}function Ee(t){var r=e.getEmitHelpers(t);return r&&e.stableSort(r,e.compareEmitHelpers)}function Ce(r){var n=Gt(r,t.neverAsciiEscape);!t.sourceMap&&!t.inlineSourceMap||10!==r.kind&&!e.isTemplateLiteralKind(r.kind)?function(e){p.writeStringLiteral(e)}(n):function(e){p.writeLiteral(e)}(n)}function ke(e){p.rawWrite(e.parent.text.substring(e.pos,e.end))}function Ne(e){(e.symbol?bt:M)(Wt(e,!1),e.symbol),gt(e,e.typeArguments,53776)}function Ae(e){pt(e,e.typeParameters),mt(e,e.parameters),ot(e.type),kt(),me(e.equalsGreaterThanToken)}function Fe(t,r){Oe(18,t.pos,xt,t);var n=r||1&e.getEmitFlags(t)?768:129;gt(t,t.statements,n),Oe(19,t.statements.end,xt,t,!!(1&n))}function Pe(e){e?xt(";"):Dt()}function we(e,t){var r=Oe(110,t,St,e);kt(),Oe(20,r,xt,e),ye(e.expression),Oe(21,e.expression.end,xt,e)}function Ie(e){void 0!==e&&(242===e.kind?me(e):ye(e))}function Oe(t,r,i,a,o){var s=e.getParseTreeNode(a),c=s&&s.kind===a.kind,u=r;if(c&&(r=e.skipTrivia(n.text,r)),gr&&c&&a.pos!==u){var l=o&&!e.positionsAreOnSameLine(u,r,n);l&&Ft(),gr(u),l&&Pt()}return r=Ot(t,i,r),hr&&c&&a.end!==r&&hr(r,!0),r}function Me(e){_t(e,e.decorators),at(e,e.modifiers),St("function"),me(e.asteriskToken),kt(),ge(e.name),Re(e,Be)}function Le(e,t){je(t)}function Re(t,r){var n=t.body;if(n)if(e.isBlock(n)){var i=65536&e.getEmitFlags(t);i&&Ft(),Ht(t),e.forEach(t.parameters,Qt),Qt(t.body),r(t),T?T(4,n,Le):je(n),Yt(t),i&&Pt()}else r(t),kt(),ye(n);else r(t),Dt()}function Be(e){pt(e,e.typeParameters),ft(e,e.parameters),ot(e.type)}function je(t){kt(),xt("{"),Ft();var r=function(t){if(1&e.getEmitFlags(t))return!0;if(t.multiLine)return!1;if(!e.nodeIsSynthesized(t)&&!e.rangeIsOnSingleLine(t,n))return!1;if(jt(t,t.statements,2)||Jt(t,t.statements,2))return!1;for(var r,i=0,a=t.statements;i<a.length;i++){var o=a[i];if(Kt(r,o,2))return!1;r=o}return!0}(t)?Ke:Je;_r?_r(t,t.statements,r):r(t),Pt(),wt(19,t.statements.end,xt,t)}function Ke(e){Je(e,!0)}function Je(e,t){var r=et(e.statements),n=p.getTextPos();Te(e),0===r&&n===p.getTextPos()&&t?(Pt(),gt(e,e.statements,768),Ft()):gt(e,e.statements,1,r)}function ze(t){e.forEach(t.members,$t),_t(t,t.decorators),at(t,t.modifiers),St("class"),t.name&&(kt(),ge(t.name));var r=65536&e.getEmitFlags(t);r&&Ft(),pt(t,t.typeParameters),gt(t,t.heritageClauses,0),kt(),xt("{"),gt(t,t.members,129),xt("}"),r&&Pt()}function Ue(e){xt("{"),gt(e,e.elements,525136),xt("}")}function Ve(e){e.propertyName&&(me(e.propertyName),kt(),Oe(122,e.propertyName.end,St,e),kt()),me(e.name)}function qe(e){75===e.kind?ye(e):me(e)}function We(t,r,i){var a=163969;1===r.length&&(e.nodeIsSynthesized(t)||e.nodeIsSynthesized(r[0])||e.rangeStartPositionsAreOnSameLine(t,r[0],n))?(wt(58,i,xt,t),kt(),a&=-130):Oe(58,i,xt,t),gt(t,r,a)}function Ge(t){gt(t,e.createNodeArray(t.jsDocPropertyTags),33)}function He(t){t.typeParameters&&gt(t,e.createNodeArray(t.typeParameters),33),t.parameters&&gt(t,e.createNodeArray(t.parameters),33),t.type&&(At(),kt(),xt("*"),kt(),me(t.type))}function Ye(e){xt("@"),me(e)}function Xe(e){e&&(kt(),M(e))}function Qe(e){e&&(kt(),xt("{"),me(e.type),xt("}"))}function $e(e,t,r,i){if(e){var a=p.getTextPos();Ct('/// <reference no-default-lib="true"/>'),L&&L.sections.push({pos:a,end:p.getTextPos(),kind:"no-default-lib"}),At()}if(n&&n.moduleName&&(Ct('/// <amd-module name="'+n.moduleName+'" />'),At()),n&&n.amdDependencies)for(var o=0,s=n.amdDependencies;o<s.length;o++){var c=s[o];c.name?Ct('/// <amd-dependency name="'+c.name+'" path="'+c.path+'" />'):Ct('/// <amd-dependency path="'+c.path+'" />'),At()}for(var u=0,l=t;u<l.length;u++){var _=l[u];a=p.getTextPos();Ct('/// <reference path="'+_.fileName+'" />'),L&&L.sections.push({pos:a,end:p.getTextPos(),kind:"reference",data:_.fileName}),At()}for(var d=0,f=r;d<f.length;d++){_=f[d],a=p.getTextPos();Ct('/// <reference types="'+_.fileName+'" />'),L&&L.sections.push({pos:a,end:p.getTextPos(),kind:"type",data:_.fileName}),At()}for(var m=0,g=i;m<g.length;m++){_=g[m],a=p.getTextPos();Ct('/// <reference lib="'+_.fileName+'" />'),L&&L.sections.push({pos:a,end:p.getTextPos(),kind:"lib",data:_.fileName}),At()}}function Ze(t){var r=t.statements;Ht(t),e.forEach(t.statements,Qt),Te(t);var n=e.findIndex(r,(function(t){return!e.isPrologueDirective(t)}));!function(e){e.isDeclarationFile&&$e(e.hasNoDefaultLib,e.referencedFiles,e.typeReferenceDirectives,e.libReferenceDirectives)}(t),gt(t,r,1,-1===n?r.length:n),Yt(t)}function et(t,r,n,i){for(var a=!!r,o=0;o<t.length;o++){var s=t[o];if(!e.isPrologueDirective(s))return o;if(!n||!n.has(s.expression.text)){a&&(a=!1,_e(r)),At();var c=p.getTextPos();me(s),i&&L&&L.sections.push({pos:c,end:p.getTextPos(),kind:"prologue",data:s.expression.text}),n&&n.set(s.expression.text,!0)}}return t.length}function tt(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];if(!t.has(i.data)){At();var a=p.getTextPos();me(i),L&&L.sections.push({pos:a,end:p.getTextPos(),kind:"prologue",data:i.data}),t&&t.set(i.data,!0)}}}function rt(t){if(e.isSourceFile(t))et(t.statements,t);else{for(var r=e.createMap(),n=0,i=t.prepends;n<i.length;n++){tt(i[n].prologues,r)}for(var a=0,o=t.sourceFiles;a<o.length;a++){var s=o[a];et(s.statements,s,r,!0)}_e(void 0)}}function nt(t){if(e.isSourceFile(t)||e.isUnparsedSource(t)){var r=e.getShebang(t.text);if(r)return Ct(r),At(),!0}else{for(var n=0,i=t.prepends;n<i.length;n++){var a=i[n];if(e.Debug.assertNode(a,e.isUnparsedSource),nt(a))return!0}for(var o=0,s=t.sourceFiles;o<s.length;o++){if(nt(s[o]))return!0}}}function it(e,t){if(e){var r=M;M=t,me(e),M=r}}function at(e,t){t&&t.length&&(gt(e,t,262656),kt())}function ot(e){e&&(xt(":"),kt(),me(e))}function st(e,t,r){e&&(kt(),Oe(62,t,Tt,r),kt(),ye(e))}function ct(e){e&&(kt(),me(e))}function ut(e){e&&(kt(),ye(e))}function lt(t,r){e.isBlock(r)||1&e.getEmitFlags(t)?(kt(),me(r)):(At(),Ft(),e.isEmptyStatement(r)?he(5,r):me(r),Pt())}function _t(e,t){gt(e,t,49153)}function dt(e,t){gt(e,t,53776)}function pt(t,r){if(e.isFunctionLike(t)&&t.typeArguments)return dt(t,t.typeArguments);gt(t,r,53776)}function ft(e,t){gt(e,t,2576)}function mt(t,r){!function(t,r){var n=e.singleOrUndefined(r);return n&&n.pos===t.pos&&e.isArrowFunction(t)&&!t.type&&!e.some(t.decorators)&&!e.some(t.modifiers)&&!e.some(t.typeParameters)&&!e.some(n.decorators)&&!e.some(n.modifiers)&&!n.dotDotDotToken&&!n.questionToken&&!n.type&&!n.initializer&&e.isIdentifier(n.name)}(t,r)?ft(t,r):gt(t,r,528)}function gt(e,t,r,n,i){vt(me,e,t,r,n,i)}function yt(e,t,r,n,i){vt(ye,e,t,r,n,i)}function ht(e){switch(60&e){case 0:break;case 16:xt(",");break;case 4:kt(),xt("|");break;case 32:kt(),xt("*"),kt();break;case 8:kt(),xt("&")}}function vt(t,r,n,a,o,s){void 0===o&&(o=0),void 0===s&&(s=n?n.length-o:0);var c=void 0===n;if(!(c&&16384&a)){var u=void 0===n||o>=n.length||0===s;if(u&&32768&a)return k&&k(n),void(N&&N(n));if(15360&a&&(xt(function(e){return i[15360&e][0]}(a)),u&&!c&&hr(n.pos,!0)),k&&k(n),u)1&a?At():256&a&&!(524288&a)&&kt();else{var l=0==(262144&a),_=l;jt(r,n,a)?(At(),_=!1):256&a&&kt(),128&a&&Ft();for(var d=void 0,p=void 0,f=!1,m=0;m<s;m++){var g=n[o+m];if(32&a?(At(),ht(a)):d&&(60&a&&d.end!==r.end&&gr(d.end),ht(a),ie(p),Kt(d,g,a)?(0==(131&a)&&(Ft(),f=!0),At(),_=!1):d&&512&a&&kt()),p=ne(g),_){if(hr)hr(e.getCommentRange(g).pos)}else _=l;t(g),f&&(Pt(),f=!1),d=g}var y=64&a&&n.hasTrailingComma;16&a&&y&&xt(","),d&&60&a&&d.end!==r.end&&!(1024&e.getEmitFlags(d))&&gr(d.end),128&a&&Pt(),ie(p),Jt(r,n,a)?At():256&a&&kt()}N&&N(n),15360&a&&(u&&!c&&gr(n.end),xt(function(e){return i[15360&e][1]}(a)))}}function bt(e,t){p.writeSymbol(e,t)}function xt(e){p.writePunctuation(e)}function Dt(){p.writeTrailingSemicolon(";")}function St(e){p.writeKeyword(e)}function Tt(e){p.writeOperator(e)}function Et(e){p.writeParameter(e)}function Ct(e){p.writeComment(e)}function kt(){p.writeSpace(" ")}function Nt(e){p.writeProperty(e)}function At(){p.writeLine()}function Ft(){p.increaseIndent()}function Pt(){p.decreaseIndent()}function wt(t,r,n,i){return J?Ot(t,n,r):function(t,r,n,i,a){if(J||t&&e.isInJsonFile(t))return a(r,n,i);var o=t&&t.emitNode,s=o&&o.flags||0,c=o&&o.tokenSourceMapRanges&&o.tokenSourceMapRanges[r],u=c&&c.source||y;i=Tr(u,c?c.pos:i),0==(128&s)&&i>=0&&Cr(u,i);i=a(r,n,i),c&&(i=c.end);0==(256&s)&&i>=0&&Cr(u,i);return i}(i,t,n,r,Ot)}function It(t,r){A&&A(t),r(e.tokenToString(t.kind)),F&&F(t)}function Ot(t,r,n){var i=e.tokenToString(t);return r(i),n<0?n:n+i.length}function Mt(t){1&e.getEmitFlags(t)?kt():At()}function Lt(t){for(var r=t.split(/\r\n?|\n/g),n=e.guessIndentation(r),i=0,a=r;i<a.length;i++){var o=a[i],s=n?o.slice(n):o;s.length&&(At(),M(s))}}function Rt(e,t){e?(Ft(),At()):t&&kt()}function Bt(e,t){e&&Pt(),t&&Pt()}function jt(t,r,i){if(1&i)return!0;if(2&i){if(65536&i)return!0;var a=r[0];return void 0===a?!e.rangeIsOnSingleLine(t,n):e.positionIsSynthesized(t.pos)||e.nodeIsSynthesized(a)?zt(a,i):!e.rangeStartPositionsAreOnSameLine(t,a,n)}return!1}function Kt(t,r,i){return!!(1&i)||(2&i?void 0!==t&&void 0!==r&&(e.nodeIsSynthesized(t)||e.nodeIsSynthesized(r)?zt(t,i)||zt(r,i):!e.rangeEndIsOnSameLineAsRangeStart(t,r,n)):e.getStartsOnNewLine(r))}function Jt(t,r,i){if(1&i)return 0==(131072&i);if(2&i){if(65536&i)return!0;var a=e.lastOrUndefined(r);return void 0===a?!e.rangeIsOnSingleLine(t,n):e.positionIsSynthesized(t.pos)||e.nodeIsSynthesized(a)?zt(a,i):!e.rangeEndPositionsAreOnSameLine(t,a,n)}return!1}function zt(t,r){if(e.nodeIsSynthesized(t)){var n=e.getStartsOnNewLine(t);return void 0===n?0!=(65536&r):n}return 0!=(65536&r)}function Ut(t,r,i){return!(131072&e.getEmitFlags(t))&&(t=qt(t),r=qt(r),i=qt(i),!!e.getStartsOnNewLine(i)||!(e.nodeIsSynthesized(t)||e.nodeIsSynthesized(r)||e.nodeIsSynthesized(i)||e.rangeEndIsOnSameLineAsRangeStart(r,i,n)))}function Vt(t){return 0===t.statements.length&&e.rangeEndIsOnSameLineAsRangeStart(t,t,n)}function qt(t){for(;199===t.kind&&e.nodeIsSynthesized(t);)t=t.expression;return t}function Wt(t,r){return e.isGeneratedIdentifier(t)?er(t):e.isIdentifier(t)&&(e.nodeIsSynthesized(t)||!t.parent||!n||t.parent&&n&&e.getSourceFileOfNode(t)!==e.getOriginalNode(n))?e.idText(t):10===t.kind&&t.textSourceNode?Wt(t.textSourceNode,r):!e.isLiteralExpression(t)||!e.nodeIsSynthesized(t)&&t.parent?e.getSourceTextOfNodeFromSourceFile(n,t,r):t.text}function Gt(t,r){if(10===t.kind&&t.textSourceNode){var i=t.textSourceNode;return e.isIdentifier(i)?r||16777216&e.getEmitFlags(t)?'"'+e.escapeString(Wt(i))+'"':'"'+e.escapeNonAsciiString(Wt(i))+'"':Gt(i,r)}return e.getLiteralText(t,n,r)}function Ht(t){t&&524288&e.getEmitFlags(t)||(u.push(l),l=0,_.push(d))}function Yt(t){t&&524288&e.getEmitFlags(t)||(l=u.pop(),d=_.pop())}function Xt(t){d&&d!==e.lastOrUndefined(_)||(d=e.createMap()),d.set(t,!0)}function Qt(t){if(t)switch(t.kind){case 222:e.forEach(t.statements,Qt);break;case 237:case 235:case 227:case 228:Qt(t.statement);break;case 226:Qt(t.thenStatement),Qt(t.elseStatement);break;case 229:case 231:case 230:Qt(t.initializer),Qt(t.statement);break;case 236:Qt(t.caseBlock);break;case 250:e.forEach(t.clauses,Qt);break;case 275:case 276:e.forEach(t.statements,Qt);break;case 239:Qt(t.tryBlock),Qt(t.catchClause),Qt(t.finallyBlock);break;case 278:Qt(t.variableDeclaration),Qt(t.block);break;case 224:Qt(t.declarationList);break;case 242:e.forEach(t.declarations,Qt);break;case 241:case 155:case 190:case 244:Zt(t.name);break;case 243:Zt(t.name),524288&e.getEmitFlags(t)&&(e.forEach(t.parameters,Qt),Qt(t.body));break;case 188:case 189:e.forEach(t.elements,Qt);break;case 253:Qt(t.importClause);break;case 254:Zt(t.name),Qt(t.namedBindings);break;case 255:Zt(t.name);break;case 256:e.forEach(t.elements,Qt);break;case 257:Zt(t.propertyName||t.name)}}function $t(e){if(e)switch(e.kind){case 279:case 280:case 158:case 160:case 162:case 163:Zt(e.name)}}function Zt(t){t&&(e.isGeneratedIdentifier(t)?er(t):e.isBindingPattern(t)&&Qt(t))}function er(t){if(4==(7&t.autoGenerateFlags))return tr(function(t){var r=t.autoGenerateId,n=t,i=n.original;for(;i&&(n=i,!(e.isIdentifier(n)&&4&n.autoGenerateFlags&&n.autoGenerateId!==r));)i=n.original;return n}(t),t.autoGenerateFlags);var r=t.autoGenerateId;return s[r]||(s[r]=function(t){switch(7&t.autoGenerateFlags){case 1:return ir(0,!!(8&t.autoGenerateFlags));case 2:return ir(268435456,!!(8&t.autoGenerateFlags));case 3:return ar(e.idText(t),32&t.autoGenerateFlags?nr:rr,!!(16&t.autoGenerateFlags),!!(8&t.autoGenerateFlags))}return e.Debug.fail("Unsupported GeneratedIdentifierKind.")}(t))}function tr(t,r){var n=e.getNodeId(t);return o[n]||(o[n]=function(t,r){switch(t.kind){case 75:return ar(Wt(t),rr,!!(16&r),!!(8&r));case 248:case 247:return function(t){var r=Wt(t.name);return function(t,r){for(var n=r;e.isNodeDescendantOf(n,r);n=n.nextContainer)if(n.locals){var i=n.locals.get(e.escapeLeadingUnderscores(t));if(i&&3257279&i.flags)return!1}return!0}(r,t)?r:ar(r)}(t);case 253:case 259:return function(t){var r=e.getExternalModuleName(t);return ar(e.isStringLiteral(r)?e.makeIdentifierFromModuleName(r.text):"module")}(t);case 243:case 244:case 258:return ar("default");case 213:return ar("class");case 160:case 162:case 163:return function(t){if(e.isIdentifier(t.name))return tr(t.name);return ir(0)}(t);case 153:return ir(0,!0);default:return ir(0)}}(t,r))}function rr(e){return nr(e)&&!c.has(e)&&!(d&&d.has(e))}function nr(t){return!n||e.isFileLevelUniqueName(n,t,D)}function ir(e,t){if(e&&!(l&e)&&rr(r=268435456===e?"_i":"_n"))return l|=e,t&&Xt(r),r;for(;;){var r,n=268435455&l;if(l++,8!==n&&13!==n)if(rr(r=n<26?"_"+String.fromCharCode(97+n):"_"+(n-26)))return t&&Xt(r),r}}function ar(e,t,r,n){if(void 0===t&&(t=rr),r&&t(e))return n?Xt(e):c.set(e,!0),e;95!==e.charCodeAt(e.length-1)&&(e+="_");for(var i=1;;){var a=e+i;if(t(a))return n?Xt(a):c.set(a,!0),a;i++}}function or(e){return ar(e,nr,!0)}function sr(t,r){e.Debug.assert(b===r||x===r),Y(),W=!1;var n=e.getEmitFlags(r),i=e.getCommentRange(r),a=i.pos,o=i.end,s=318!==r.kind,c=a<0||0!=(512&n)||11===r.kind,u=o<0||0!=(1024&n)||11===r.kind,l=U,_=V,d=q;(a>0||o>0)&&a!==o&&(c||dr(a,s),(!c||a>=0&&0!=(512&n))&&(U=a),(!u||o>=0&&0!=(1024&n))&&(V=o,242===r.kind&&(q=o))),e.forEach(e.getSyntheticLeadingComments(r),cr),X();var p=be(2,r);2048&n?(G=!0,p(t,r),G=!1):p(t,r),Y(),e.forEach(e.getSyntheticTrailingComments(r),ur),(a>0||o>0)&&a!==o&&(U=l,V=_,q=d,!u&&s&&function(e){xr(e,yr)}(o)),X(),e.Debug.assert(b===r||x===r)}function cr(e){2===e.kind&&p.writeLine(),lr(e),e.hasTrailingNewLine||2===e.kind?p.writeLine():p.writeSpace(" ")}function ur(e){p.isAtStartOfLine()||p.writeSpace(" "),lr(e),e.hasTrailingNewLine&&p.writeLine()}function lr(t){var r=function(e){return 3===e.kind?"/*"+e.text+"*/":"//"+e.text}(t),n=3===t.kind?e.computeLineStarts(r):void 0;e.writeCommentRange(r,n,p,0,r.length,w)}function _r(t,r,i){Y();var a=r.pos,o=r.end,s=e.getEmitFlags(t),c=G||o<0||0!=(1024&s);a<0||0!=(512&s)||function(t){var r=e.emitDetachedComments(n.text,fe(),p,Dr,t,w,G);r&&(v?v.push(r):v=[r])}(r),X(),2048&s&&!G?(G=!0,i(t),G=!1):i(t),Y(),c||(dr(r.end,!0),W&&!p.isAtStartOfLine()&&p.writeLine()),X()}function dr(e,t){W=!1,t?br(e,mr):0===e&&br(e,pr)}function pr(t,r,i,a,o){(function(t,r){return e.isRecognizedTripleSlashComment(n.text,t,r)})(t,r)&&mr(t,r,i,a,o)}function fr(r,n){return!t.onlyPrintJsDocStyle||(e.isJSDocLikeText(r,n)||e.isPinnedComment(r,n))}function mr(t,r,i,a,o){fr(n.text,t)&&(W||(e.emitNewLineBeforeLeadingCommentOfPosition(fe(),p,o,t),W=!0),Er(t),e.writeCommentRange(n.text,fe(),p,t,r,w),Er(r),a?p.writeLine():3===i&&p.writeSpace(" "))}function gr(e){G||-1===e||dr(e,!0)}function yr(t,r,i,a){fr(n.text,t)&&(p.isAtStartOfLine()||p.writeSpace(" "),Er(t),e.writeCommentRange(n.text,fe(),p,t,r,w),Er(r),a&&p.writeLine())}function hr(e,t){G||(Y(),xr(e,t?yr:vr),X())}function vr(t,r,i,a){Er(t),e.writeCommentRange(n.text,fe(),p,t,r,w),Er(r),a?p.writeLine():p.writeSpace(" ")}function br(t,r){!n||-1!==U&&t===U||(function(t){return void 0!==v&&e.last(v).nodePos===t}(t)?function(t){var r=e.last(v).detachedCommentEndPos;v.length-1?v.pop():v=void 0;e.forEachLeadingCommentRange(n.text,r,t,r)}(r):e.forEachLeadingCommentRange(n.text,t,r,t))}function xr(t,r){n&&(-1===V||t!==V&&t!==q)&&e.forEachTrailingCommentRange(n.text,t,r)}function Dr(t,r,i,a,o,s){fr(n.text,a)&&(Er(a),e.writeCommentRange(t,r,i,a,o,s),Er(o))}function Sr(t,r){e.Debug.assert(b===r||x===r);var n=be(3,r);if(e.isUnparsedSource(r)||e.isUnparsedPrepend(r))n(t,r);else if(e.isUnparsedNode(r)){var i=function(t){return void 0===t.parsedSourceMap&&void 0!==t.sourceMapText&&(t.parsedSourceMap=e.tryParseRawSourceMap(t.sourceMapText)||!1),t.parsedSourceMap||void 0}(r.parent);i&&g&&g.appendSourceMap(p.getLine(),p.getColumn(),i,r.parent.sourceMapPath,r.parent.getLineAndCharacterOfPosition(r.pos),r.parent.getLineAndCharacterOfPosition(r.end)),n(t,r)}else{var a=e.getSourceMapRange(r),o=a.pos,s=a.end,c=a.source,u=void 0===c?y:c,l=e.getEmitFlags(r);318!==r.kind&&0==(16&l)&&o>=0&&Cr(u,Tr(u,o)),64&l?(J=!0,n(t,r),J=!1):n(t,r),318!==r.kind&&0==(32&l)&&s>=0&&Cr(u,s)}e.Debug.assert(b===r||x===r)}function Tr(t,r){return t.skipTrivia?t.skipTrivia(r):e.skipTrivia(t.text,r)}function Er(t){if(!(J||e.positionIsSynthesized(t)||Nr(y))){var r=e.getLineAndCharacterOfPosition(y,t),n=r.line,i=r.character;g.addMapping(p.getLine(),p.getColumn(),z,n,i,void 0)}}function Cr(e,t){if(e!==y){var r=y;kr(e),Er(t),kr(r)}else Er(t)}function kr(e){J||(y=e,Nr(e)||(z=g.addSource(e.fileName),t.inlineSources&&g.setSourceContent(z,e.text)))}function Nr(t){return e.fileExtensionIs(t.fileName,".json")}}e.isBuildInfoFile=function(t){return e.fileExtensionIs(t,".tsbuildinfo")},e.forEachEmittedFile=o,e.getTsBuildInfoEmitOutputFilePath=s,e.getOutputPathsForBundle=c,e.getOutputPathsFor=u,e.getOutputExtension=_,e.getOutputDeclarationFileName=p,e.getAllProjectOutputs=function(e,t){var r=m(),n=r.addOutput,i=r.getOutputs;if(e.options.outFile||e.options.out)g(e,n);else{for(var a=0,o=e.fileNames;a<o.length;a++){y(e,o[a],t,n)}n(s(e.options))}return i()},e.getOutputFileNames=function(t,r,n){r=e.normalizePath(r),e.Debug.assert(e.contains(t.fileNames,r),"Expected fileName to be present in command line");var i=m(),a=i.addOutput,o=i.getOutputs;return t.options.outFile||t.options.out?g(t,a):y(t,r,n,a),o()},e.getFirstProjectOutput=function(t,r){if(t.options.outFile||t.options.out){var n=c(t.options,!1).jsFilePath;return e.Debug.assertDefined(n,"project "+t.options.configFilePath+" expected to have at least one output")}for(var i=0,a=t.fileNames;i<a.length;i++){var o=a[i];if(!e.fileExtensionIs(o,".d.ts")){if(n=f(o,t,r))return n;if(!e.fileExtensionIs(o,".json")&&e.getEmitDeclarations(t.options))return p(o,t,r)}}var u=s(t.options);return u||e.Debug.fail("project "+t.options.configFilePath+" expected to have at least one output")},e.emitFiles=h,e.getBuildInfoText=v,e.getBuildInfo=b,e.notImplementedResolver={hasGlobalName:e.notImplemented,getReferencedExportContainer:e.notImplemented,getReferencedImportDeclaration:e.notImplemented,getReferencedDeclarationWithCollidingName:e.notImplemented,isDeclarationWithCollidingName:e.notImplemented,isValueAliasDeclaration:e.notImplemented,isReferencedAliasDeclaration:e.notImplemented,isTopLevelValueImportEqualsWithEntityName:e.notImplemented,getNodeCheckFlags:e.notImplemented,isDeclarationVisible:e.notImplemented,isLateBound:function(e){return!1},collectLinkedAliases:e.notImplemented,isImplementationOfOverload:e.notImplemented,isRequiredInitializedParameter:e.notImplemented,isOptionalUninitializedParameterProperty:e.notImplemented,isExpandoFunctionDeclaration:e.notImplemented,getPropertiesOfContainerFunction:e.notImplemented,createTypeOfDeclaration:e.notImplemented,createReturnTypeOfSignatureDeclaration:e.notImplemented,createTypeOfExpression:e.notImplemented,createLiteralConstValue:e.notImplemented,isSymbolAccessible:e.notImplemented,isEntityNameVisible:e.notImplemented,getConstantValue:e.notImplemented,getReferencedValueDeclaration:e.notImplemented,getTypeReferenceSerializationKind:e.notImplemented,isOptionalParameter:e.notImplemented,moduleExportsSomeValue:e.notImplemented,isArgumentsLocalBinding:e.notImplemented,getExternalModuleFileFromDeclaration:e.notImplemented,getTypeReferenceDirectivesForEntityName:e.notImplemented,getTypeReferenceDirectivesForSymbol:e.notImplemented,isLiteralConstDeclaration:e.notImplemented,getJsxFactoryEntity:e.notImplemented,getAllAccessorDeclarations:e.notImplemented,getSymbolOfExternalModuleSpecifier:e.notImplemented,isBindingCapturedByNode:e.notImplemented,getDeclarationStatementsForSourceFile:e.notImplemented},e.emitUsingBuildInfo=function(r,n,i,a){var o=c(r.options,!1),s=o.buildInfoPath,u=o.jsFilePath,l=o.sourceMapFilePath,_=o.declarationFilePath,d=o.declarationMapPath,p=n.readFile(e.Debug.assertDefined(s));if(!p)return s;var f=n.readFile(e.Debug.assertDefined(u));if(!f)return u;var m=l&&n.readFile(l);if(l&&!m||r.options.inlineSourceMap)return l||"inline sourcemap decoding";var g=_&&n.readFile(_);if(_&&!g)return _;var y=d&&n.readFile(d);if(d&&!y||r.options.inlineSourceMap)return d||"inline sourcemap decoding";var x=b(p);if(!x.bundle||!x.bundle.js||g&&!x.bundle.dts)return s;var D=e.getDirectoryPath(e.getNormalizedAbsolutePath(s,n.getCurrentDirectory())),S=e.createInputFiles(f,g,l,m,d,y,u,_,s,x,!0),T=[],E=e.createPrependNodes(r.projectReferences,i,(function(e){return n.readFile(e)})),C=function(t,r,n){var i=t.sourceFiles.map((function(t){var i=e.createNode(288,0,0);return i.fileName=e.getRelativePathFromDirectory(n.getCurrentDirectory(),e.getNormalizedAbsolutePath(t,r),!n.useCaseSensitiveFileNames()),i.text="",i.statements=e.createNodeArray(),i})),a=e.Debug.assertDefined(t.js);return e.forEach(a.sources&&a.sources.prologues,(function(t){var r=i[t.file];r.text=t.text,r.end=t.text.length,r.statements=e.createNodeArray(t.directives.map((function(t){var r=e.createNode(225,t.pos,t.end);return r.expression=e.createNode(10,t.expression.pos,t.expression.end),r.expression.text=t.expression.text,r})))})),i}(x.bundle,D,n),k={getPrependNodes:e.memoize((function(){return t(E,[S])})),getCanonicalFileName:n.getCanonicalFileName,getCommonSourceDirectory:function(){return e.getNormalizedAbsolutePath(x.bundle.commonSourceDirectory,D)},getCompilerOptions:function(){return r.options},getCurrentDirectory:function(){return n.getCurrentDirectory()},getNewLine:function(){return n.getNewLine()},getSourceFile:e.returnUndefined,getSourceFileByPath:e.returnUndefined,getSourceFiles:function(){return C},getLibFileFromReference:e.notImplemented,isSourceFileFromExternalLibrary:e.returnFalse,getResolvedProjectReferenceToRedirect:e.returnUndefined,writeFile:function(t,r,n){switch(t){case u:if(f===r)return;break;case l:if(m===r)return;break;case s:var i=b(r);i.program=x.program;var a=x.bundle,o=a.js,c=a.dts,p=a.sourceFiles;return i.bundle.js.sources=o.sources,c&&(i.bundle.dts.sources=c.sources),i.bundle.sourceFiles=p,void T.push({name:t,text:v(i),writeByteOrderMark:n});case _:if(g===r)return;break;case d:if(y===r)return;break;default:e.Debug.fail("Unexpected path: "+t)}T.push({name:t,text:r,writeByteOrderMark:n})},isEmitBlocked:e.returnFalse,readFile:function(e){return n.readFile(e)},fileExists:function(e){return n.fileExists(e)},directoryExists:n.directoryExists&&function(e){return n.directoryExists(e)},useCaseSensitiveFileNames:function(){return n.useCaseSensitiveFileNames()},getProgramBuildInfo:e.returnUndefined,getSourceFileFromReference:e.returnUndefined,redirectTargetsMap:e.createMultiMap()};return h(e.notImplementedResolver,k,void 0,e.getTransformers(r.options,a)),T},function(e){e[e.Notification=0]="Notification",e[e.Substitution=1]="Substitution",e[e.Comments=2]="Comments",e[e.SourceMaps=3]="SourceMaps",e[e.Emit=4]="Emit"}(r||(r={})),e.createPrinter=x,function(e){e[e.Auto=0]="Auto",e[e.CountMask=268435455]="CountMask",e[e._i=268435456]="_i"}(n||(n={}))}(s||(s={})),function(e){var t;function r(e,t,r,n){return e.watchFile(t,r,n)}function n(e,t,r,n){return e.watchDirectory(t,r,0!=(1&n))}function i(e,r){switch(e){case t.None:return r;case t.TriggerOnly:return s;case t.Verbose:return r===n?o:a}}function a(e,t,r,n,i,a,o,u,l,_,d){l(_+":: Added:: "+c(t,n,a,o,d));var p=s(e,t,r,n,i,a,o,u,l,_,d);return{close:function(){l(_+":: Close:: "+c(t,n,a,o,d)),p.close()}}}function o(t,r,n,i,a,o,u,l,_,d,p){var f=d+":: Added:: "+c(r,i,o,u,p);_(f);var m=e.timestamp(),g=s(t,r,n,i,a,o,u,l,_,d,p),y=e.timestamp()-m;return _("Elapsed:: "+y+"ms "+f),{close:function(){var t=d+":: Close:: "+c(r,i,o,u,p);_(t);var n=e.timestamp();g.close();var a=e.timestamp()-n;_("Elapsed:: "+a+"ms "+t)}}}function s(t,r,n,i,a,o,s,u,l,_,d){return u(t,r,(function(t,u){var p=_+":: Triggered with "+t+" "+(void 0!==u?u:"")+":: "+c(r,i,o,s,d);l(p);var f=e.timestamp();n(t,u,a);var m=e.timestamp()-f;l("Elapsed:: "+m+"ms "+p)}),i)}function c(e,t,r,n,i){return"WatchInfo: "+e+" "+t+" "+(i?i(r,n):void 0===n?r:r+" "+n)}function u(e){e.watcher.close()}e.createCachedDirectoryStructureHost=function(t,r,n){if(t.getDirectories&&t.readDirectory){var i=e.createMap(),a=e.createGetCanonicalFileName(n);return{useCaseSensitiveFileNames:n,fileExists:function(e){var r=c(o(e));return r&&d(r.files,u(e))||t.fileExists(e)},readFile:function(e,r){return t.readFile(e,r)},directoryExists:t.directoryExists&&function(r){var n=o(r);return i.has(e.ensureTrailingDirectorySeparator(n))||t.directoryExists(r)},getDirectories:function(e){var r=o(e),n=l(e,r);if(n)return n.directories.slice();return t.getDirectories(e)},readDirectory:function(i,a,s,c,u){var _=o(i),d=l(i,_);if(d)return e.matchFiles(i,a,s,c,n,r,u,(function(t){var r=o(t);if(r===_)return d;return l(t,r)||e.emptyFileSystemEntries}),f);return t.readDirectory(i,a,s,c,u)},createDirectory:t.createDirectory&&function(e){var r=c(o(e)),n=u(e);r&&p(r.directories,n,!0);t.createDirectory(e)},writeFile:t.writeFile&&function(e,r,n){var i=c(o(e));i&&m(i,u(e),!0);return t.writeFile(e,r,n)},addOrDeleteFileOrDirectory:function(e,r){if(s(r))return void g();var n=c(r);if(!n)return;if(!t.directoryExists)return void g();var i=u(e),a={fileExists:t.fileExists(r),directoryExists:t.directoryExists(r)};a.directoryExists||d(n.directories,i)?g():m(n,i,a.fileExists);return a},addOrDeleteFile:function(t,r,n){if(n===e.FileWatcherEventKind.Changed)return;var i=c(r);i&&m(i,u(t),n===e.FileWatcherEventKind.Created)},clearCache:g,realpath:t.realpath&&f}}function o(t){return e.toPath(t,r,a)}function s(t){return i.get(e.ensureTrailingDirectorySeparator(t))}function c(t){return s(e.getDirectoryPath(t))}function u(t){return e.getBaseFileName(e.normalizePath(t))}function l(r,n){var a=s(n=e.ensureTrailingDirectorySeparator(n));if(a)return a;try{return function(r,n){var a={files:e.map(t.readDirectory(r,void 0,void 0,["*.*"]),u)||[],directories:t.getDirectories(r)||[]};return i.set(e.ensureTrailingDirectorySeparator(n),a),a}(r,n)}catch(t){return void e.Debug.assert(!i.has(e.ensureTrailingDirectorySeparator(n)))}}function _(e,t){return a(e)===a(t)}function d(t,r){return e.some(t,(function(e){return _(e,r)}))}function p(t,r,n){if(d(t,r)){if(!n)return e.filterMutate(t,(function(e){return!_(e,r)}))}else if(n)return t.push(r)}function f(e){return t.realpath?t.realpath(e):e}function m(e,t,r){p(e.files,t,r)}function g(){i.clear()}},function(e){e[e.None=0]="None",e[e.Partial=1]="Partial",e[e.Full=2]="Full"}(e.ConfigFileProgramReloadLevel||(e.ConfigFileProgramReloadLevel={})),e.updateMissingFilePathsWatch=function(t,r,n){var i=t.getMissingFilePaths(),a=e.arrayToSet(i);e.mutateMap(r,a,{createNewValue:n,onDeleteValue:e.closeFileWatcher})},e.updateWatchingWildcardDirectories=function(t,r,n){function i(e,t){return{watcher:n(e,t),flags:t}}e.mutateMap(t,r,{createNewValue:i,onDeleteValue:u,onExistingValue:function(e,r,n){if(e.flags===r)return;e.watcher.close(),t.set(n,i(n,r))}})},e.isEmittedFileOfProgram=function(e,t){return!!e&&e.isEmittedFile(t)},function(e){e[e.None=0]="None",e[e.TriggerOnly=1]="TriggerOnly",e[e.Verbose=2]="Verbose"}(t=e.WatchLogLevel||(e.WatchLogLevel={})),e.getWatchFactory=function(a,o,s){return function(r,n,a,o,s){var c=i(r,o),u=r===t.None?function(e,t,r,n,i){return o(e,t,(function(e,t){return r(e,t,i)}),n)}:c,l=i(r,s);r===t.Verbose&&e.sysLog===e.noop&&(e.sysLog=function(e){return n(e)});return{watchFile:function(e,t,r,i,s,u){return c(e,t,r,i,void 0,s,u,o,n,"FileWatcher",a)},watchFilePath:function(e,t,r,i,s,c,l){return u(e,t,r,i,s,c,l,o,n,"FileWatcher",a)},watchDirectory:function(e,t,r,i,o,c){return l(e,t,r,i,void 0,o,c,s,n,"DirectoryWatcher",a)}}}(a,o,s,r,n)},e.closeFileWatcherOf=u}(s||(s={})),function(e){var n,i=/(^\s*$)|(^\s*\/\/\/?\s*(@ts-ignore)?)/;function a(t,r){var n=e.getDirectoryPath(r),i=e.isRootedDiskPath(t)?t:e.combinePaths(n,t);return e.normalizePath(i)}function o(t,r,n){var i;return e.forEach(t,(function(t){var a=e.getNormalizedPathComponents(t,r);if(a.pop(),i){for(var o=Math.min(i.length,a.length),s=0;s<o;s++)if(n(i[s])!==n(a[s])){if(0===s)return!0;i.length=s;break}a.length<i.length&&(i.length=a.length)}else i=a}))?"":i?e.getPathFromPathComponents(i):r}function s(e,t){return c(e,t)}function c(t,r,n){void 0===n&&(n=e.sys);var i,a=e.createMap(),o=e.createGetCanonicalFileName(n.useCaseSensitiveFileNames);function s(t){t.length>e.getRootLength(t)&&!function(e){return!!a.has(e)||!!n.directoryExists(e)&&(a.set(e,!0),!0)}(t)&&(s(e.getDirectoryPath(t)),_.createDirectory?_.createDirectory(t):n.createDirectory(t))}function c(){return e.getDirectoryPath(e.normalizePath(n.getExecutingFilePath()))}var u=e.getNewLineCharacter(t,(function(){return n.newLine})),l=n.realpath&&function(e){return n.realpath(e)},_={getSourceFile:function(t,n,i){var a;try{e.performance.mark("beforeIORead"),a=_.readFile(t),e.performance.mark("afterIORead"),e.performance.measure("I/O Read","beforeIORead","afterIORead")}catch(e){i&&i(e.message),a=""}return void 0!==a?e.createSourceFile(t,a,n,r):void 0},getDefaultLibLocation:c,getDefaultLibFileName:function(t){return e.combinePaths(c(),e.getDefaultLibFileName(t))},writeFile:function(r,a,o,c){try{e.performance.mark("beforeIOWrite"),s(e.getDirectoryPath(e.normalizePath(r))),e.isWatchSet(t)&&n.createHash&&n.getModifiedTime?function(t,r,a){i||(i=e.createMap());var o=n.createHash(r),s=n.getModifiedTime(t);if(s){var c=i.get(t);if(c&&c.byteOrderMark===a&&c.hash===o&&c.mtime.getTime()===s.getTime())return}n.writeFile(t,r,a);var u=n.getModifiedTime(t)||e.missingFileModifiedTime;i.set(t,{hash:o,byteOrderMark:a,mtime:u})}(r,a,o):n.writeFile(r,a,o),e.performance.mark("afterIOWrite"),e.performance.measure("I/O Write","beforeIOWrite","afterIOWrite")}catch(e){c&&c(e.message)}},getCurrentDirectory:e.memoize((function(){return n.getCurrentDirectory()})),useCaseSensitiveFileNames:function(){return n.useCaseSensitiveFileNames},getCanonicalFileName:o,getNewLine:function(){return u},fileExists:function(e){return n.fileExists(e)},readFile:function(e){return n.readFile(e)},trace:function(e){return n.write(e+u)},directoryExists:function(e){return n.directoryExists(e)},getEnvironmentVariable:function(e){return n.getEnvironmentVariable?n.getEnvironmentVariable(e):""},getDirectories:function(e){return n.getDirectories(e)},realpath:l,readDirectory:function(e,t,r,i,a){return n.readDirectory(e,t,r,i,a)},createDirectory:function(e){return n.createDirectory(e)},createHash:e.maybeBind(n,n.createHash)};return _}function u(t,r){var n=e.diagnosticCategoryName(t)+" TS"+t.code+": "+D(t.messageText,r.getNewLine())+r.getNewLine();if(t.file){var i=e.getLineAndCharacterOfPosition(t.file,t.start),a=i.line,o=i.character,s=t.file.fileName;return e.convertToRelativePath(s,r.getCurrentDirectory(),(function(e){return r.getCanonicalFileName(e)}))+"("+(a+1)+","+(o+1)+"): "+n}return n}e.findConfigFile=function(t,r,n){return void 0===n&&(n="tsconfig.json"),e.forEachAncestorDirectory(t,(function(t){var i=e.combinePaths(t,n);return r(i)?i:void 0}))},e.resolveTripleslashReference=a,e.computeCommonSourceDirectoryOfFilenames=o,e.createCompilerHost=s,e.createCompilerHostWorker=c,e.changeCompilerHostLikeToUseCache=function(t,r,n){var i=t.readFile,a=t.fileExists,o=t.directoryExists,s=t.createDirectory,c=t.writeFile,u=e.createMap(),l=e.createMap(),_=e.createMap(),d=e.createMap(),p=function(e,r){var n=i.call(t,r);return u.set(e,void 0!==n&&n),n};t.readFile=function(n){var a=r(n),o=u.get(a);return void 0!==o?!1!==o?o:void 0:e.fileExtensionIs(n,".json")||e.isBuildInfoFile(n)?p(a,n):i.call(t,n)};var f=n?function(t,i,a,o){var s=r(t),c=d.get(s);if(c)return c;var u=n(t,i,a,o);return u&&(e.isDeclarationFileName(t)||e.fileExtensionIs(t,".json"))&&d.set(s,u),u}:void 0;return t.fileExists=function(e){var n=r(e),i=l.get(n);if(void 0!==i)return i;var o=a.call(t,e);return l.set(n,!!o),o},c&&(t.writeFile=function(e,n,i,a,o){var s=r(e);l.delete(s);var _=u.get(s);if(void 0!==_&&_!==n)u.delete(s),d.delete(s);else if(f){var p=d.get(s);p&&p.text!==n&&d.delete(s)}c.call(t,e,n,i,a,o)}),o&&s&&(t.directoryExists=function(e){var n=r(e),i=_.get(n);if(void 0!==i)return i;var a=o.call(t,e);return _.set(n,!!a),a},t.createDirectory=function(e){var n=r(e);_.delete(n),s.call(t,e)}),{originalReadFile:i,originalFileExists:a,originalDirectoryExists:o,originalCreateDirectory:s,originalWriteFile:c,getSourceFileWithCache:f,readFileWithCache:function(e){var t=r(e),n=u.get(t);return void 0!==n?!1!==n?n:void 0:p(t,e)}}},e.getPreEmitDiagnostics=function(r,n,i){var a=t(r.getConfigFileParsingDiagnostics(),r.getOptionsDiagnostics(i),r.getSyntacticDiagnostics(n,i),r.getGlobalDiagnostics(i),r.getSemanticDiagnostics(n,i));return e.getEmitDeclarations(r.getCompilerOptions())&&e.addRange(a,r.getDeclarationDiagnostics(n,i)),e.sortAndDeduplicateDiagnostics(a)},e.formatDiagnostics=function(e,t){for(var r="",n=0,i=e;n<i.length;n++){r+=u(i[n],t)}return r},e.formatDiagnostic=u,function(e){e.Grey="[90m",e.Red="[91m",e.Yellow="[93m",e.Blue="[94m",e.Cyan="[96m"}(n=e.ForegroundColorEscapeSequences||(e.ForegroundColorEscapeSequences={}));var l="[7m",_=" ",d="[0m",p="...",m="  ",g="    ";function y(t){switch(t){case e.DiagnosticCategory.Error:return n.Red;case e.DiagnosticCategory.Warning:return n.Yellow;case e.DiagnosticCategory.Suggestion:return e.Debug.fail("Should never get an Info diagnostic on the command line.");case e.DiagnosticCategory.Message:return n.Blue}}function h(e,t){return t+e+d}function v(e,t){for(;e.length<t;)e=" "+e;return e}function b(t,r,n,i,a,o){var s=e.getLineAndCharacterOfPosition(t,r),c=s.line,u=s.character,f=e.getLineAndCharacterOfPosition(t,r+n),m=f.line,g=f.character,y=e.getLineAndCharacterOfPosition(t,t.text.length).line,b=m-c>=4,x=(m+1+"").length;b&&(x=Math.max(p.length,x));for(var D="",S=c;S<=m;S++){D+=o.getNewLine(),b&&c+1<S&&S<m-1&&(D+=i+h(v(p,x),l)+_+o.getNewLine(),S=m-1);var T=e.getPositionOfLineAndCharacter(t,S,0),E=S<y?e.getPositionOfLineAndCharacter(t,S+1,0):t.text.length,C=t.text.slice(T,E);if(C=(C=C.replace(/\s+$/g,"")).replace("\t"," "),D+=i+h(v(S+1+"",x),l)+_,D+=C+o.getNewLine(),D+=i+h(v("",x),l)+_,D+=a,S===c){var k=S===m?g:void 0;D+=C.slice(0,u).replace(/\S/g," "),D+=C.slice(u,k).replace(/./g,"~")}else D+=S===m?C.slice(0,g).replace(/./g,"~"):C.replace(/./g,"~");D+=d}return D}function x(t,r,i,a){void 0===a&&(a=h);var o=e.getLineAndCharacterOfPosition(t,r),s=o.line,c=o.character,u="";return u+=a(i?e.convertToRelativePath(t.fileName,i.getCurrentDirectory(),(function(e){return i.getCanonicalFileName(e)})):t.fileName,n.Cyan),u+=":",u+=a(""+(s+1),n.Yellow),u+=":",u+=a(""+(c+1),n.Yellow)}function D(t,r,n){if(void 0===n&&(n=0),e.isString(t))return t;if(void 0===t)return"";var i="";if(n){i+=r;for(var a=0;a<n;a++)i+="  "}if(i+=t.messageText,n++,t.next)for(var o=0,s=t.next;o<s.length;o++){i+=D(s[o],r,n)}return i}function S(t,r,n,i){if(0===t.length)return[];for(var a=[],o=e.createMap(),s=0,c=t;s<c.length;s++){var u=c[s],l=void 0;o.has(u)?l=o.get(u):o.set(u,l=i(u,r,n)),a.push(l)}return a}function T(t,r){return void 0===r&&(r=t),{fileExists:function(e){return r.fileExists(e)},readDirectory:function(t,n,i,a,o){return e.Debug.assertDefined(r.readDirectory,"'CompilerHost.readDirectory' must be implemented to correctly process 'projectReferences'"),r.readDirectory(t,n,i,a,o)},readFile:function(e){return r.readFile(e)},useCaseSensitiveFileNames:t.useCaseSensitiveFileNames(),getCurrentDirectory:function(){return t.getCurrentDirectory()},onUnRecoverableConfigFileDiagnostic:t.onUnRecoverableConfigFileDiagnostic||e.returnUndefined,trace:t.trace?function(e){return t.trace(e)}:void 0}}function E(t,r,n){if(!t)return e.emptyArray;for(var i,a=0;a<t.length;a++){var o=t[a],s=r(o,a);if(o.prepend&&s&&s.options){if(!(s.options.outFile||s.options.out))continue;var c=e.getOutputPathsForBundle(s.options,!0),u=c.jsFilePath,l=c.sourceMapFilePath,_=c.declarationFilePath,d=c.declarationMapPath,p=c.buildInfoPath,f=e.createInputFiles(n,u,l,_,d,p);(i||(i=[])).push(f)}}return i||e.emptyArray}function C(t,r){var n=r||t;return e.resolveConfigFileProjectName(n.path)}function k(t,r){switch(r.extension){case".ts":case".d.ts":return;case".tsx":return n();case".jsx":return n()||i();case".js":return i();case".json":return t.resolveJsonModule?void 0:e.Diagnostics.Module_0_was_resolved_to_1_but_resolveJsonModule_is_not_used}function n(){return t.jsx?void 0:e.Diagnostics.Module_0_was_resolved_to_1_but_jsx_is_not_set}function i(){return t.allowJs||!e.getStrictOptionValue(t,"noImplicitAny")?void 0:e.Diagnostics.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type}}function N(e){for(var t=e.imports,r=e.moduleAugmentations,n=t.map((function(e){return e.text})),i=0,a=r;i<a.length;i++){var o=a[i];10===o.kind&&n.push(o.text)}return n}e.formatColorAndReset=h,e.formatLocation=x,e.formatDiagnosticsWithColorAndContext=function(t,r){for(var i="",a=0,o=t;a<o.length;a++){var s=o[a];if(s.file)i+=x(_=s.file,d=s.start,r),i+=" - ";if(i+=h(e.diagnosticCategoryName(s),y(s.category)),i+=h(" TS"+s.code+": ",n.Grey),i+=D(s.messageText,r.getNewLine()),s.file&&(i+=r.getNewLine(),i+=b(s.file,s.start,s.length,"",y(s.category),r),s.relatedInformation)){i+=r.getNewLine();for(var c=0,u=s.relatedInformation;c<u.length;c++){var l=u[c],_=l.file,d=l.start,p=l.length,f=l.messageText;_&&(i+=r.getNewLine(),i+=m+x(_,d,r),i+=b(_,d,p,g,n.Cyan,r)),i+=r.getNewLine(),i+=g+D(f,r.getNewLine())}}i+=r.getNewLine()}return i},e.flattenDiagnosticMessageText=D,e.loadWithLocalCache=S,e.inferredTypesContainingFile="__inferred type names__.ts",e.isProgramUptoDate=function(t,r,n,i,a,o,s,c){if(!t||s)return!1;if(t.getRootFileNames().length!==r.length)return!1;var u;if(!e.arrayIsEqualTo(t.getProjectReferences(),c,(function(r,n,i){if(!e.projectReferenceIsEqualTo(r,n))return!1;return function t(r,n){if(r)return!!e.contains(u,r)||!!_(r.sourceFile)&&((u||(u=[])).push(r),!e.forEach(r.references,(function(e,n){return!t(e,r.commandLine.projectReferences[n])})));return!a(C(n))}(t.getResolvedProjectReferences()[i],r)})))return!1;if(t.getSourceFiles().some((function(e){return!_(e)||o(e.path)})))return!1;if(t.getMissingFilePaths().some(a))return!1;var l=t.getCompilerOptions();return!!e.compareDataObjects(l,n)&&(!l.configFile||!n.configFile||l.configFile.text===n.configFile.text);function _(e){return e.version===i(e.resolvedPath)}},e.getConfigFileParsingDiagnostics=function(e){return e.options.configFile?t(e.options.configFile.parseDiagnostics,e.errors):e.errors},e.createProgram=function(n,c,u,l,_){var d,p,m,g,y,h,v,b,x,D=e.isArray(n)?function(e,t,r,n,i){return{rootNames:e,options:t,host:r,oldProgram:n,configFileParsingDiagnostics:i}}(n,c,u,l,_):n,A=D.rootNames,F=D.options,P=D.configFileParsingDiagnostics,w=D.projectReferences,I=D.oldProgram,O=e.createMap(),M={},L={},R=e.createMap(),B=e.createDiagnosticCollection(),j="number"==typeof F.maxNodeModuleJsDepth?F.maxNodeModuleJsDepth:0,K=0,J=e.createMap(),z=e.createMap();e.performance.mark("beforeProgram");var U,V,q,W,G=D.host||s(F),H=T(G),Y=F.noLib,X=e.memoize((function(){return G.getDefaultLibFileName(F)})),Q=G.getDefaultLibLocation?G.getDefaultLibLocation():e.getDirectoryPath(X()),$=e.createDiagnosticCollection(),Z=G.getCurrentDirectory(),ee=e.getSupportedExtensions(F),te=e.getSuppoertedExtensionsWithJsonIfResolveJsonModule(F,ee),re=e.createMap(),ne=G.hasInvalidatedResolution||e.returnFalse;if(G.resolveModuleNames)q=function(t,r,n,i){return G.resolveModuleNames(e.Debug.assertEachDefined(t),r,n,i,F).map((function(t){if(!t||void 0!==t.extension)return t;var r=e.clone(t);return r.extension=e.extensionFromPath(t.resolvedFileName),r}))};else{V=e.createModuleResolutionCache(Z,(function(e){return G.getCanonicalFileName(e)}),F);var ie=function(t,r,n){return e.resolveModuleName(t,r,F,G,V,n).resolvedModule};q=function(t,r,n,i){return S(e.Debug.assertEachDefined(t),r,i,ie)}}if(G.resolveTypeReferenceDirectives)W=function(t,r,n){return G.resolveTypeReferenceDirectives(e.Debug.assertEachDefined(t),r,n,F)};else{var ae=function(t,r,n){return e.resolveTypeReferenceDirective(t,r,F,G,n).resolvedTypeReferenceDirective};W=function(t,r,n){return S(e.Debug.assertEachDefined(t),r,n,ae)}}var oe,se,ce,ue,le,_e,de=e.createMap(),pe=e.createMap(),fe=e.createMultiMap(),me=e.createMap(),ge=G.useCaseSensitiveFileNames()?e.createMap():void 0,ye=!!G.useSourceOfProjectReferenceRedirect&&G.useSourceOfProjectReferenceRedirect(),he=function(t,r){if(!t)return!1;var n=t.getCompilerOptions();return!!e.sourceFileAffectingCompilerOptions.some((function(t){return!e.isJsonEqual(e.getCompilerOptionValue(n,t),e.getCompilerOptionValue(r,t))}))}(I,F);if(2!==(_e=function(){if(!I)return 0;var t=I.getCompilerOptions();if(e.changesAffectModuleResolution(t,F))return I.structureIsReused=0;e.Debug.assert(!(3&I.structureIsReused));var r=I.getRootFileNames();if(!e.arrayIsEqualTo(r,A))return I.structureIsReused=0;if(!e.arrayIsEqualTo(F.types,t.types))return I.structureIsReused=0;if(Et(I.getProjectReferences(),I.getResolvedProjectReferences(),(function(e,t,r){var n=Mt((r?r.commandLine.projectReferences:w)[t]);return e?!n||n.sourceFile!==e.sourceFile:void 0!==n}),(function(t,r){var n=r?Ct(r.sourceFile.path).commandLine.projectReferences:w;return!e.arrayIsEqualTo(t,n,e.projectReferenceIsEqualTo)})))return I.structureIsReused=0;w&&(se=w.map(Mt),G.setResolvedProjectReferenceCallbacks&&G.setResolvedProjectReferenceCallbacks({getSourceOfProjectReferenceRedirect:St,forEachResolvedProjectReference:Dt}));var n=[],i=[];if(I.structureIsReused=2,I.getMissingFilePaths().some((function(e){return G.fileExists(e)})))return I.structureIsReused=0;var a,o=I.getSourceFiles();!function(e){e[e.Exists=0]="Exists",e[e.Modified=1]="Modified"}(a||(a={}));for(var s=e.createMap(),c=0,u=o;c<u.length;c++){var l=u[c];if(!(k=G.getSourceFileByPath?G.getSourceFileByPath(l.fileName,l.resolvedPath,F.target,void 0,he):G.getSourceFile(l.fileName,F.target,void 0,he)))return I.structureIsReused=0;e.Debug.assert(!k.redirectInfo,"Host should not return a redirect source file from `getSourceFile`");var _=void 0;if(l.redirectInfo){if(k!==l.redirectInfo.unredirected)return I.structureIsReused=0;_=!1,k=l}else if(I.redirectTargetsMap.has(l.path)){if(k!==l)return I.structureIsReused=0;_=!1}else _=k!==l;k.path=l.path,k.originalFileName=l.originalFileName,k.resolvedPath=l.resolvedPath,k.fileName=l.fileName;var d=I.sourceFileToPackageName.get(l.path);if(void 0!==d){var p=s.get(d),f=_?1:0;if(void 0!==p&&1===f||1===p)return I.structureIsReused=0;s.set(d,f)}if(_){if(!e.arrayIsEqualTo(l.libReferenceDirectives,k.libReferenceDirectives,ut))return I.structureIsReused=0;l.hasNoDefaultLib!==k.hasNoDefaultLib&&(I.structureIsReused=1),e.arrayIsEqualTo(l.referencedFiles,k.referencedFiles,ut)||(I.structureIsReused=1),_t(k),e.arrayIsEqualTo(l.imports,k.imports,lt)||(I.structureIsReused=1),e.arrayIsEqualTo(l.moduleAugmentations,k.moduleAugmentations,lt)||(I.structureIsReused=1),(3145728&l.flags)!=(3145728&k.flags)&&(I.structureIsReused=1),e.arrayIsEqualTo(l.typeReferenceDirectives,k.typeReferenceDirectives,ut)||(I.structureIsReused=1),i.push({oldFile:l,newFile:k})}else ne(l.path)&&(I.structureIsReused=1,i.push({oldFile:l,newFile:k}));n.push(k)}if(2!==I.structureIsReused)return I.structureIsReused;for(var g=i.map((function(e){return e.oldFile})),y=0,h=o;y<h.length;y++){var v=h[y];if(!e.contains(g,v))for(var b=0,D=v.ambientModuleNames;b<D.length;b++){var S=D[b];O.set(S,v.fileName)}}for(var T=0,E=i;T<E.length;T++){var C=E[T],k=(l=C.oldFile,C.newFile),P=e.getNormalizedAbsolutePath(k.originalFileName,Z),M=N(k),L=Ue(M,P,k);if(e.hasChangesInResolutions(M,L,l.resolvedModules,e.moduleResolutionIsEqualTo)?(I.structureIsReused=1,k.resolvedModules=e.zipToMap(M,L)):k.resolvedModules=l.resolvedModules,W){var j=e.map(k.typeReferenceDirectives,(function(e){return e.fileName.toLocaleLowerCase()})),K=W(j,P,xt(k.originalFileName));e.hasChangesInResolutions(j,K,l.resolvedTypeReferenceDirectiveNames,e.typeDirectiveIsEqualTo)?(I.structureIsReused=1,k.resolvedTypeReferenceDirectiveNames=e.zipToMap(j,K)):k.resolvedTypeReferenceDirectiveNames=l.resolvedTypeReferenceDirectiveNames}}if(2!==I.structureIsReused)return I.structureIsReused;if(G.hasChangedAutomaticTypeDirectiveNames)return I.structureIsReused=1;oe=I.getMissingFilePaths(),x=I.getRefFileMap();for(var J=0,U=n;J<U.length;J++){var V=(k=U[J]).path;if(yt(k,V,k.resolvedPath),ye){var q=vt(k.fileName);if(q&&!q.commandLine.options.outFile&&!q.commandLine.options.out){var H=bt(q,k.fileName);yt(k,Ke(H),void 0)}}I.isSourceFileFromExternalLibrary(I.getSourceFileByPath(k.resolvedPath))&&z.set(V,!0)}m=n,B=I.getFileProcessingDiagnostics();for(var Y=0,X=i;Y<X.length;Y++){var Q=X[Y];B.reattachFileDiagnostics(Q.newFile)}return R=I.getResolvedTypeReferenceDirectives(),pe=I.sourceFileToPackageName,fe=I.redirectTargetsMap,I.structureIsReused=2}())){if(d=[],p=[],w&&(se||(se=w.map(Mt)),G.setResolvedProjectReferenceCallbacks&&G.setResolvedProjectReferenceCallbacks({getSourceOfProjectReferenceRedirect:St,forEachResolvedProjectReference:Dt}),A.length))for(var ve=0,be=se;ve<be.length;ve++){var xe=be[ve];if(xe){var De=xe.commandLine.options.outFile||xe.commandLine.options.out;if(ye){if(De||e.getEmitModuleKind(xe.commandLine.options)===e.ModuleKind.None)for(var Se=0,Te=xe.commandLine.fileNames;Se<Te.length;Se++){pt(ke=Te[Se],!1,!1,void 0)}}else if(De)pt(e.changeExtension(De,".d.ts"),!1,!1,void 0);else if(e.getEmitModuleKind(xe.commandLine.options)===e.ModuleKind.None)for(var Ee=0,Ce=xe.commandLine.fileNames;Ee<Ce.length;Ee++){var ke=Ce[Ee];e.fileExtensionIs(ke,".d.ts")||pt(e.getOutputDeclarationFileName(ke,xe.commandLine,!G.useCaseSensitiveFileNames()),!1,!1,void 0)}}}e.forEach(A,(function(e){return ct(e,!1,!1)}));var Ne=A.length?e.getAutomaticTypeDirectiveNames(F,G):e.emptyArray;if(Ne.length)for(var Ae=F.configFilePath?e.getDirectoryPath(F.configFilePath):G.getCurrentDirectory(),Fe=e.combinePaths(Ae,e.inferredTypesContainingFile),Pe=W(Ne,Fe),we=0;we<Ne.length;we++)At(Ne[we],Pe[we]);if(A.length&&!Y){var Ie=X();!F.lib&&Ie?ct(Ie,!0,!1):e.forEach(F.lib,(function(t){ct(e.combinePaths(Q,t),!0,!1)}))}oe=e.arrayFrom(e.mapDefinedIterator(me.entries(),(function(e){var t=e[0];return void 0===e[1]?t:void 0}))),m=e.stableSort(d,(function(t,r){return e.compareValues(je(t),je(r))})).concat(p),d=void 0,p=void 0}if(e.Debug.assert(!!oe),I&&G.onReleaseOldSourceFile){for(var Oe=0,Me=I.getSourceFiles();Oe<Me.length;Oe++){var Le=Me[Oe],Re=Qe(Le.resolvedPath);(he||!Re||Le.resolvedPath===Le.path&&Re.resolvedPath!==Le.path)&&G.onReleaseOldSourceFile(Le,I.getCompilerOptions(),!!Qe(Le.path))}I.forEachResolvedProjectReference((function(e,t){e&&!Ct(t)&&G.onReleaseOldSourceFile(e.sourceFile,I.getCompilerOptions(),!1)}))}I=void 0;var Be={getRootFileNames:function(){return A},getSourceFile:Xe,getSourceFileByPath:Qe,getSourceFiles:function(){return m},getMissingFilePaths:function(){return oe},getRefFileMap:function(){return x},getCompilerOptions:function(){return F},getSyntacticDiagnostics:function(e,t){return $e(e,Ze,t)},getOptionsDiagnostics:function(){return e.sortAndDeduplicateDiagnostics(e.concatenate(B.getGlobalDiagnostics(),e.concatenate($.getGlobalDiagnostics(),function(){if(!F.configFile)return e.emptyArray;var t=$.getDiagnostics(F.configFile.fileName);return Dt((function(r){r&&(t=e.concatenate(t,$.getDiagnostics(r.sourceFile.fileName)))})),t}())))},getGlobalDiagnostics:function(){return A.length?e.sortAndDeduplicateDiagnostics(Ge().getGlobalDiagnostics().slice()):e.emptyArray},getSemanticDiagnostics:function(e,t){return $e(e,tt,t)},getSuggestionDiagnostics:function(e,t){return et((function(){return Ge().getSuggestionDiagnostics(e,t)}))},getDeclarationDiagnostics:function(e,t){var r=Be.getCompilerOptions();return!e||r.out||r.outFile?it(e,t):$e(e,st,t)},getTypeChecker:He,getClassifiableNames:function(){if(!b){He(),b=e.createUnderscoreEscapedMap();for(var t=0,r=m;t<r.length;t++){var n=r[t];e.copyEntries(n.classifiableNames,b)}}return b},getDiagnosticsProducingTypeChecker:Ge,getCommonSourceDirectory:ze,emit:function(r,n,i,a,o,s){return et((function(){return function(r,n,i,a,o,s,c){var u=[];if(!c){if(F.noEmit)return{diagnostics:u,sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0};if(F.noEmitOnError){var l=t(r.getOptionsDiagnostics(a),r.getSyntacticDiagnostics(n,a),r.getGlobalDiagnostics(a),r.getSemanticDiagnostics(n,a));if(0===l.length&&e.getEmitDeclarations(r.getCompilerOptions())&&(u=r.getDeclarationDiagnostics(void 0,a)),l.length>0||u.length>0)return{diagnostics:e.concatenate(l,u),sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0}}}var _=Ge().getEmitResolver(F.outFile||F.out?void 0:n,a);e.performance.mark("beforeEmit");var d=e.emitFiles(_,Ve(i),n,e.getTransformers(F,s,o),o,!1,c);return e.performance.mark("afterEmit"),e.performance.measure("Emit","beforeEmit","afterEmit"),d}(Be,r,n,i,a,o,s)}))},getCurrentDirectory:function(){return Z},getNodeCount:function(){return Ge().getNodeCount()},getIdentifierCount:function(){return Ge().getIdentifierCount()},getSymbolCount:function(){return Ge().getSymbolCount()},getTypeCount:function(){return Ge().getTypeCount()},getRelationCacheSizes:function(){return Ge().getRelationCacheSizes()},getFileProcessingDiagnostics:function(){return B},getResolvedTypeReferenceDirectives:function(){return R},isSourceFileFromExternalLibrary:We,isSourceFileDefaultLibrary:function(t){if(t.hasNoDefaultLib)return!0;if(!F.noLib)return!1;var r=G.useCaseSensitiveFileNames()?e.equateStringsCaseSensitive:e.equateStringsCaseInsensitive;return F.lib?e.some(F.lib,(function(n){return r(t.fileName,e.combinePaths(Q,n))})):r(t.fileName,X())},dropDiagnosticsProducingTypeChecker:function(){h=void 0},getSourceFileFromReference:function(e,t){return dt(a(t.fileName,e.fileName),(function(e){return me.get(Ke(e))||void 0}))},getLibFileFromReference:function(t){var r=t.fileName.toLocaleLowerCase(),n=e.libMap.get(r);if(n)return Xe(e.combinePaths(Q,n))},sourceFileToPackageName:pe,redirectTargetsMap:fe,isEmittedFile:function(t){if(F.noEmit)return!1;var r=Ke(t);if(Qe(r))return!1;var n=F.outFile||F.out;if(n)return Gt(r,n)||Gt(r,e.removeFileExtension(n)+".d.ts");if(F.declarationDir&&e.containsPath(F.declarationDir,r,Z,!G.useCaseSensitiveFileNames()))return!0;if(F.outDir)return e.containsPath(F.outDir,r,Z,!G.useCaseSensitiveFileNames());if(e.fileExtensionIsOneOf(r,e.supportedJSExtensions)||e.fileExtensionIs(r,".d.ts")){var i=e.removeFileExtension(r);return!!Qe(i+".ts")||!!Qe(i+".tsx")}return!1},getConfigFileParsingDiagnostics:function(){return P||e.emptyArray},getResolvedModuleWithFailedLookupLocationsFromCache:function(t,r){return V&&e.resolveModuleNameFromCache(t,r,V)},getProjectReferences:function(){return w},getResolvedProjectReferences:function(){return se},getProjectReferenceRedirect:ht,getResolvedProjectReferenceToRedirect:xt,getResolvedProjectReferenceByPath:Ct,forEachResolvedProjectReference:Dt,isSourceOfProjectReferenceRedirect:Tt,emitBuildInfo:function(t){e.Debug.assert(!F.out&&!F.outFile),e.performance.mark("beforeEmit");var r=e.emitFiles(e.notImplementedResolver,Ve(t),void 0,e.noTransformers,!1,!0);return e.performance.mark("afterEmit"),e.performance.measure("Emit","beforeEmit","afterEmit"),r},getProbableSymlinks:Ht};return function(){F.strictPropertyInitialization&&!e.getStrictOptionValue(F,"strictNullChecks")&&Kt(e.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"strictPropertyInitialization","strictNullChecks");F.isolatedModules&&(F.out&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","isolatedModules"),F.outFile&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"outFile","isolatedModules"));F.inlineSourceMap&&(F.sourceMap&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"sourceMap","inlineSourceMap"),F.mapRoot&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"mapRoot","inlineSourceMap"));F.paths&&void 0===F.baseUrl&&Kt(e.Diagnostics.Option_paths_cannot_be_used_without_specifying_baseUrl_option,"paths");F.composite&&(!1===F.declaration&&Kt(e.Diagnostics.Composite_projects_may_not_disable_declaration_emit,"declaration"),!1===F.incremental&&Kt(e.Diagnostics.Composite_projects_may_not_disable_incremental_compilation,"declaration"));F.tsBuildInfoFile?e.isIncrementalCompilation(F)||Kt(e.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"tsBuildInfoFile","incremental","composite"):!F.incremental||F.outFile||F.out||F.configFilePath||$.add(e.createCompilerDiagnostic(e.Diagnostics.Option_incremental_can_only_be_specified_using_tsconfig_emitting_to_single_file_or_when_option_tsBuildInfoFile_is_specified));if(function(){var t=F.noEmit||F.suppressOutputPathCheck?void 0:e.getTsBuildInfoEmitOutputFilePath(F);Et(w,se,(function(r,n,i){var a=(i?i.commandLine.projectReferences:w)[n],o=i&&i.sourceFile;if(r){var s=r.commandLine.options;if(!s.composite)(i?i.commandLine.fileNames:A).length&&zt(o,n,e.Diagnostics.Referenced_project_0_must_have_setting_composite_Colon_true,a.path);if(a.prepend){var c=s.outFile||s.out;c?G.fileExists(c)||zt(o,n,e.Diagnostics.Output_file_0_from_project_1_does_not_exist,c,a.path):zt(o,n,e.Diagnostics.Cannot_prepend_project_0_because_it_does_not_have_outFile_set,a.path)}!i&&t&&t===e.getTsBuildInfoEmitOutputFilePath(s)&&(zt(o,n,e.Diagnostics.Cannot_write_file_0_because_it_will_overwrite_tsbuildinfo_file_generated_by_referenced_project_1,t,a.path),re.set(Ke(t),!0))}else zt(o,n,e.Diagnostics.File_0_not_found,a.path)}))}(),F.composite)for(var t=e.arrayToSet(A,Ke),r=0,n=m;r<n.length;r++){var i=n[r];Je(i)&&!t.has(i.path)&&Lt(i,t,e.Diagnostics.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,i.fileName,F.configFilePath||"")}if(F.paths)for(var a in F.paths)if(e.hasProperty(F.paths,a))if(e.hasZeroOrOneAsteriskCharacter(a)||Bt(!0,a,e.Diagnostics.Pattern_0_can_have_at_most_one_Asterisk_character,a),e.isArray(F.paths[a])){var o=F.paths[a].length;0===o&&Bt(!1,a,e.Diagnostics.Substitutions_for_pattern_0_shouldn_t_be_an_empty_array,a);for(var s=0;s<o;s++){var c=F.paths[a][s],u=f(c);"string"===u?e.hasZeroOrOneAsteriskCharacter(c)||Rt(a,s,e.Diagnostics.Substitution_0_in_pattern_1_in_can_have_at_most_one_Asterisk_character,c,a):Rt(a,s,e.Diagnostics.Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2,c,a,u)}}else Bt(!1,a,e.Diagnostics.Substitutions_for_pattern_0_should_be_an_array,a);F.sourceMap||F.inlineSourceMap||(F.inlineSources&&Kt(e.Diagnostics.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"inlineSources"),F.sourceRoot&&Kt(e.Diagnostics.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"sourceRoot"));F.out&&F.outFile&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","outFile");!F.mapRoot||F.sourceMap||F.declarationMap||Kt(e.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"mapRoot","sourceMap","declarationMap");F.declarationDir&&(e.getEmitDeclarations(F)||Kt(e.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"declarationDir","declaration","composite"),(F.out||F.outFile)&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declarationDir",F.out?"out":"outFile"));F.declarationMap&&!e.getEmitDeclarations(F)&&Kt(e.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"declarationMap","declaration","composite");F.lib&&F.noLib&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"lib","noLib");F.noImplicitUseStrict&&e.getStrictOptionValue(F,"alwaysStrict")&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noImplicitUseStrict","alwaysStrict");var l=F.target||0,_=F.outFile||F.out,d=e.find(m,(function(t){return e.isExternalModule(t)&&!t.isDeclarationFile}));if(F.isolatedModules){F.module===e.ModuleKind.None&&l<2&&Kt(e.Diagnostics.Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher,"isolatedModules","target");var p=e.find(m,(function(t){return!e.isExternalModule(t)&&!e.isSourceFileJS(t)&&!t.isDeclarationFile&&6!==t.scriptKind}));if(p){var g=e.getErrorSpanForNode(p,p);$.add(e.createFileDiagnostic(p,g.start,g.length,e.Diagnostics.All_files_must_be_modules_when_the_isolatedModules_flag_is_provided))}}else if(d&&l<2&&F.module===e.ModuleKind.None){g=e.getErrorSpanForNode(d,d.externalModuleIndicator);$.add(e.createFileDiagnostic(d,g.start,g.length,e.Diagnostics.Cannot_use_imports_exports_or_module_augmentations_when_module_is_none))}if(_&&!F.emitDeclarationOnly)if(F.module&&F.module!==e.ModuleKind.AMD&&F.module!==e.ModuleKind.System)Kt(e.Diagnostics.Only_amd_and_system_modules_are_supported_alongside_0,F.out?"out":"outFile","module");else if(void 0===F.module&&d){g=e.getErrorSpanForNode(d,d.externalModuleIndicator);$.add(e.createFileDiagnostic(d,g.start,g.length,e.Diagnostics.Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system,F.out?"out":"outFile"))}F.resolveJsonModule&&(e.getEmitModuleResolutionKind(F)!==e.ModuleResolutionKind.NodeJs?Kt(e.Diagnostics.Option_resolveJsonModule_cannot_be_specified_without_node_module_resolution_strategy,"resolveJsonModule"):e.hasJsonModuleEmitEnabled(F)||Kt(e.Diagnostics.Option_resolveJsonModule_can_only_be_specified_when_module_code_generation_is_commonjs_amd_es2015_or_esNext,"resolveJsonModule","module"));if(F.outDir||F.sourceRoot||F.mapRoot){var y=ze();F.outDir&&""===y&&m.some((function(t){return e.getRootLength(t.fileName)>1}))&&Kt(e.Diagnostics.Cannot_find_the_common_subdirectory_path_for_the_input_files,"outDir")}F.useDefineForClassFields&&0===l&&Kt(e.Diagnostics.Option_0_cannot_be_specified_when_option_target_is_ES3,"useDefineForClassFields");F.checkJs&&!F.allowJs&&$.add(e.createCompilerDiagnostic(e.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"checkJs","allowJs"));F.emitDeclarationOnly&&(e.getEmitDeclarations(F)||Kt(e.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"emitDeclarationOnly","declaration","composite"),F.noEmit&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"emitDeclarationOnly","noEmit"));F.emitDecoratorMetadata&&!F.experimentalDecorators&&Kt(e.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"emitDecoratorMetadata","experimentalDecorators");F.jsxFactory?(F.reactNamespace&&Kt(e.Diagnostics.Option_0_cannot_be_specified_with_option_1,"reactNamespace","jsxFactory"),e.parseIsolatedEntityName(F.jsxFactory,l)||Jt("jsxFactory",e.Diagnostics.Invalid_value_for_jsxFactory_0_is_not_a_valid_identifier_or_qualified_name,F.jsxFactory)):F.reactNamespace&&!e.isIdentifierText(F.reactNamespace,l)&&Jt("reactNamespace",e.Diagnostics.Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier,F.reactNamespace);if(!F.noEmit&&!F.suppressOutputPathCheck){var h=Ve(),v=e.createMap();e.forEachEmittedFile(h,(function(e){F.emitDeclarationOnly||b(e.jsFilePath,v),b(e.declarationFilePath,v)}))}function b(t,r){if(t){var n=Ke(t);if(me.has(n)){var i=void 0;F.configFilePath||(i=e.chainDiagnosticMessages(void 0,e.Diagnostics.Adding_a_tsconfig_json_file_will_help_organize_projects_that_contain_both_TypeScript_and_JavaScript_files_Learn_more_at_https_Colon_Slash_Slashaka_ms_Slashtsconfig)),i=e.chainDiagnosticMessages(i,e.Diagnostics.Cannot_write_file_0_because_it_would_overwrite_input_file,t),Wt(t,e.createCompilerDiagnosticFromMessageChain(i))}var a=G.useCaseSensitiveFileNames()?n:n.toLocaleLowerCase();r.has(a)?Wt(t,e.createCompilerDiagnostic(e.Diagnostics.Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files,t)):r.set(a,!0)}}}(),e.performance.mark("afterProgram"),e.performance.measure("Program","beforeProgram","afterProgram"),Be;function je(t){if(e.containsPath(Q,t.fileName,!1)){var r=e.getBaseFileName(t.fileName);if("lib.d.ts"===r||"lib.es6.d.ts"===r)return 0;var n=e.removeSuffix(e.removePrefix(r,"lib."),".d.ts"),i=e.libs.indexOf(n);if(-1!==i)return i+1}return e.libs.length+2}function Ke(t){return e.toPath(t,Z,wt)}function Je(t){return e.sourceFileMayBeEmitted(t,F,We,xt)&&!Tt(t.fileName)}function ze(){if(void 0===y){var t=e.filter(m,(function(e){return Je(e)}));F.rootDir&&Ot(t,F.rootDir)?y=e.getNormalizedAbsolutePath(F.rootDir,Z):F.composite&&F.configFilePath?Ot(t,y=e.getDirectoryPath(e.normalizeSlashes(F.configFilePath))):(r=t,y=o(e.mapDefined(r,(function(e){return e.isDeclarationFile?void 0:e.fileName})),Z,wt)),y&&y[y.length-1]!==e.directorySeparator&&(y+=e.directorySeparator)}var r;return y}function Ue(t,r,n){if(0===_e&&!n.ambientModuleNames.length)return q(t,r,void 0,xt(n.originalFileName));var i,a,o,s=I&&I.getSourceFile(r);if(s!==n&&n.resolvedModules){for(var c=[],u=0,l=t;u<l.length;u++){var _=l[u],d=n.resolvedModules.get(_);c.push(d)}return c}for(var p={},f=0;f<t.length;f++){_=t[f];if(n===s&&!ne(s.path)){var m=s&&s.resolvedModules.get(_);if(m){e.isTraceEnabled(F,G)&&e.trace(G,e.Diagnostics.Reusing_resolution_of_module_0_to_file_1_from_old_program,_,r),(a||(a=new Array(t.length)))[f]=m,(o||(o=[])).push(_);continue}}var g=!1;e.contains(n.ambientModuleNames,_)?(g=!0,e.isTraceEnabled(F,G)&&e.trace(G,e.Diagnostics.Module_0_was_resolved_as_locally_declared_ambient_module_in_file_1,_,r)):g=v(_),g?(a||(a=new Array(t.length)))[f]=p:(i||(i=[])).push(_)}var y=i&&i.length?q(i,r,o,xt(n.originalFileName)):e.emptyArray;if(!a)return e.Debug.assert(y.length===t.length),y;var h=0;for(f=0;f<a.length;f++)a[f]?a[f]===p&&(a[f]=void 0):(a[f]=y[h],h++);return e.Debug.assert(h===y.length),a;function v(t){var r=e.getResolvedModule(s,t),n=r&&I.getSourceFile(r.resolvedFileName);if(r&&n)return!1;var i=O.get(t);return!!i&&(e.isTraceEnabled(F,G)&&e.trace(G,e.Diagnostics.Module_0_was_resolved_as_ambient_module_declared_in_1_since_this_file_was_not_modified,t,i),!0)}}function Ve(t){return r(r({getPrependNodes:qe,getCanonicalFileName:wt,getCommonSourceDirectory:Be.getCommonSourceDirectory,getCompilerOptions:Be.getCompilerOptions,getCurrentDirectory:function(){return Z},getNewLine:function(){return G.getNewLine()},getSourceFile:Be.getSourceFile,getSourceFileByPath:Be.getSourceFileByPath,getSourceFiles:Be.getSourceFiles,getLibFileFromReference:Be.getLibFileFromReference,isSourceFileFromExternalLibrary:We,getResolvedProjectReferenceToRedirect:xt,getProbableSymlinks:Ht,writeFile:t||function(e,t,r,n,i){return G.writeFile(e,t,r,n,i)},isEmitBlocked:Ye,readFile:function(e){return G.readFile(e)},fileExists:function(t){var r=Ke(t);return!!Qe(r)||!e.contains(oe,r)&&G.fileExists(t)}},G.directoryExists?{directoryExists:function(e){return G.directoryExists(e)}}:{}),{useCaseSensitiveFileNames:function(){return G.useCaseSensitiveFileNames()},getProgramBuildInfo:function(){return Be.getProgramBuildInfo&&Be.getProgramBuildInfo()},getSourceFileFromReference:function(e,t){return Be.getSourceFileFromReference(e,t)},redirectTargetsMap:fe})}function qe(){return E(w,(function(e,t){return se[t].commandLine}),(function(e){var t=Ke(e),r=Qe(t);return r?r.text:me.has(t)?void 0:G.readFile(t)}))}function We(e){return!!z.get(e.path)}function Ge(){return h||(h=e.createTypeChecker(Be,!0))}function He(){return v||(v=e.createTypeChecker(Be,!1))}function Ye(e){return re.has(Ke(e))}function Xe(e){return Qe(Ke(e))}function Qe(e){return me.get(e)||void 0}function $e(t,r,n){return t?r(t,n):e.sortAndDeduplicateDiagnostics(e.flatMap(Be.getSourceFiles(),(function(e){return n&&n.throwIfCancellationRequested(),r(e,n)})))}function Ze(t){return e.isSourceFileJS(t)?(t.additionalSyntacticDiagnostics||(t.additionalSyntacticDiagnostics=function(t){return et((function(){var r=[],n=t;return i(t),r;function i(t){switch(n.kind){case 155:case 158:case 160:if(n.questionToken===t)return void r.push(s(t,e.Diagnostics._0_can_only_be_used_in_a_ts_file,"?"));case 159:case 161:case 162:case 163:case 200:case 243:case 201:case 241:if(n.type===t)return void r.push(s(t,e.Diagnostics.types_can_only_be_used_in_a_ts_file))}switch(t.kind){case 252:return void r.push(s(t,e.Diagnostics.import_can_only_be_used_in_a_ts_file));case 258:if(t.isExportEquals)return void r.push(s(t,e.Diagnostics.export_can_only_be_used_in_a_ts_file));break;case 277:if(112===t.token)return void r.push(s(t,e.Diagnostics.implements_clauses_can_only_be_used_in_a_ts_file));break;case 245:return void r.push(s(t,e.Diagnostics.interface_declarations_can_only_be_used_in_a_ts_file));case 248:return void r.push(s(t,e.Diagnostics.module_declarations_can_only_be_used_in_a_ts_file));case 246:return void r.push(s(t,e.Diagnostics.type_aliases_can_only_be_used_in_a_ts_file));case 247:return void r.push(s(t,e.Diagnostics.enum_declarations_can_only_be_used_in_a_ts_file));case 217:return void r.push(s(t,e.Diagnostics.non_null_assertions_can_only_be_used_in_a_ts_file));case 216:return void r.push(s(t.type,e.Diagnostics.type_assertion_expressions_can_only_be_used_in_a_ts_file));case 198:e.Debug.fail()}var o=n;n=t,e.forEachChild(t,i,a),n=o}function a(t){switch(n.decorators!==t||F.experimentalDecorators||r.push(s(n,e.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Set_the_experimentalDecorators_option_in_your_tsconfig_or_jsconfig_to_remove_this_warning)),n.kind){case 244:case 213:case 160:case 161:case 162:case 163:case 200:case 243:case 201:if(t===n.typeParameters)return void r.push(o(t,e.Diagnostics.type_parameter_declarations_can_only_be_used_in_a_ts_file));case 224:if(t===n.modifiers)return function(t,n){for(var i=0,a=t;i<a.length;i++){var o=a[i];switch(o.kind){case 80:if(n)continue;case 118:case 116:case 117:case 137:case 129:case 121:r.push(s(o,e.Diagnostics._0_can_only_be_used_in_a_ts_file,e.tokenToString(o.kind)))}}}(n.modifiers,224===n.kind);break;case 158:if(t===n.modifiers){for(var a=0,c=t;a<c.length;a++){var u=c[a];119!==u.kind&&r.push(s(u,e.Diagnostics._0_can_only_be_used_in_a_ts_file,e.tokenToString(u.kind)))}return}break;case 155:if(t===n.modifiers)return void r.push(o(t,e.Diagnostics.parameter_modifiers_can_only_be_used_in_a_ts_file));break;case 195:case 196:case 215:case 265:case 266:case 197:if(t===n.typeArguments)return void r.push(o(t,e.Diagnostics.type_arguments_can_only_be_used_in_a_ts_file))}for(var l=0,_=t;l<_.length;l++){i(_[l])}}function o(r,n,i,a,o){var s=r.pos;return e.createFileDiagnostic(t,s,r.end-s,n,i,a,o)}function s(r,n,i,a,o){return e.createDiagnosticForNodeInSourceFile(t,r,n,i,a,o)}}))}(t)),e.concatenate(t.additionalSyntacticDiagnostics,t.parseDiagnostics)):t.parseDiagnostics}function et(t){try{return t()}catch(t){throw t instanceof e.OperationCanceledException&&(v=void 0,h=void 0),t}}function tt(e,t){return ot(e,t,M,rt)}function rt(t,r){return et((function(){if(e.skipTypeChecking(t,F,Be))return e.emptyArray;var n=Ge();e.Debug.assert(!!t.bindDiagnostics);for(var i,a=e.isCheckJsEnabledForFile(t,F),o=!(!!t.checkJsDirective&&!1===t.checkJsDirective.enabled)&&(3===t.scriptKind||4===t.scriptKind||5===t.scriptKind||a||7===t.scriptKind),s=0,c=[o?t.bindDiagnostics:e.emptyArray,o?n.getDiagnostics(t,r):e.emptyArray,B.getDiagnostics(t.fileName),$.getDiagnostics(t.fileName),a?t.jsDocDiagnostics:void 0];s<c.length;s++){var u=c[s];if(u)for(var l=0,_=u;l<_.length;l++){var d=_[l];nt(d)&&(i=e.append(i,d))}}return i}))}function nt(t){var r=t.file,n=t.start;if(r)for(var a=e.getLineStarts(r),o=e.computeLineAndCharacterOfPosition(a,n).line;o>0;){var s=r.text.slice(a[o-1],a[o]),c=i.exec(s);if(!c)return!0;if(c[3])return!1;o--}return!0}function it(e,t){return ot(e,t,L,at)}function at(t,r){return et((function(){var n=Ge().getEmitResolver(t,r);return e.getDeclarationDiagnostics(Ve(e.noop),n,t)}))}function ot(t,r,n,i){var a=t?n.perFile&&n.perFile.get(t.path):n.allDiagnostics;if(a)return a;var o=i(t,r)||e.emptyArray;return t?(n.perFile||(n.perFile=e.createMap()),n.perFile.set(t.path,o)):n.allDiagnostics=o,o}function st(e,t){return e.isDeclarationFile?[]:it(e,t)}function ct(t,r,n){pt(e.normalizePath(t),r,n,void 0)}function ut(e,t){return e.fileName===t.fileName}function lt(e,t){return 75===e.kind?75===t.kind&&e.escapedText===t.escapedText:10===t.kind&&e.text===t.text}function _t(t){if(!t.imports){var r,n,i,a=e.isSourceFileJS(t),o=e.isExternalModule(t);if(F.importHelpers&&(F.isolatedModules||o)&&!t.isDeclarationFile){var s=e.createLiteral(e.externalHelpersModuleNameText),c=e.createImportDeclaration(void 0,void 0,void 0,s);e.addEmitFlags(c,67108864),s.parent=c,c.parent=t,r=[s]}for(var u=0,l=t.statements;u<l.length;u++){_(l[u],!1)}return(1048576&t.flags||a)&&function(t){var n=/import|require/g;for(;null!==n.exec(t.text);){var i=d(t,n.lastIndex);e.isRequireCall(i,!0)?r=e.append(r,i.arguments[0]):e.isImportCall(i)&&1===i.arguments.length&&e.isStringLiteralLike(i.arguments[0])?r=e.append(r,i.arguments[0]):e.isLiteralImportTypeNode(i)&&(r=e.append(r,i.argument.literal))}}(t),t.imports=r||e.emptyArray,t.moduleAugmentations=n||e.emptyArray,void(t.ambientModuleNames=i||e.emptyArray)}function _(a,s){if(e.isAnyImportOrReExport(a)){var c=e.getExternalModuleName(a);!(c&&e.isStringLiteral(c)&&c.text)||s&&e.isExternalModuleNameRelative(c.text)||(r=e.append(r,c))}else if(e.isModuleDeclaration(a)&&e.isAmbientModule(a)&&(s||e.hasModifier(a,2)||t.isDeclarationFile)){var u=e.getTextOfIdentifierOrLiteral(a.name);if(o||s&&!e.isExternalModuleNameRelative(u))(n||(n=[])).push(a.name);else if(!s){t.isDeclarationFile&&(i||(i=[])).push(u);var l=a.body;if(l)for(var d=0,p=l.statements;d<p.length;d++){_(p[d],!0)}}}}function d(t,r){for(var n=t,i=function(e){if(e.pos<=r&&(r<e.end||r===e.end&&1===e.kind))return e};;){var o=a&&e.hasJSDocNodes(n)&&e.forEach(n.jsDoc,i)||e.forEachChild(n,i);if(!o)return n;n=o}}}function dt(t,r,n,i){if(e.hasExtension(t)){if(!F.allowNonTsExtensions&&!e.forEach(te,(function(r){return e.fileExtensionIs(G.getCanonicalFileName(t),r)})))return void(n&&n(e.Diagnostics.File_0_has_unsupported_extension_The_only_supported_extensions_are_1,t,"'"+ee.join("', '")+"'"));var a=r(t);if(n)if(a)i&&G.getCanonicalFileName(t)===G.getCanonicalFileName(i.fileName)&&n(e.Diagnostics.A_file_cannot_have_a_reference_to_itself);else{var o=ht(t);o?n(e.Diagnostics.Output_file_0_has_not_been_built_from_source_file_1,o,t):n(e.Diagnostics.File_0_not_found,t)}return a}var s=F.allowNonTsExtensions&&r(t);if(s)return s;if(!n||!F.allowNonTsExtensions){var c=e.forEach(ee,(function(e){return r(t+e)}));return n&&!c&&n(e.Diagnostics.File_0_not_found,t+".ts"),c}n(e.Diagnostics.File_0_not_found,t)}function pt(e,r,n,i,a){dt(e,(function(e){return mt(e,Ke(e),r,n,a,i)}),(function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return B.add(Pt.apply(void 0,t([a,e],r)))}),a&&a.file)}function ft(t,r,n){B.add(Pt(n,e.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,t,r))}function mt(t,r,n,i,a,o){if(ye){var s=St(t);if(!s&&G.realpath&&F.preserveSymlinks&&e.isDeclarationFileName(t)&&e.stringContains(t,e.nodeModulesPathPart)){var c=G.realpath(t);c!==t&&(s=St(c))}if(s){var u=e.isString(s)?mt(s,Ke(s),n,i,a,o):void 0;return u&&yt(u,r,void 0),u}}var l,_=t;if(me.has(r)){var f=me.get(r);if(f&&F.forceConsistentCasingInFileNames){var m=t,g=f.fileName;Ke(g)!==Ke(m)&&(m=ht(t)||t),e.getNormalizedAbsolutePathWithoutRoot(g,Z)!==e.getNormalizedAbsolutePathWithoutRoot(m,Z)&&ft(m,g,a)}return f&&z.get(f.path)&&0===K?(z.set(f.path,!1),F.noResolve||(kt(f,n),Nt(f)),F.noLib||Ft(f),J.set(f.path,!1),It(f)):f&&J.get(f.path)&&K<j&&(J.set(f.path,!1),It(f)),gt(f||void 0,a),f||void 0}if(a&&!ye){var y=vt(t);if(y){if(y.commandLine.options.outFile||y.commandLine.options.out)return;var h=bt(y,t);t=h,l=Ke(h)}}var v=G.getSourceFile(t,F.target,(function(r){return B.add(Pt(a,e.Diagnostics.Cannot_read_file_0_Colon_1,t,r))}),he);if(o){var b=e.packageIdToString(o),x=de.get(b);if(x){var D=function(e,t,r,n,i,a){var o=Object.create(e);return o.fileName=r,o.path=n,o.resolvedPath=i,o.originalFileName=a,o.redirectInfo={redirectTarget:e,unredirected:t},z.set(n,K>0),Object.defineProperties(o,{id:{get:function(){return this.redirectInfo.redirectTarget.id},set:function(e){this.redirectInfo.redirectTarget.id=e}},symbol:{get:function(){return this.redirectInfo.redirectTarget.symbol},set:function(e){this.redirectInfo.redirectTarget.symbol=e}}}),o}(x,v,t,r,Ke(t),_);return fe.add(x.path,t),yt(D,r,l),pe.set(r,o.name),p.push(D),D}v&&(de.set(b,v),pe.set(r,o.name))}if(yt(v,r,l),v){if(z.set(r,K>0),v.path=r,v.resolvedPath=Ke(t),v.originalFileName=_,G.useCaseSensitiveFileNames()){var S=r.toLowerCase(),T=ge.get(S);T?ft(t,T.fileName,a):ge.set(S,v)}Y=Y||v.hasNoDefaultLib&&!i,F.noResolve||(kt(v,n),Nt(v)),F.noLib||Ft(v),It(v),n?d.push(v):p.push(v)}return gt(v,a),v}function gt(t,r){r&&t&&(x||(x=e.createMultiMap())).add(t.path,{kind:r.kind,index:r.index,file:r.file.path})}function yt(e,t,r){r?(me.set(r,e),me.set(t,e||!1)):me.set(t,e)}function ht(e){var t=vt(e);return t&&bt(t,e)}function vt(t){if(se&&se.length&&!e.fileExtensionIs(t,".d.ts"))return xt(t)}function bt(t,r){var n=t.commandLine.options.outFile||t.commandLine.options.out;return n?e.changeExtension(n,".d.ts"):e.getOutputDeclarationFileName(r,t.commandLine,!G.useCaseSensitiveFileNames())}function xt(t){void 0===ue&&(ue=e.createMap(),Dt((function(e,t){e&&Ke(F.configFilePath)!==t&&e.commandLine.fileNames.forEach((function(e){return ue.set(Ke(e),t)}))})));var r=ue.get(Ke(t));return r&&Ct(r)}function Dt(e){return Et(w,se,(function(t,r,n){var i=Ke(C((n?n.commandLine.projectReferences:w)[r]));return e(t,i)}))}function St(t){if(e.isDeclarationFileName(t))return void 0===le&&(le=e.createMap(),Dt((function(t){if(t){var r=t.commandLine.options.outFile||t.commandLine.options.out;if(r){var n=e.changeExtension(r,".d.ts");le.set(Ke(n),!0)}else e.forEach(t.commandLine.fileNames,(function(r){if(!e.fileExtensionIs(r,".d.ts")){var n=e.getOutputDeclarationFileName(r,t.commandLine,G.useCaseSensitiveFileNames());le.set(Ke(n),r)}}))}}))),le.get(Ke(t))}function Tt(e){return ye&&!!xt(e)}function Et(t,r,n,i){var a;return function t(r,n,i,o,s){if(s){var c=s(r,i);if(c)return c}return e.forEach(n,(function(r,n){if(!e.contains(a,r)){var c=o(r,n,i);if(c)return c;if(r)return(a||(a=[])).push(r),t(r.commandLine.projectReferences,r.references,r,o,s)}}))}(t,r,void 0,n,i)}function Ct(e){if(ce)return ce.get(e)||void 0}function kt(t,r){e.forEach(t.referencedFiles,(function(n,i){pt(a(n.fileName,t.originalFileName),r,!1,void 0,{kind:e.RefFileKind.ReferenceFile,index:i,file:t,pos:n.pos,end:n.end})}))}function Nt(t){var r=e.map(t.typeReferenceDirectives,(function(e){return e.fileName.toLocaleLowerCase()}));if(r)for(var n=W(r,t.originalFileName,xt(t.originalFileName)),i=0;i<r.length;i++){var a=t.typeReferenceDirectives[i],o=n[i],s=a.fileName.toLocaleLowerCase();e.setResolvedTypeReferenceDirective(t,s,o),At(s,o,{kind:e.RefFileKind.TypeReferenceDirective,index:i,file:t,pos:a.pos,end:a.end})}}function At(t,r,n){var i=R.get(t);if(!i||!i.primary){var a=!0;if(r){if(r.isExternalLibraryImport&&K++,r.primary)pt(r.resolvedFileName,!1,!1,r.packageId,n);else if(i){if(r.resolvedFileName!==i.resolvedFileName)G.readFile(r.resolvedFileName)!==Xe(i.resolvedFileName).text&&B.add(Pt(n,e.Diagnostics.Conflicting_definitions_for_0_found_at_1_and_2_Consider_installing_a_specific_version_of_this_library_to_resolve_the_conflict,t,r.resolvedFileName,i.resolvedFileName));a=!1}else pt(r.resolvedFileName,!1,!1,r.packageId,n);r.isExternalLibraryImport&&K--}else B.add(Pt(n,e.Diagnostics.Cannot_find_type_definition_file_for_0,t));a&&R.set(t,r)}}function Ft(t){e.forEach(t.libReferenceDirectives,(function(r){var n=r.fileName.toLocaleLowerCase(),i=e.libMap.get(n);if(i)ct(e.combinePaths(Q,i),!0,!0);else{var a=e.removeSuffix(e.removePrefix(n,"lib."),".d.ts"),o=e.getSpellingSuggestion(a,e.libs,e.identity),s=o?e.Diagnostics.Cannot_find_lib_definition_for_0_Did_you_mean_1:e.Diagnostics.Cannot_find_lib_definition_for_0;B.add(e.createFileDiagnostic(t,r.pos,r.end-r.pos,s,n,o))}}))}function Pt(r,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return r?e.createFileDiagnostic.apply(void 0,t([r.file,r.pos,r.end-r.pos,n],i)):e.createCompilerDiagnostic.apply(void 0,t([n],i))}function wt(e){return G.getCanonicalFileName(e)}function It(t){if(_t(t),t.imports.length||t.moduleAugmentations.length){var r=N(t),n=Ue(r,e.getNormalizedAbsolutePath(t.originalFileName,Z),t);e.Debug.assert(n.length===r.length);for(var i=0;i<r.length;i++){var a=n[i];if(e.setResolvedModule(t,r[i],a),a){var o=a.isExternalLibraryImport,s=!e.resolutionExtensionIsTSOrJson(a.extension),c=o&&s,u=a.resolvedFileName;o&&K++;var l=c&&K>j,_=u&&!k(F,a)&&!F.noResolve&&i<t.imports.length&&!l&&!(s&&!F.allowJs)&&(e.isInJSFile(t.imports[i])||!(4194304&t.imports[i].flags));if(l)J.set(t.path,!0);else if(_){var d=Ke(u),p=e.skipTrivia(t.text,t.imports[i].pos);mt(u,d,!1,!1,{kind:e.RefFileKind.Import,index:i,file:t,pos:p,end:t.imports[i].end},a.packageId)}o&&K--}}}else t.resolvedModules=void 0}function Ot(t,r){for(var n,i=!0,a=G.getCanonicalFileName(e.getNormalizedAbsolutePath(r,Z)),o=0,s=t;o<s.length;o++){var c=s[o];if(!c.isDeclarationFile)0!==G.getCanonicalFileName(e.getNormalizedAbsolutePath(c.fileName,Z)).indexOf(a)&&(n||(n=e.arrayToSet(A,Ke)),Lt(c,n,e.Diagnostics.File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files,c.fileName,r),i=!1)}return i}function Mt(t){ce||(ce=e.createMap());var r,n,i=C(t),a=Ke(i),o=ce.get(a);if(void 0!==o)return o||void 0;if(G.getParsedCommandLine){if(!(r=G.getParsedCommandLine(i)))return yt(void 0,a,void 0),void ce.set(a,!1);n=e.Debug.assertDefined(r.options.configFile),e.Debug.assert(!n.path||n.path===a),yt(n,a,void 0)}else{var s=e.getNormalizedAbsolutePath(e.getDirectoryPath(i),G.getCurrentDirectory());if(yt(n=G.getSourceFile(i,100),a,void 0),void 0===n)return void ce.set(a,!1);r=e.parseJsonSourceFileConfigFileContent(n,H,s,void 0,i)}n.path=a,n.resolvedPath=a,n.originalFileName=i;var c={commandLine:r,sourceFile:n};return ce.set(a,c),r.projectReferences&&(c.references=r.projectReferences.map(Mt)),c}function Lt(r,n,i){for(var a,o,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var u=x&&x.get(r.path),l=e.forEach(u,(function(e){return n.has(e.file)?e:void 0}))||e.elementAt(u,0);if(l){var _=e.Debug.assertDefined(Qe(l.file)),d=l.kind,p=l.index,f=void 0,m=void 0;switch(d){case e.RefFileKind.Import:f=e.skipTrivia(_.text,_.imports[p].pos),m=_.imports[p].end;break;case e.RefFileKind.ReferenceFile:f=(a=_.referencedFiles[p]).pos,m=a.end;break;case e.RefFileKind.TypeReferenceDirective:f=(o=_.typeReferenceDirectives[p]).pos,m=o.end;break;default:return e.Debug.assertNever(d)}$.add(e.createFileDiagnostic.apply(void 0,t([_,f,m-f,i],s)))}else $.add(e.createCompilerDiagnostic.apply(void 0,t([i],s)))}function Rt(t,r,n,i,a,o){for(var s=!0,c=0,u=jt();c<u.length;c++){var l=u[c];if(e.isObjectLiteralExpression(l.initializer))for(var _=0,d=e.getPropertyAssignment(l.initializer,t);_<d.length;_++){var p=d[_].initializer;e.isArrayLiteralExpression(p)&&p.elements.length>r&&($.add(e.createDiagnosticForNodeInSourceFile(F.configFile,p.elements[r],n,i,a,o)),s=!1)}}s&&$.add(e.createCompilerDiagnostic(n,i,a,o))}function Bt(t,r,n,i){for(var a=!0,o=0,s=jt();o<s.length;o++){var c=s[o];e.isObjectLiteralExpression(c.initializer)&&qt(c.initializer,t,r,void 0,n,i)&&(a=!1)}a&&$.add(e.createCompilerDiagnostic(n,i))}function jt(){return function(t){var r=Vt();if(r)return e.getPropertyAssignment(r,t)}("paths")||e.emptyArray}function Kt(e,t,r,n){Ut(!0,t,r,e,t,r,n)}function Jt(e,t,r){Ut(!1,e,void 0,t,r)}function zt(t,r,n,i,a){var o=e.firstDefined(e.getTsConfigPropArray(t||F.configFile,"references"),(function(t){return e.isArrayLiteralExpression(t.initializer)?t.initializer:void 0}));o&&o.elements.length>r?$.add(e.createDiagnosticForNodeInSourceFile(t||F.configFile,o.elements[r],n,i,a)):$.add(e.createCompilerDiagnostic(n,i,a))}function Ut(t,r,n,i,a,o,s){var c=Vt();(!c||!qt(c,t,r,n,i,a,o,s))&&$.add(e.createCompilerDiagnostic(i,a,o,s))}function Vt(){if(void 0===U){U=null;var t=e.getTsConfigObjectLiteralExpression(F.configFile);if(t)for(var r=0,n=e.getPropertyAssignment(t,"compilerOptions");r<n.length;r++){var i=n[r];if(e.isObjectLiteralExpression(i.initializer)){U=i.initializer;break}}}return U}function qt(t,r,n,i,a,o,s,c){for(var u=e.getPropertyAssignment(t,n,i),l=0,_=u;l<_.length;l++){var d=_[l];$.add(e.createDiagnosticForNodeInSourceFile(F.configFile,r?d.name:d.initializer,a,o,s,c))}return!!u.length}function Wt(e,t){re.set(Ke(e),!0),$.add(t)}function Gt(t,r){return 0===e.comparePaths(t,r,Z,!G.useCaseSensitiveFileNames())}function Ht(){return G.getSymlinks?G.getSymlinks():g||(g=e.discoverProbableSymlinks(m,wt,G.getCurrentDirectory()))}},e.parseConfigHostFromCompilerHostLike=T,e.createPrependNodes=E,e.resolveProjectReferencePath=C,e.getResolutionDiagnostic=k}(s||(s={})),function(e){e.getFileEmitOutput=function(e,t,r,n,i,a){var o=[],s=e.emit(t,(function(e,t,r){o.push({name:e,writeByteOrderMark:r,text:t})}),n,r,i,a);return{outputFiles:o,emitSkipped:s.emitSkipped,exportedModulesFromDeclarationEmit:s.exportedModulesFromDeclarationEmit}},e.cloneMapOrUndefined=function(t){return t?e.cloneMap(t):void 0}}(s||(s={})),function(e){!function(t){function n(t){if(t.declarations&&t.declarations[0]){var r=e.getSourceFileOfNode(t.declarations[0]);return r&&r.resolvedPath}}function i(e,t){var r=e.getSymbolAtLocation(t);return r&&n(r)}function a(t,r,n,i){return e.toPath(t.getProjectReferenceRedirect(r)||r,n,i)}function o(t,r,n){var o;if(r.imports&&r.imports.length>0)for(var s=t.getTypeChecker(),c=0,u=r.imports;c<u.length;c++){var l=i(s,u[c]);l&&S(l)}var _=e.getDirectoryPath(r.path);if(r.referencedFiles&&r.referencedFiles.length>0)for(var d=0,p=r.referencedFiles;d<p.length;d++){var f=p[d];S(a(t,f.fileName,_,n))}if(r.resolvedTypeReferenceDirectiveNames&&r.resolvedTypeReferenceDirectiveNames.forEach((function(e){if(e){var r=e.resolvedFileName;S(a(t,r,_,n))}})),r.moduleAugmentations.length){s=t.getTypeChecker();for(var m=0,g=r.moduleAugmentations;m<g.length;m++){var y=g[m];if(e.isStringLiteral(y)){var h=s.getSymbolAtLocation(y);h&&D(h)}}}for(var v=0,b=t.getTypeChecker().getAmbientModules();v<b.length;v++){var x=b[v];x.declarations.length>1&&D(x)}return o;function D(t){for(var n=0,i=t.declarations;n<i.length;n++){var a=i[n],o=e.getSourceFileOfNode(a);o&&o!==r&&S(o.resolvedPath)}}function S(t){o||(o=e.createMap()),o.set(t,!0)}}function s(e,t){return t&&!t.referencedMap==!e}function c(e,t){t.forEach((function(t,r){e.fileInfos.get(r).signature=t,e.hasCalledUpdateShapeSignature.set(r,!0)}))}function u(t,r,i,a,o,s,c){if(e.Debug.assert(!!i),e.Debug.assert(!c||!!t.exportedModulesMap,"Compute visible to outside map only if visibleToOutsideReferencedMap present in the state"),t.hasCalledUpdateShapeSignature.has(i.path)||a.has(i.path))return!1;var u=t.fileInfos.get(i.path);if(!u)return e.Debug.fail();var l,_=u.signature;if(i.isDeclarationFile){if(l=i.version,c&&l!==_){var d=t.referencedMap?t.referencedMap.get(i.path):void 0;c.set(i.path,d||!1)}}else{var p=e.getFileEmitOutput(r,i,!0,o,void 0,!0),f=p.outputFiles&&r.getCompilerOptions().declarationMap?p.outputFiles.length>1?p.outputFiles[1]:void 0:p.outputFiles.length>0?p.outputFiles[0]:void 0;f?(e.Debug.assert(e.fileExtensionIs(f.name,".d.ts"),"File extension for signature expected to be dts",(function(){return"Found: "+e.getAnyExtensionFromPath(f.name)+" for "+f.name+":: All output files: "+JSON.stringify(p.outputFiles.map((function(e){return e.name})))})),l=s(f.text),c&&l!==_&&function(t,r,i){if(!r)return void i.set(t.path,!1);var a;r.forEach((function(t){var r;(r=n(t))&&(a||(a=e.createMap()),a.set(r,!0))})),i.set(t.path,a||!1)}(i,p.exportedModulesFromDeclarationEmit,c)):l=_}return a.set(i.path,l),!_||l!==_}function l(t,r){if(!t.allFileNames){var n=r.getSourceFiles();t.allFileNames=n===e.emptyArray?e.emptyArray:n.map((function(e){return e.fileName}))}return t.allFileNames}function _(t,r){return e.arrayFrom(e.mapDefinedIterator(t.referencedMap.entries(),(function(e){var t=e[0];return e[1].has(r)?t:void 0})))}function d(t){return function(t){return e.some(t.moduleAugmentations,(function(t){return e.isGlobalScopeAugmentation(t.parent)}))}(t)||!e.isExternalModule(t)&&!function(t){for(var r=0,n=t.statements;r<n.length;r++){var i=n[r];if(!e.isModuleWithStringLiteralName(i))return!1}return!0}(t)}function p(t,r,n){if(t.allFilesExcludingDefaultLibraryFile)return t.allFilesExcludingDefaultLibraryFile;var i;c(n);for(var a=0,o=r.getSourceFiles();a<o.length;a++){var s=o[a];s!==n&&c(s)}return t.allFilesExcludingDefaultLibraryFile=i||e.emptyArray,t.allFilesExcludingDefaultLibraryFile;function c(e){r.isSourceFileDefaultLibrary(e)||(i||(i=[])).push(e)}}function f(e,t,r){var n=t.getCompilerOptions();return n&&(n.out||n.outFile)?[r]:p(e,t,r)}function m(t,r,n,i,a,o,s){if(d(n))return p(t,r,n);var c=r.getCompilerOptions();if(c&&(c.isolatedModules||c.out||c.outFile))return[n];var l=e.createMap();l.set(n.path,n);for(var f=_(t,n.resolvedPath);f.length>0;){var m=f.pop();if(!l.has(m)){var g=r.getSourceFileByPath(m);l.set(m,g),g&&u(t,r,g,i,a,o,s)&&f.push.apply(f,_(t,g.resolvedPath))}}return e.arrayFrom(e.mapDefinedIterator(l.values(),(function(e){return e})))}t.canReuseOldState=s,t.create=function(t,r,n){for(var i=e.createMap(),a=t.getCompilerOptions().module!==e.ModuleKind.None?e.createMap():void 0,c=a?e.createMap():void 0,u=e.createMap(),l=s(a,n),_=0,d=t.getSourceFiles();_<d.length;_++){var p=d[_],f=e.Debug.assertDefined(p.version,"Program intended to be used with Builder should have source files with versions set"),m=l?n.fileInfos.get(p.path):void 0;if(a){var g=o(t,p,r);if(g&&a.set(p.path,g),l){var y=n.exportedModulesMap.get(p.path);y&&c.set(p.path,y)}}i.set(p.path,{version:f,signature:m&&m.signature})}return{fileInfos:i,referencedMap:a,exportedModulesMap:c,hasCalledUpdateShapeSignature:u}},t.releaseCache=function(e){e.allFilesExcludingDefaultLibraryFile=void 0,e.allFileNames=void 0},t.clone=function(t){var n=e.createMap();return t.fileInfos.forEach((function(e,t){n.set(t,r({},e))})),{fileInfos:n,referencedMap:e.cloneMapOrUndefined(t.referencedMap),exportedModulesMap:e.cloneMapOrUndefined(t.exportedModulesMap),hasCalledUpdateShapeSignature:e.cloneMap(t.hasCalledUpdateShapeSignature)}},t.getFilesAffectedBy=function(t,r,n,i,a,o,s){var l=o||e.createMap(),_=r.getSourceFileByPath(n);if(!_)return e.emptyArray;if(!u(t,r,_,l,i,a,s))return[_];var d=(t.referencedMap?m:f)(t,r,_,l,i,a,s);return o||c(t,l),d},t.updateSignaturesFromCache=c,t.updateShapeSignature=u,t.updateExportedFilesMapFromCache=function(t,r){r&&(e.Debug.assert(!!t.exportedModulesMap),r.forEach((function(e,r){e?t.exportedModulesMap.set(r,e):t.exportedModulesMap.delete(r)})))},t.getAllDependencies=function(t,r,n){var i=r.getCompilerOptions();if(i.outFile||i.out)return l(t,r);if(!t.referencedMap||d(n))return l(t,r);for(var a=e.createMap(),o=[n.path];o.length;){var s=o.pop();if(!a.has(s)){a.set(s,!0);var c=t.referencedMap.get(s);if(c)for(var u=c.keys(),_=u.next();!_.done;_=u.next())o.push(_.value)}}return e.arrayFrom(e.mapDefinedIterator(a.keys(),(function(e){var t=r.getSourceFileByPath(e);return t?t.fileName:e})))},t.getReferencedByPaths=_}(e.BuilderState||(e.BuilderState={}))}(s||(s={})),function(e){var t;function n(t,r,n){var a=e.BuilderState.create(t,r,n);a.program=t;var o=t.getCompilerOptions();a.compilerOptions=o,o.outFile||o.out||(a.semanticDiagnosticsPerFile=e.createMap()),a.changedFilesSet=e.createMap();var s=e.BuilderState.canReuseOldState(a.referencedMap,n),c=s?n.compilerOptions:void 0,u=s&&n.semanticDiagnosticsPerFile&&!!a.semanticDiagnosticsPerFile&&!e.compilerOptionsAffectSemanticDiagnostics(o,c);if(s){if(!n.currentChangedFilePath){var l=n.currentAffectedFilesSignatures;e.Debug.assert(!(n.affectedFiles||l&&l.size),"Cannot reuse if only few affected files of currentChangedFile were iterated")}var _=n.changedFilesSet;u&&e.Debug.assert(!_||!e.forEachKey(_,(function(e){return n.semanticDiagnosticsPerFile.has(e)})),"Semantic diagnostics shouldnt be available for changed files"),_&&e.copyEntries(_,a.changedFilesSet),o.outFile||o.out||!n.affectedFilesPendingEmit||(a.affectedFilesPendingEmit=n.affectedFilesPendingEmit.slice(),a.affectedFilesPendingEmitKind=e.cloneMapOrUndefined(n.affectedFilesPendingEmitKind),a.affectedFilesPendingEmitIndex=n.affectedFilesPendingEmitIndex)}var d=a.referencedMap,p=s?n.referencedMap:void 0,f=u&&!o.skipLibCheck==!c.skipLibCheck,m=f&&!o.skipDefaultLibCheck==!c.skipDefaultLibCheck;return a.fileInfos.forEach((function(o,c){var l,_,g,y;if(!s||!(l=n.fileInfos.get(c))||l.version!==o.version||(g=_=d&&d.get(c),y=p&&p.get(c),g!==y&&(void 0===g||void 0===y||g.size!==y.size||e.forEachKey(g,(function(e){return!y.has(e)}))))||_&&e.forEachKey(_,(function(e){return!a.fileInfos.has(e)&&n.fileInfos.has(e)})))a.changedFilesSet.set(c,!0);else if(u){var h=t.getSourceFileByPath(c);if(h.isDeclarationFile&&!f)return;if(h.hasNoDefaultLib&&!m)return;var v=n.semanticDiagnosticsPerFile.get(c);v&&(a.semanticDiagnosticsPerFile.set(c,n.hasReusableDiagnostic?function(t,r,n){if(!t.length)return e.emptyArray;var a=e.getDirectoryPath(e.getNormalizedAbsolutePath(e.getTsBuildInfoEmitOutputFilePath(r.getCompilerOptions()),r.getCurrentDirectory()));return t.map((function(t){var n=i(t,r,o);n.reportsUnnecessary=t.reportsUnnecessary,n.source=t.source;var a=t.relatedInformation;return n.relatedInformation=a?a.length?a.map((function(e){return i(e,r,o)})):e.emptyArray:void 0,n}));function o(t){return e.toPath(t,a,n)}}(v,t,r):v),a.semanticDiagnosticsFromOldState||(a.semanticDiagnosticsFromOldState=e.createMap()),a.semanticDiagnosticsFromOldState.set(c,!0))}})),c&&e.compilerOptionsAffectEmit(o,c)&&(t.getSourceFiles().forEach((function(e){return v(a,e.path,1)})),e.Debug.assert(void 0===a.seenAffectedFiles),a.seenAffectedFiles=e.createMap()),a.emittedBuildInfo=!a.changedFilesSet.size&&!a.affectedFilesPendingEmit,a}function i(e,t,n){var i=e.file;return r(r({},e),{file:i?t.getSourceFileByPath(n(i)):void 0})}function a(t,r){e.Debug.assert(!r||!t.affectedFiles||t.affectedFiles[t.affectedFilesIndex-1]!==r||!t.semanticDiagnosticsPerFile.has(r.path))}function o(t,r,n){for(;;){var i=t.affectedFiles;if(i){for(var a=t.seenAffectedFiles,o=t.affectedFilesIndex;o<i.length;){var c=i[o];if(!a.has(c.path))return t.affectedFilesIndex=o,s(t,c,r,n),c;o++}t.changedFilesSet.delete(t.currentChangedFilePath),t.currentChangedFilePath=void 0,e.BuilderState.updateSignaturesFromCache(t,t.currentAffectedFilesSignatures),t.currentAffectedFilesSignatures.clear(),e.BuilderState.updateExportedFilesMapFromCache(t,t.currentAffectedFilesExportedModulesMap),t.affectedFiles=void 0}var u=t.changedFilesSet.keys().next();if(u.done)return;var l=e.Debug.assertDefined(t.program),_=l.getCompilerOptions();if(_.outFile||_.out)return e.Debug.assert(!t.semanticDiagnosticsPerFile),l;t.currentAffectedFilesSignatures=t.currentAffectedFilesSignatures||e.createMap(),t.exportedModulesMap&&(t.currentAffectedFilesExportedModulesMap=t.currentAffectedFilesExportedModulesMap||e.createMap()),t.affectedFiles=e.BuilderState.getFilesAffectedBy(t,l,u.value,r,n,t.currentAffectedFilesSignatures,t.currentAffectedFilesExportedModulesMap),t.currentChangedFilePath=u.value,t.affectedFilesIndex=0,t.seenAffectedFiles=t.seenAffectedFiles||e.createMap()}}function s(t,r,n,i){if(c(t,r.path),t.allFilesExcludingDefaultLibraryFile!==t.affectedFiles)!function(t,r,n){if(!t.exportedModulesMap||!t.changedFilesSet.has(r.path))return;if(!u(t,r.path))return;if(t.compilerOptions.isolatedModules){var i=e.createMap();i.set(r.path,!0);for(var a=e.BuilderState.getReferencedByPaths(t,r.resolvedPath);a.length>0;){var o=a.pop();if(!i.has(o))if(i.set(o,!0),n(t,o)&&u(t,o)){var s=e.Debug.assertDefined(t.program).getSourceFileByPath(o);a.push.apply(a,e.BuilderState.getReferencedByPaths(t,s.resolvedPath))}}}e.Debug.assert(!!t.currentAffectedFilesExportedModulesMap);var c=e.createMap();if(e.forEachEntry(t.currentAffectedFilesExportedModulesMap,(function(e,i){return e&&e.has(r.path)&&l(t,i,c,n)})))return;e.forEachEntry(t.exportedModulesMap,(function(e,i){return!t.currentAffectedFilesExportedModulesMap.has(i)&&e.has(r.path)&&l(t,i,c,n)}))}(t,r,(function(t,r){return function(t,r,n,i){if(c(t,r),!t.changedFilesSet.has(r)){var a=e.Debug.assertDefined(t.program),o=a.getSourceFileByPath(r);o&&(e.BuilderState.updateShapeSignature(t,a,o,e.Debug.assertDefined(t.currentAffectedFilesSignatures),n,i,t.currentAffectedFilesExportedModulesMap),e.getEmitDeclarations(t.compilerOptions)&&v(t,r,0))}return!1}(t,r,n,i)}));else if(!t.cleanedDiagnosticsOfLibFiles){t.cleanedDiagnosticsOfLibFiles=!0;var a=e.Debug.assertDefined(t.program),o=a.getCompilerOptions();e.forEach(a.getSourceFiles(),(function(r){return a.isSourceFileDefaultLibrary(r)&&!e.skipTypeChecking(r,o,a)&&c(t,r.path)}))}}function c(e,t){return!e.semanticDiagnosticsFromOldState||(e.semanticDiagnosticsFromOldState.delete(t),e.semanticDiagnosticsPerFile.delete(t),!e.semanticDiagnosticsFromOldState.size)}function u(t,r){return e.Debug.assertDefined(t.currentAffectedFilesSignatures).get(r)!==e.Debug.assertDefined(t.fileInfos.get(r)).signature}function l(t,r,n,i){return e.forEachEntry(t.referencedMap,(function(a,o){return a.has(r)&&function t(r,n,i,a){if(!e.addToSeen(i,n))return!1;if(a(r,n))return!0;e.Debug.assert(!!r.currentAffectedFilesExportedModulesMap);if(e.forEachEntry(r.currentAffectedFilesExportedModulesMap,(function(e,o){return e&&e.has(n)&&t(r,o,i,a)})))return!0;if(e.forEachEntry(r.exportedModulesMap,(function(e,o){return!r.currentAffectedFilesExportedModulesMap.has(o)&&e.has(n)&&t(r,o,i,a)})))return!0;return!!e.forEachEntry(r.referencedMap,(function(e,t){return e.has(n)&&!i.has(t)&&a(r,t)}))}(t,o,n,i)}))}function _(t,r,n,i,a){a?t.emittedBuildInfo=!0:r===t.program?(t.changedFilesSet.clear(),t.programEmitComplete=!0):(t.seenAffectedFiles.set(r.path,!0),void 0!==n&&(t.seenEmittedFiles||(t.seenEmittedFiles=e.createMap())).set(r.path,n),i?t.affectedFilesPendingEmitIndex++:t.affectedFilesIndex++)}function d(e,t,r){return _(e,r),{result:t,affected:r}}function p(e,t,r,n,i,a){return _(e,r,n,i,a),{result:t,affected:r}}function f(t,r,n){var i=r.path;if(t.semanticDiagnosticsPerFile){var a=t.semanticDiagnosticsPerFile.get(i);if(a)return a}var o=e.Debug.assertDefined(t.program).getSemanticDiagnostics(r,n);return t.semanticDiagnosticsPerFile&&t.semanticDiagnosticsPerFile.set(i,o),o}function m(t,r){var n={},i=e.getOptionNameMap().optionNameMap;for(var a in t)e.hasProperty(t,a)&&(n[a]=g(i.get(a.toLowerCase()),t[a],r));return n.configFilePath&&(n.configFilePath=r(n.configFilePath)),n}function g(e,t,r){if(e)if("list"===e.type){var n=t;if(e.element.isFilePath&&n.length)return n.map(r)}else if(e.isFilePath)return r(t);return t}function y(t,r){return e.Debug.assert(!!t.length),t.map((function(t){var n=h(t,r);n.reportsUnnecessary=t.reportsUnnecessary,n.source=t.source;var i=t.relatedInformation;return n.relatedInformation=i?i.length?i.map((function(e){return h(e,r)})):e.emptyArray:void 0,n}))}function h(e,t){var n=e.file;return r(r({},e),{file:n?t(n.path):void 0})}function v(t,r,n){t.affectedFilesPendingEmit||(t.affectedFilesPendingEmit=[]),t.affectedFilesPendingEmitKind||(t.affectedFilesPendingEmitKind=e.createMap());var i=t.affectedFilesPendingEmitKind.get(r);t.affectedFilesPendingEmit.push(r),t.affectedFilesPendingEmitKind.set(r,i||n),void 0===t.affectedFilesPendingEmitIndex&&(t.affectedFilesPendingEmitIndex=0)}function b(t,r){if(t){var n=e.createMap();for(var i in t)e.hasProperty(t,i)&&n.set(r(i),e.arrayToSet(t[i],r));return n}}function x(t,r){return{getState:e.notImplemented,backupState:e.noop,restoreState:e.noop,getProgram:n,getProgramOrUndefined:function(){return t.program},releaseProgram:function(){return t.program=void 0},getCompilerOptions:function(){return t.compilerOptions},getSourceFile:function(e){return n().getSourceFile(e)},getSourceFiles:function(){return n().getSourceFiles()},getOptionsDiagnostics:function(e){return n().getOptionsDiagnostics(e)},getGlobalDiagnostics:function(e){return n().getGlobalDiagnostics(e)},getConfigFileParsingDiagnostics:function(){return r},getSyntacticDiagnostics:function(e,t){return n().getSyntacticDiagnostics(e,t)},getDeclarationDiagnostics:function(e,t){return n().getDeclarationDiagnostics(e,t)},getSemanticDiagnostics:function(e,t){return n().getSemanticDiagnostics(e,t)},emit:function(e,t,r,i,a){return n().emit(e,t,r,i,a)},getAllDependencies:e.notImplemented,getCurrentDirectory:function(){return n().getCurrentDirectory()}};function n(){return e.Debug.assertDefined(t.program)}}!function(e){e[e.DtsOnly=0]="DtsOnly",e[e.Full=1]="Full"}(e.BuilderFileEmit||(e.BuilderFileEmit={})),function(e){e[e.SemanticDiagnosticsBuilderProgram=0]="SemanticDiagnosticsBuilderProgram",e[e.EmitAndSemanticDiagnosticsBuilderProgram=1]="EmitAndSemanticDiagnosticsBuilderProgram"}(t=e.BuilderProgramKind||(e.BuilderProgramKind={})),e.getBuilderCreationParameters=function(t,r,n,i,a,o){var s,c,u;return void 0===t?(e.Debug.assert(void 0===r),s=n,u=i,e.Debug.assert(!!u),c=u.getProgram()):e.isArray(t)?(u=i,c=e.createProgram({rootNames:t,options:r,host:n,oldProgram:u&&u.getProgramOrUndefined(),configFileParsingDiagnostics:a,projectReferences:o}),s=n):(c=t,s=r,u=n,a=i),{host:s,newProgram:c,oldProgram:u,configFileParsingDiagnostics:a||e.emptyArray}},e.createBuilderProgram=function(r,i){var s=i.newProgram,c=i.host,u=i.oldProgram,l=i.configFileParsingDiagnostics,g=u&&u.getState();if(g&&s===g.program&&l===s.getConfigFileParsingDiagnostics())return s=void 0,g=void 0,u;var h,b=e.createGetCanonicalFileName(c.useCaseSensitiveFileNames()),D=c.createHash||e.generateDjb2Hash,S=n(s,b,g);s.getProgramBuildInfo=function(){return function(t,r){if(!t.compilerOptions.outFile&&!t.compilerOptions.out){var n=e.Debug.assertDefined(t.program).getCurrentDirectory(),i=e.getDirectoryPath(e.getNormalizedAbsolutePath(e.getTsBuildInfoEmitOutputFilePath(t.compilerOptions),n)),a={};t.fileInfos.forEach((function(e,r){var n=t.currentAffectedFilesSignatures&&t.currentAffectedFilesSignatures.get(r);a[l(r)]=void 0===n?e:{version:e.version,signature:n}}));var o={fileInfos:a,options:m(t.compilerOptions,(function(t){return l(e.getNormalizedAbsolutePath(t,n))}))};if(t.referencedMap){var s={};t.referencedMap.forEach((function(t,r){s[l(r)]=e.arrayFrom(t.keys(),l)})),o.referencedMap=s}if(t.exportedModulesMap){var c={};t.exportedModulesMap.forEach((function(r,n){var i=t.currentAffectedFilesExportedModulesMap&&t.currentAffectedFilesExportedModulesMap.get(n);void 0===i?c[l(n)]=e.arrayFrom(r.keys(),l):i&&(c[l(n)]=e.arrayFrom(i.keys(),l))})),o.exportedModulesMap=c}if(t.semanticDiagnosticsPerFile){var u=[];t.semanticDiagnosticsPerFile.forEach((function(e,r){return u.push(e.length?[l(r),t.hasReusableDiagnostic?e:y(e,l)]:l(r))})),o.semanticDiagnosticsPerFile=u}return o}function l(t){return e.ensurePathIsNonModuleName(e.getRelativePathFromDirectory(i,t,r))}}(S,b)},s=void 0,u=void 0,g=void 0;var T=x(S,l);return T.getState=function(){return S},T.backupState=function(){e.Debug.assert(void 0===h),h=function(t){var r=e.BuilderState.clone(t);return r.semanticDiagnosticsPerFile=e.cloneMapOrUndefined(t.semanticDiagnosticsPerFile),r.changedFilesSet=e.cloneMap(t.changedFilesSet),r.affectedFiles=t.affectedFiles,r.affectedFilesIndex=t.affectedFilesIndex,r.currentChangedFilePath=t.currentChangedFilePath,r.currentAffectedFilesSignatures=e.cloneMapOrUndefined(t.currentAffectedFilesSignatures),r.currentAffectedFilesExportedModulesMap=e.cloneMapOrUndefined(t.currentAffectedFilesExportedModulesMap),r.seenAffectedFiles=e.cloneMapOrUndefined(t.seenAffectedFiles),r.cleanedDiagnosticsOfLibFiles=t.cleanedDiagnosticsOfLibFiles,r.semanticDiagnosticsFromOldState=e.cloneMapOrUndefined(t.semanticDiagnosticsFromOldState),r.program=t.program,r.compilerOptions=t.compilerOptions,r.affectedFilesPendingEmit=t.affectedFilesPendingEmit&&t.affectedFilesPendingEmit.slice(),r.affectedFilesPendingEmitKind=e.cloneMapOrUndefined(t.affectedFilesPendingEmitKind),r.affectedFilesPendingEmitIndex=t.affectedFilesPendingEmitIndex,r.seenEmittedFiles=e.cloneMapOrUndefined(t.seenEmittedFiles),r.programEmitComplete=t.programEmitComplete,r}(S)},T.restoreState=function(){S=e.Debug.assertDefined(h),h=void 0},T.getAllDependencies=function(t){return e.BuilderState.getAllDependencies(S,e.Debug.assertDefined(S.program),t)},T.getSemanticDiagnostics=function(t,r){a(S,t);var n,i=e.Debug.assertDefined(S.program).getCompilerOptions();if(i.outFile||i.out)return e.Debug.assert(!S.semanticDiagnosticsPerFile),e.Debug.assertDefined(S.program).getSemanticDiagnostics(t,r);if(t)return f(S,t,r);for(;C(r););for(var o=0,s=e.Debug.assertDefined(S.program).getSourceFiles();o<s.length;o++){var c=s[o];n=e.addRange(n,f(S,c,r))}return n||e.emptyArray},T.emit=function(n,i,o,s,u){if(r===t.EmitAndSemanticDiagnosticsBuilderProgram&&(a(S,n),!n)){for(var l=[],_=!1,d=void 0,p=[],f=void 0;f=E(i,o,s,u);)_=_||f.result.emitSkipped,d=e.addRange(d,f.result.diagnostics),p=e.addRange(p,f.result.emittedFiles),l=e.addRange(l,f.result.sourceMaps);return{emitSkipped:_,diagnostics:d||e.emptyArray,emittedFiles:p,sourceMaps:l}}return e.Debug.assertDefined(S.program).emit(n,i||e.maybeBind(c,c.writeFile),o,s,u)},T.releaseProgram=function(){!function(t){e.BuilderState.releaseCache(t),t.program=void 0}(S),h=void 0},r===t.SemanticDiagnosticsBuilderProgram?T.getSemanticDiagnosticsOfNextAffectedFile=C:r===t.EmitAndSemanticDiagnosticsBuilderProgram?(T.getSemanticDiagnosticsOfNextAffectedFile=C,T.emitNextAffectedFile=E):e.notImplemented(),T;function E(t,r,n,i){var a=o(S,r,D),s=1,u=!1;if(!a)if(S.compilerOptions.out||S.compilerOptions.outFile){var l=e.Debug.assertDefined(S.program);if(S.programEmitComplete||!e.some(l.getProjectReferences(),(function(e){return!!e.prepend})))return void(S.programEmitComplete=!0);a=l}else{var _=function(t){var r=t.affectedFilesPendingEmit;if(r){for(var n=t.seenEmittedFiles||(t.seenEmittedFiles=e.createMap()),i=t.affectedFilesPendingEmitIndex;i<r.length;i++){var a=e.Debug.assertDefined(t.program).getSourceFileByPath(r[i]);if(a){var o=n.get(a.path),s=e.Debug.assertDefined(e.Debug.assertDefined(t.affectedFilesPendingEmitKind).get(a.path));if(void 0===o||o<s)return t.affectedFilesPendingEmitIndex=i,{affectedFile:a,emitKind:s}}}t.affectedFilesPendingEmit=void 0,t.affectedFilesPendingEmitKind=void 0,t.affectedFilesPendingEmitIndex=void 0}}(S);if(!_){if(S.emittedBuildInfo)return;var d=e.Debug.assertDefined(S.program);return p(S,d.emitBuildInfo(t||e.maybeBind(c,c.writeFile),r),d,1,!1,!0)}a=_.affectedFile,s=_.emitKind,u=!0}return p(S,e.Debug.assertDefined(S.program).emit(a===S.program?void 0:a,t||e.maybeBind(c,c.writeFile),r,n||0===s,i),a,s,u)}function C(e,n){for(;;){var i=o(S,e,D);if(!i)return;if(i===S.program)return d(S,S.program.getSemanticDiagnostics(void 0,e),i);if(r===t.EmitAndSemanticDiagnosticsBuilderProgram&&v(S,i.path,1),!n||!n(i))return d(S,f(S,i,e),i);_(S,i)}}},e.createBuildProgramUsingProgramBuildInfo=function(t,r,n){var i=e.getDirectoryPath(e.getNormalizedAbsolutePath(r,n.getCurrentDirectory())),a=e.createGetCanonicalFileName(n.useCaseSensitiveFileNames()),o=e.createMap();for(var s in t.fileInfos)e.hasProperty(t.fileInfos,s)&&o.set(u(s),t.fileInfos[s]);var c={fileInfos:o,compilerOptions:e.convertToOptionsWithAbsolutePaths(t.options,(function(t){return e.getNormalizedAbsolutePath(t,i)})),referencedMap:b(t.referencedMap,u),exportedModulesMap:b(t.exportedModulesMap,u),semanticDiagnosticsPerFile:t.semanticDiagnosticsPerFile&&e.arrayToMap(t.semanticDiagnosticsPerFile,(function(t){return u(e.isString(t)?t:t[0])}),(function(t){return e.isString(t)?e.emptyArray:t[1]})),hasReusableDiagnostic:!0};return{getState:function(){return c},backupState:e.noop,restoreState:e.noop,getProgram:e.notImplemented,getProgramOrUndefined:e.returnUndefined,releaseProgram:e.noop,getCompilerOptions:function(){return c.compilerOptions},getSourceFile:e.notImplemented,getSourceFiles:e.notImplemented,getOptionsDiagnostics:e.notImplemented,getGlobalDiagnostics:e.notImplemented,getConfigFileParsingDiagnostics:e.notImplemented,getSyntacticDiagnostics:e.notImplemented,getDeclarationDiagnostics:e.notImplemented,getSemanticDiagnostics:e.notImplemented,emit:e.notImplemented,getAllDependencies:e.notImplemented,getCurrentDirectory:e.notImplemented,emitNextAffectedFile:e.notImplemented,getSemanticDiagnosticsOfNextAffectedFile:e.notImplemented};function u(t){return e.toPath(t,i,a)}},e.createRedirectedBuilderProgram=x}(s||(s={})),function(e){e.createSemanticDiagnosticsBuilderProgram=function(t,r,n,i,a,o){return e.createBuilderProgram(e.BuilderProgramKind.SemanticDiagnosticsBuilderProgram,e.getBuilderCreationParameters(t,r,n,i,a,o))},e.createEmitAndSemanticDiagnosticsBuilderProgram=function(t,r,n,i,a,o){return e.createBuilderProgram(e.BuilderProgramKind.EmitAndSemanticDiagnosticsBuilderProgram,e.getBuilderCreationParameters(t,r,n,i,a,o))},e.createAbstractBuilder=function(t,r,n,i,a,o){var s=e.getBuilderCreationParameters(t,r,n,i,a,o),c=s.newProgram,u=s.configFileParsingDiagnostics;return e.createRedirectedBuilderProgram({program:c,compilerOptions:c.getCompilerOptions()},u)}}(s||(s={})),function(e){function t(t){return e.some(e.ignoredPaths,(function(r){return e.stringContains(t,r)}))}function r(t){var r=e.getRootLength(t);if(t.length===r)return!1;var n=t.indexOf(e.directorySeparator,r);if(-1===n)return!1;var i=t.substring(r,n+1),a=r>1||47!==t.charCodeAt(0);if(a&&0!==t.search(/[a-zA-Z]:/)&&0===i.search(/[a-zA-z]\$\//)){if(-1===(n=t.indexOf(e.directorySeparator,n+1)))return!1;i=t.substring(r+i.length,n+1)}if(a&&0!==i.search(/users\//i))return!0;for(var o=n+1,s=2;s>0;s--)if(0===(o=t.indexOf(e.directorySeparator,o)+1))return!1;return!0}e.isPathIgnored=t,e.canWatchDirectory=r,e.maxNumberOfFilesToIterateForInvalidation=256,e.createResolutionCache=function(n,i,a){var o,s,c,u=!1,l=e.createMultiMap(),_=e.memoize((function(){return n.getCurrentDirectory()})),d=n.getCachedDirectoryStructureHost(),p=e.createMap(),f=e.createCacheWithRedirects(),m=e.createCacheWithRedirects(),g=e.createModuleResolutionCacheWithMaps(f,m,_(),n.getCanonicalFileName),y=e.createMap(),h=e.createCacheWithRedirects(),v=[".ts",".tsx",".js",".jsx",".json"],b=e.createMap(),x=e.createMap(),D=i&&e.removeTrailingDirectorySeparator(e.getNormalizedAbsolutePath(i,_())),S=D&&n.toPath(D),T=e.createMap();return{startRecordingFilesWithChangedResolutions:function(){o=[]},finishRecordingFilesWithChangedResolutions:function(){var e=o;return o=void 0,e},startCachingPerDirectoryResolution:A,finishCachingPerDirectoryResolution:function(){u=!1,c=void 0,A(),x.forEach((function(e,t){0===e.refCount&&(x.delete(t),e.watcher.close())}))},resolveModuleNames:function(t,r,n,i){return P(t,r,i,p,f,F,E,(function(t){return!t.resolvedModule||!e.resolutionExtensionIsTSOrJson(t.resolvedModule.extension)}),n,a)},getResolvedModuleWithFailedLookupLocationsFromCache:function(e,t){var r=p.get(n.toPath(t));return r&&r.get(e)},resolveTypeReferenceDirectives:function(t,r,n){return P(t,r,n,y,h,e.resolveTypeReferenceDirective,C,(function(e){return void 0===e.resolvedTypeReferenceDirective}),void 0,!1)},removeResolutionsFromProjectReferenceRedirects:function(t){if(!e.fileExtensionIs(t,".json"))return;var r=n.getCurrentProgram();if(!r)return;var i=r.getResolvedProjectReferenceByPath(t);if(!i)return;i.commandLine.fileNames.forEach((function(e){return W(n.toPath(e))}))},removeResolutionsOfFile:W,invalidateResolutionOfFile:function(e){W(e),H((function(t,r){var i=r(t);return!!i&&n.toPath(i.resolvedFileName)===e}))},setFilesWithInvalidatedNonRelativeUnresolvedImports:function(t){e.Debug.assert(c===t||void 0===c),c=t},createHasInvalidatedResolution:function(t){if(u||t)return s=void 0,e.returnTrue;var r=s;return s=void 0,function(e){return!!r&&r.has(e)||N(e)}},updateTypeRootsWatch:function(){var t=n.getCompilationSettings();if(t.types)return void X();var r=e.getEffectiveTypeRoots(t,{directoryExists:$,getCurrentDirectory:_});r?e.mutateMap(T,e.arrayToMap(r,(function(e){return n.toPath(e)})),{createNewValue:Q,onDeleteValue:e.closeFileWatcher}):X()},closeTypeRootsWatch:X,clear:function(){e.clearMap(x,e.closeFileWatcherOf),b.clear(),l.clear(),X(),p.clear(),y.clear(),u=!1,A()}};function E(e){return e.resolvedModule}function C(e){return e.resolvedTypeReferenceDirective}function k(t,r){return!(void 0===t||r.length<=t.length)&&(e.startsWith(r,t)&&r[t.length]===e.directorySeparator)}function N(e){if(!c)return!1;var t=c.get(e);return!!t&&!!t.length}function A(){f.clear(),m.clear(),h.clear(),l.forEach(K),l.clear()}function F(t,r,i,a,o){var s=e.resolveModuleName(t,r,i,a,g,o);if(!n.getGlobalCache)return s;var c=n.getGlobalCache();if(!(void 0===c||e.isExternalModuleNameRelative(t)||s.resolvedModule&&e.extensionIsTS(s.resolvedModule.extension))){var u=e.loadModuleFromGlobalCache(e.Debug.assertDefined(n.globalCacheResolutionModuleName)(t),n.projectName,i,a,c),l=u.resolvedModule,_=u.failedLookupLocations;if(l)return{resolvedModule:l,failedLookupLocations:e.addRange(s.failedLookupLocations,_)}}return s}function P(t,r,i,a,s,c,l,_,d,p){var f=n.toPath(r),m=a.get(f)||a.set(f,e.createMap()).get(f),g=e.getDirectoryPath(f),y=s.getOrCreateMapOfCacheRedirects(i),h=y.get(g);h||(h=e.createMap(),y.set(g,h));for(var v=[],b=n.getCompilationSettings(),x=p&&N(f),D=n.getCurrentProgram(),S=D&&D.getResolvedProjectReferenceToRedirect(r),T=S?!i||i.sourceFile.path!==S.sourceFile.path:!!i,E=e.createMap(),C=0,k=t;C<k.length;C++){var A=k[C],F=m.get(A);if(!E.has(A)&&u||T||!F||F.isInvalidated||x&&!e.isExternalModuleNameRelative(A)&&_(F)){var P=F,w=h.get(A);w?F=w:(F=c(A,r,b,n,i),h.set(A,F)),m.set(A,F),R(A,F),P&&z(P),p&&o&&!I(P,F)&&(o.push(f),p=!1)}e.Debug.assert(void 0!==F&&!F.isInvalidated),E.set(A,!0),v.push(l(F))}return m.forEach((function(t,r){E.has(r)||e.contains(d,r)||(z(t),m.delete(r))})),v;function I(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=l(e),n=l(t);return r===n||!(!r||!n)&&r.resolvedFileName===n.resolvedFileName}}function w(t){return e.endsWith(t,"/node_modules")}function I(t){return e.endsWith(t,"/node_modules/@types")}function O(t,r){if(k(S,r)){t=e.isRootedDiskPath(t)?e.normalizePath(t):e.getNormalizedAbsolutePath(t,_()),e.Debug.assert(t.length===r.length,"FailedLookup: "+t+" failedLookupLocationPath: "+r);var n=r.indexOf(e.directorySeparator,S.length+1);return-1!==n?{dir:t.substr(0,n),dirPath:r.substr(0,n)}:{dir:D,dirPath:S,nonRecursive:!1}}return M(e.getDirectoryPath(e.getNormalizedAbsolutePath(t,_())),e.getDirectoryPath(r))}function M(t,n){for(;e.pathContainsNodeModules(n);)t=e.getDirectoryPath(t),n=e.getDirectoryPath(n);if(w(n))return r(e.getDirectoryPath(n))?{dir:t,dirPath:n}:void 0;var i,a,o=!0;if(void 0!==S)for(;!k(n,S);){var s=e.getDirectoryPath(n);if(s===n)break;o=!1,i=n,a=t,n=s,t=e.getDirectoryPath(t)}return r(n)?{dir:a||t,dirPath:i||n,nonRecursive:o}:void 0}function L(t){return e.fileExtensionIsOneOf(t,v)}function R(t,r){r.failedLookupLocations&&r.failedLookupLocations.length&&(r.refCount?r.refCount++:(r.refCount=1,e.isExternalModuleNameRelative(t)?B(r):l.add(t,r)))}function B(t){e.Debug.assert(!!t.refCount);for(var r=!1,i=0,a=t.failedLookupLocations;i<a.length;i++){var o=a[i],s=n.toPath(o),c=O(o,s);if(c){var u=c.dir,l=c.dirPath,_=c.nonRecursive;if(!L(s)){var d=b.get(s)||0;b.set(s,d+1)}l===S?(e.Debug.assert(!_),r=!0):J(u,l,_)}}r&&J(D,S,!0)}function j(e){e.refCount=void 0}function K(e,t){var r=n.getCurrentProgram(),i=r&&r.getTypeChecker().tryFindAmbientModuleWithoutAugmentations(t)?j:B;e.forEach(i)}function J(t,r,n){var i=x.get(r);i?(e.Debug.assert(!!n==!!i.nonRecursive),i.refCount++):x.set(r,{watcher:V(t,r,n),refCount:1,nonRecursive:n})}function z(t){if(t.refCount&&(t.refCount--,!t.refCount)){for(var r=!1,i=0,a=t.failedLookupLocations;i<a.length;i++){var o=a[i],s=n.toPath(o),c=O(o,s);if(c){var u=c.dirPath,l=b.get(s);l&&(1===l?b.delete(s):(e.Debug.assert(l>1),b.set(s,l-1))),u===S?r=!0:U(u)}}r&&U(S)}}function U(e){x.get(e).refCount--}function V(e,t,r){return n.watchDirectoryOfFailedLookupLocation(e,(function(e){var r=n.toPath(e);d&&d.addOrDeleteFileOrDirectory(e,r),!u&&Y(r,t===r)&&n.onInvalidatedResolution()}),r?0:1)}function q(e,t){var r=e.get(t);r&&(r.forEach(z),e.delete(t))}function W(e){q(p,e),q(y,e)}function G(t,r,i){var a=e.createMap();t.forEach((function(t,o){var c=e.getDirectoryPath(o),u=a.get(c);u||(u=e.createMap(),a.set(c,u)),t.forEach((function(t,a){u.has(a)||(u.set(a,!0),!t.isInvalidated&&r(t,i)&&(t.isInvalidated=!0,(s||(s=e.createMap())).set(o,!0),o.endsWith(e.inferredTypesContainingFile)&&n.onChangedAutomaticTypeDirectiveNames()))}))}))}function H(t){var r;(r=n.maxNumberOfFilesToIterateForInvalidation||e.maxNumberOfFilesToIterateForInvalidation,p.size>r||y.size>r)?u=!0:(G(p,t,E),G(y,t,C))}function Y(r,i){var a;if(i)a=function(e){return k(r,n.toPath(e))};else{if(t(r))return!1;if(n.fileIsOpen(r))return!1;var o=e.getDirectoryPath(r);if(I(r)||w(r)||I(o)||w(o))a=function(t){return n.toPath(t)===r||e.startsWith(n.toPath(t),r)};else{if(!L(r)&&!b.has(r))return!1;if(e.isEmittedFileOfProgram(n.getCurrentProgram(),r))return!1;a=function(e){return n.toPath(e)===r}}}var c=s&&s.size;return H((function(t){return e.some(t.failedLookupLocations,a)})),u||s&&s.size!==c}function X(){e.clearMap(T,e.closeFileWatcher)}function Q(e,t){return n.watchTypeRootsDirectory(t,(function(r){var i=n.toPath(r);d&&d.addOrDeleteFileOrDirectory(r,i),n.onChangedAutomaticTypeDirectiveNames();var a=function(e,t){if(!u){if(k(S,t))return S;var r=M(e,t);return r&&x.has(r.dirPath)?r.dirPath:void 0}}(t,e);a&&Y(i,a===i)&&n.onInvalidatedResolution()}),1)}function $(t){var i=e.getDirectoryPath(e.getDirectoryPath(t)),a=n.toPath(i);return a===S||r(a)}}}(s||(s={})),function(e){!function(r){var n,i;function a(t,r,n){var i=t.importModuleSpecifierPreference,a=t.importModuleSpecifierEnding;return{relativePreference:"relative"===i?0:"non-relative"===i?1:2,ending:function(){switch(a){case"minimal":return 0;case"index":return 1;case"js":return 2;default:return function(t){var r=t.imports;return e.firstDefined(r,(function(t){var r=t.text;return e.pathIsRelative(r)?e.hasJSOrJsonFileExtension(r):void 0}))||!1}(n)?2:e.getEmitModuleResolutionKind(r)!==e.ModuleResolutionKind.NodeJs?1:0}}()}}function o(t,r,n,i,a,o,u){var l=s(r,i),_=d(a,r,n,l.getCanonicalFileName,i,o);return e.firstDefined(_,(function(e){return f(e,l,i,t)}))||c(n,l,t,u)}function s(t,r){return{getCanonicalFileName:e.createGetCanonicalFileName(!r.useCaseSensitiveFileNames||r.useCaseSensitiveFileNames()),sourceDirectory:e.getDirectoryPath(t)}}function c(t,r,n,i){var a=r.getCanonicalFileName,o=r.sourceDirectory,s=i.ending,c=i.relativePreference,l=n.baseUrl,_=n.paths,d=n.rootDirs,f=d&&function(t,r,n,i,a,o){var s=m(r,t,i);if(void 0===s)return;var c=m(n,t,i),u=void 0!==c?e.ensurePathIsNonModuleName(e.getRelativePathFromDirectory(c,s,i)):s;return e.getEmitModuleResolutionKind(o)===e.ModuleResolutionKind.NodeJs?g(u,a,o):e.removeFileExtension(u)}(d,t,o,a,s,n)||g(e.ensurePathIsNonModuleName(e.getRelativePathFromDirectory(o,t,a)),s,n);if(!l||0===c)return f;var v=y(t,l,a);if(!v)return f;var b=g(v,s,n),x=_&&p(e.removeFileExtension(v),b,_),D=void 0===x?b:x;return 1===c?D:(2!==c&&e.Debug.assertNever(c),h(D)||u(f)<u(D)?f:D)}function u(t){for(var r=0,n=e.startsWith(t,"./")?2:0;n<t.length;n++)47===t.charCodeAt(n)&&r++;return r}function l(e){var t=e.match(/\//g);return t?t.length:0}function _(t,r){return e.compareValues(l(t),l(r))}function d(r,n,i,a,o,s){var c=s.get(i),u=c?t(c,[i]):[i],l=o.getCurrentDirectory?o.getCurrentDirectory():"",d=u.map((function(t){return e.getNormalizedAbsolutePath(t,l)})),p=o.getProbableSymlinks?o.getProbableSymlinks(r):e.discoverProbableSymlinks(r,a,l),f=[],m=!o.useCaseSensitiveFileNames||o.useCaseSensitiveFileNames()?e.compareStringsCaseSensitive:e.compareStringsCaseInsensitive;if(p.forEach((function(t,r){if(!e.startsWithDirectory(n,t,a)){var i=e.find(d,(function(e){return 0===m(e.slice(0,t.length+1),t+"/")}));if(void 0!==i){var s=e.getRelativePathFromDirectory(t,i,a),c=e.resolvePath(r,s);o.fileExists&&!o.fileExists(c)||f.push(c)}}})),f.push.apply(f,d),f.length<2)return f;for(var g=e.arrayToMap(f,e.identity,a),y=[],h=function(t){var r,n=e.ensureTrailingDirectorySeparator(t);g.forEach((function(t,i){e.startsWith(t,n)&&((r||(r=[])).push(i),g.delete(i))})),r&&(r.length>1&&r.sort(_),y.push.apply(y,r))},v=e.getDirectoryPath(e.toPath(n,l,a));0!==g.size;v=e.getDirectoryPath(v))h(v);return y}function p(t,r,n){for(var i in n)for(var a=0,o=n[i];a<o.length;a++){var s=o[a],c=e.removeFileExtension(e.normalizePath(s)),u=c.indexOf("*");if(-1!==u){var l=c.substr(0,u),_=c.substr(u+1);if(r.length>=l.length+_.length&&e.startsWith(r,l)&&e.endsWith(r,_)||!_&&r===e.removeTrailingDirectorySeparator(l)){var d=r.substr(l.length,r.length-_.length);return i.replace("*",d)}}else if(c===r||c===t)return i}}function f(t,r,n,i,a){var o=r.getCanonicalFileName,s=r.sourceDirectory;if(n.fileExists&&n.readFile){var c=function(t){var r,n,i=0,a=0,o=0;!function(e){e[e.BeforeNodeModules=0]="BeforeNodeModules",e[e.NodeModules=1]="NodeModules",e[e.Scope=2]="Scope",e[e.PackageContent=3]="PackageContent"}(n||(n={}));var s=0,c=0,u=0;for(;c>=0;)switch(s=c,c=t.indexOf("/",s+1),u){case 0:t.indexOf(e.nodeModulesPathPart,s)===s&&(i=s,a=c,u=1);break;case 1:case 2:1===u&&"@"===t.charAt(s+1)?u=2:(o=c,u=3);break;case 3:u=t.indexOf(e.nodeModulesPathPart,s)===s?1:3}return r=s,u>1?{topLevelNodeModulesIndex:i,topLevelPackageNameIndex:a,packageRootIndex:o,fileNameIndex:r}:void 0}(t);if(c){var u,l=t.substring(0,c.packageRootIndex);if(!a){var _=e.combinePaths(l,"package.json"),d=(u=n.fileExists(_)?JSON.parse(n.readFile(_)):void 0)&&u.typesVersions?e.getPackageJsonTypesVersionsPaths(u.typesVersions):void 0;if(d){var f=t.slice(c.packageRootIndex+1),m=p(e.removeFileExtension(f),g(f,0,i),d.paths);void 0!==m&&(t=e.combinePaths(t.slice(0,c.packageRootIndex),m))}}var y=a?t:function(t){if(u){var r=u.typings||u.types||u.main;if(r){var i=e.toPath(r,l,o);if(e.removeFileExtension(i)===e.removeFileExtension(o(t)))return l}}var a=e.removeFileExtension(t);if("/index"===o(a.substring(c.fileNameIndex))&&!function(t,r){if(!t.fileExists)return;for(var n=e.getSupportedExtensions({allowJs:!0},[{extension:"node",isMixedContent:!1},{extension:"json",isMixedContent:!1,scriptKind:6}]),i=0,a=n;i<a.length;i++){var o=a[i],s=r+o;if(t.fileExists(s))return s}}(n,a.substring(0,c.fileNameIndex)))return a.substring(0,c.fileNameIndex);return a}(t),h=n.getGlobalTypingsCacheLocation&&n.getGlobalTypingsCacheLocation(),v=o(y.substring(0,c.topLevelNodeModulesIndex));if(e.startsWith(s,v)||h&&e.startsWith(o(h),v)){var b=y.substring(c.topLevelPackageNameIndex+1),x=e.getPackageNameFromTypesPackageName(b);return e.getEmitModuleResolutionKind(i)!==e.ModuleResolutionKind.NodeJs&&x===b?void 0:x}}}}function m(t,r,n){return e.firstDefined(r,(function(e){var r=y(t,e,n);return h(r)?void 0:r}))}function g(t,r,n){if(e.fileExtensionIs(t,".json"))return t;var i=e.removeFileExtension(t);switch(r){case 0:return e.removeSuffix(i,"/index");case 1:return i;case 2:return i+function(t,r){var n=e.extensionFromPath(t);switch(n){case".ts":case".d.ts":return".js";case".tsx":return 1===r.jsx?".jsx":".js";case".js":case".jsx":case".json":return n;case".tsbuildinfo":return e.Debug.fail("Extension .tsbuildinfo is unsupported:: FileName:: "+t);default:return e.Debug.assertNever(n)}}(t,n);default:return e.Debug.assertNever(r)}}function y(t,r,n){var i=e.getRelativePathToDirectoryOrUrl(r,t,r,n,!1);return e.isRootedDiskPath(i)?void 0:i}function h(t){return e.startsWith(t,"..")}!function(e){e[e.Relative=0]="Relative",e[e.NonRelative=1]="NonRelative",e[e.Auto=2]="Auto"}(n||(n={})),function(e){e[e.Minimal=0]="Minimal",e[e.Index=1]="Index",e[e.JsExtension=2]="JsExtension"}(i||(i={})),r.updateModuleSpecifier=function(t,r,n,i,a,s,c){var u=o(t,r,n,i,a,s,function(t,r){return{relativePreference:e.isExternalModuleNameRelative(r)?0:1,ending:e.hasJSOrJsonFileExtension(r)?2:e.getEmitModuleResolutionKind(t)!==e.ModuleResolutionKind.NodeJs||e.endsWith(r,"index")?1:0}}(t,c));if(u!==c)return u},r.getModuleSpecifier=function(e,t,r,n,i,s,c,u){return void 0===c&&(c={}),o(e,r,n,i,s,u,a(c,e,t))},r.getNodeModulesPackageName=function(t,r,n,i,a,o){var c=s(r,i),u=d(a,r,n,c.getCanonicalFileName,i,o);return e.firstDefined(u,(function(e){return f(e,c,i,t,!0)}))},r.getModuleSpecifiers=function(t,r,n,i,o,u,l){var _=function(t){var r=e.find(t.declarations,(function(t){return e.isNonGlobalAmbientModule(t)&&(!e.isExternalModuleAugmentation(t)||!e.isExternalModuleNameRelative(e.getTextOfIdentifierOrLiteral(t.name)))}));if(r)return r.name.text}(t);if(_)return[_];var p=s(n.path,i),m=e.getSourceFileOfNode(t.valueDeclaration||e.getNonAugmentationDeclaration(t)),g=d(o,n.path,m.originalFileName,p.getCanonicalFileName,i,l),y=a(u,r,n),h=e.mapDefined(g,(function(e){return f(e,p,i,r)}));return h.length?h:g.map((function(e){return c(e,p,r,y)}))},r.countPathComponents=u}(e.moduleSpecifiers||(e.moduleSpecifiers={}))}(s||(s={})),function(e){var r=e.sys?{getCurrentDirectory:function(){return e.sys.getCurrentDirectory()},getNewLine:function(){return e.sys.newLine},getCanonicalFileName:e.createGetCanonicalFileName(e.sys.useCaseSensitiveFileNames)}:void 0;function n(t,n){var i=t===e.sys?r:{getCurrentDirectory:function(){return t.getCurrentDirectory()},getNewLine:function(){return t.newLine},getCanonicalFileName:e.createGetCanonicalFileName(t.useCaseSensitiveFileNames)};if(!n)return function(r){return t.write(e.formatDiagnostic(r,i))};var a=new Array(1);return function(r){a[0]=r,t.write(e.formatDiagnosticsWithColorAndContext(a,i)+i.getNewLine()),a[0]=void 0}}function i(t,r,n){return!(!t.clearScreen||n.preserveWatchOutput||n.extendedDiagnostics||n.diagnostics||!e.contains(e.screenStartingMessageCodes,r.code))&&(t.clearScreen(),!0)}function a(e){return e.now?e.now().toLocaleTimeString("en-US",{timeZone:"UTC"}):(new Date).toLocaleTimeString()}function o(t,r){return r?function(r,n,o){i(t,r,o);var s="["+e.formatColorAndReset(a(t),e.ForegroundColorEscapeSequences.Grey)+"] ";s+=""+e.flattenDiagnosticMessageText(r.messageText,t.newLine)+(n+n),t.write(s)}:function(r,n,o){var s="";i(t,r,o)||(s+=n),s+=a(t)+" - ",s+=""+e.flattenDiagnosticMessageText(r.messageText,t.newLine)+function(t,r){return e.contains(e.screenStartingMessageCodes,t.code)?r+r:r}(r,n),t.write(s)}}function s(t){return e.countWhere(t,(function(t){return t.category===e.DiagnosticCategory.Error}))}function c(t){return 1===t?e.Diagnostics.Found_1_error_Watching_for_file_changes:e.Diagnostics.Found_0_errors_Watching_for_file_changes}function u(t,r){if(0===t)return"";var n=e.createCompilerDiagnostic(1===t?e.Diagnostics.Found_1_error:e.Diagnostics.Found_0_errors,t);return""+r+e.flattenDiagnosticMessageText(n.messageText,r)+r+r}function l(t,r){(t.getCompilerOptions().listFiles||t.getCompilerOptions().listFilesOnly)&&e.forEach(t.getSourceFiles(),(function(e){r(e.fileName)}))}function _(t,r,n,i,a,o,c,u){var _=!!t.getCompilerOptions().listFilesOnly,d=t.getConfigFileParsingDiagnostics().slice(),p=d.length;e.addRange(d,t.getSyntacticDiagnostics(void 0,o)),d.length===p&&(e.addRange(d,t.getOptionsDiagnostics(o)),_||(e.addRange(d,t.getGlobalDiagnostics(o)),d.length===p&&e.addRange(d,t.getSemanticDiagnostics(void 0,o))));var f=_?{emitSkipped:!0,diagnostics:e.emptyArray}:t.emit(void 0,a,o,c,u),m=f.emittedFiles,g=f.diagnostics;if(e.addRange(d,g),e.sortAndDeduplicateDiagnostics(d).forEach(r),n){var y=t.getCurrentDirectory();e.forEach(m,(function(t){var r=e.getNormalizedAbsolutePath(t,y);n("TSFILE: "+r)})),l(t,n)}return i&&i(s(d)),{emitResult:f,diagnostics:d}}function d(t,r,n,i,a,o,s,c){var u=_(t,r,n,i,a,o,s,c),l=u.emitResult,d=u.diagnostics;return l.emitSkipped&&d.length>0?e.ExitStatus.DiagnosticsPresent_OutputsSkipped:d.length>0?e.ExitStatus.D