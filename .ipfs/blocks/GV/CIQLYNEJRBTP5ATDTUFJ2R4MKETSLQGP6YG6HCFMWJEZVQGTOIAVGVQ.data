normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/eth-sig-util/dist/index.js"}],[1222,{"./utils":1224,"@ethereumjs/util":410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1223,{"./ethereumjs-abi-utils":1220,"./utils":1224,"@ethereumjs/util":410,buffer:2913,"ethereum-cryptography/keccak":3240,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("ethereum-cryptography/keccak"),s=e("ethjs-util"),o=e("./ethereumjs-abi-utils"),a=e("./utils");var c;function u(e,t){if(!Object.keys(c).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function l(e,r,d,h,p){if(u(p,[c.V3,c.V4]),e[d]!==undefined)return["bytes32",p===c.V4&&null==h?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,i.keccak256)(f(d,h,e,p)))];if(h===undefined)throw new Error(`missing value for field ${r} of type ${d}`);if("bytes"===d){if("number"==typeof h)h=(0,a.numberToBuffer)(h);else if((0,s.isHexString)(h)){const e=h.length%2?"0":"";h=t.from(e+h.slice(2),"hex")}else h=t.from(h,"utf8");return["bytes32",(0,n.arrToBufArr)((0,i.keccak256)(h))]}if("string"===d)return h="number"==typeof h?(0,a.numberToBuffer)(h):t.from(null!=h?h:"","utf8"),["bytes32",(0,n.arrToBufArr)((0,i.keccak256)(h))];if(d.endsWith("]")){if(p===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const t=d.slice(0,d.lastIndexOf("[")),s=h.map((n=>l(e,r,t,n,p)));return["bytes32",(0,n.arrToBufArr)((0,i.keccak256)((0,o.rawEncode)(s.map((([e])=>e)),s.map((([,e])=>e)))))]}return[d,h]}function f(e,t,r,n){u(n,[c.V3,c.V4]);const i=["bytes32"],s=[m(e,r)];for(const o of r[e]){if(n===c.V3&&t[o.name]===undefined)continue;const[e,a]=l(r,o.name,o.type,t[o.name],n);i.push(e),s.push(a)}return(0,o.rawEncode)(i,s)}function d(e,t){let r="";const n=h(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function h(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])h(n.type,t,r);return r}function p(e,t,r,s){u(s,[c.V3,c.V4]);const o=f(e,t,r,s),a=(0,i.keccak256)(o);return(0,n.arrToBufArr)(a)}function m(e,r){const s=t.from(d(e,r),"utf-8");return(0,n.arrToBufArr)((0,i.keccak256)(s))}function g(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function y(e,t){u(t,[c.V3,c.V4]);const r=g(e),{domain:n}=r;return p("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function b(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((function(e){return"bytes"!==e.type?e.value:(0,a.legacyToBuffer)(e.value)})),s=e.map((function(e){return e.type})),c=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,n.arrToBufArr)((0,i.keccak256)((0,o.solidityPack)(["bytes32","bytes32"],[(0,i.keccak256)((0,o.solidityPack)(new Array(e.length).fill("string"),c)),(0,i.keccak256)((0,o.solidityPack)(s,r))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(c=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:f,encodeType:d,findTypeDependencies:h,hashStruct:p,hashType:m,sanitizeData:g,eip712Hash:function(e,r){u(r,[c.V3,c.V4]);const s=g(e),o=[t.from("1901","hex")];return o.push(y(e,r)),"EIP712Domain"!==s.primaryType&&o.push(p(s.primaryType,s.message,s.types,r)),(0,n.arrToBufArr)((0,i.keccak256)(t.concat(o)))},eip712DomainHash:y},r.typedSignatureHash=function(e){const t=b(e);return(0,n.bufferToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(u(i),(0,a.isNullish)(t))throw new Error("Missing data parameter");if((0,a.isNullish)(e))throw new Error("Missing private key parameter");const s=i===c.V1?b(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,a.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(u(i),(0,a.isNullish)(e))throw new Error("Missing data parameter");if((0,a.isNullish)(t))throw new Error("Missing signature parameter");const s=i===c.V1?b(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,a.recoverPublicKey)(s,t),l=(0,n.publicToAddress)(o);return(0,n.bufferToHex)(l)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1224,{"@ethereumjs/util":410,buffer:2913,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.numberToBuffer=r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("ethjs-util");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,i.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),c=(0,n.bufferToInt)(e),u=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),f=(0,i.stripHexPrefix)((0,i.intToHex)(c));return(0,n.addHexPrefix)(u.concat(l,f))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,n.toBuffer)(e);e=(0,n.bufferToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,n.addHexPrefix)(e.toLowerCase())},r.numberToBuffer=function(e){const r=e.toString(16),n=r.length%2?"0":"";return t.from(n+r,"hex")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1225,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{AssertionError:function(){return s},assert:function(){return o},assertStruct:function(){return a},assertExhaustive:function(){return c}});const n=e("superstruct");function i(e,t){return r=e,Boolean("string"==typeof r?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var r}class s extends Error{constructor(e){var t,r,n;super(e.message),n="ERR_ASSERTION",(r="code")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}}function o(e,t="Assertion failed.",r=s){if(!e){if(t instanceof Error)throw t;throw i(r,t)}}function a(e,t,r="Assertion failed",o=s){try{(0,n.assert)(e,t)}catch(e){throw i(o,`${r}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}}function c(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/assert.js"}],[1226,{"./assert":1225,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"base64",{enumerable:!0,get:function(){return s}});const n=e("superstruct"),i=e("./assert"),s=(e,t={})=>{const r=t.paddingRequired??!1,s=t.characterSet??"base64";let o,a;return"base64"===s?o=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===s),o=String.raw`[-_A-Za-z0-9]`),a=r?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,n.pattern)(e,a)}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/base64.js"}],[1227,{"./assert":1225,"./hex":1233,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{isBytes:function(){return u},assertIsBytes:function(){return l},bytesToHex:function(){return f},bytesToBigInt:function(){return d},bytesToSignedBigInt:function(){return h},bytesToNumber:function(){return p},bytesToString:function(){return m},hexToBytes:function(){return g},bigIntToBytes:function(){return y},signedBigIntToBytes:function(){return b},numberToBytes:function(){return w},stringToBytes:function(){return k},valueToBytes:function(){return _},concatBytes:function(){return v},createDataView:function(){return E}});const n=e("./assert"),i=e("./hex"),s=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,n.assert)(u(e),"Value must be a Uint8Array.")}function f(e){if(l(e),0===e.length)return"0x";const t=c(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,i.add0x)(r.join(""))}function d(e){l(e);const t=f(e);return BigInt(t)}function h(e){l(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)}function p(e){l(e);const t=d(e);return(0,n.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function m(e){return l(e),(new TextDecoder).decode(e)}function g(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,i.assertIsHexString)(e);const t=(0,i.remove0x)(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),i=r.charCodeAt(2*e+1),c=t-(t<o?s:a),u=i-(i<o?s:a);n[e]=16*c+u}return n}function y(e){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return g(e.toString(16))}function b(e,t){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)("number"==typeof t,"Byte length must be a number."),(0,n.assert)(t>0,"Byte length must be greater than 0."),(0,n.assert)(function(e,t){(0,n.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const i=new Uint8Array(t);for(let e=0;e<i.length;e++)i[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return i.reverse()}function w(e){(0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return g(e.toString(16))}function k(e){return(0,n.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function _(e){if("bigint"==typeof e)return y(e);if("number"==typeof e)return w(e);if("string"==typeof e)return e.startsWith("0x")?g(e):k(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function v(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const i=_(e[n]);t[n]=i,r+=i.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n}function E(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/bytes.js"}],[1228,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{CAIP_CHAIN_ID_REGEX:function(){return i},CAIP_NAMESPACE_REGEX:function(){return s},CAIP_REFERENCE_REGEX:function(){return o},CAIP_ACCOUNT_ID_REGEX:function(){return a},CAIP_ACCOUNT_ADDRESS_REGEX:function(){return c},CaipChainIdStruct:function(){return u},CaipNamespaceStruct:function(){return l},CaipReferenceStruct:function(){return f},CaipAccountIdStruct:function(){return d},CaipAccountAddressStruct:function(){return h},isCaipChainId:function(){return p},isCaipNamespace:function(){return m},isCaipReference:function(){return g},isCaipAccountId:function(){return y},isCaipAccountAddress:function(){return b},parseCaipChainId:function(){return w},parseCaipAccountId:function(){return k}});const n=e("superstruct"),i=RegExp("^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$","u"),s=/^[-a-z0-9]{3,8}$/u,o=/^[-_a-zA-Z0-9]{1,32}$/u,a=RegExp("^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$","u"),c=/^[-.%a-zA-Z0-9]{1,128}$/u,u=(0,n.pattern)((0,n.string)(),i),l=(0,n.pattern)((0,n.string)(),s),f=(0,n.pattern)((0,n.string)(),o),d=(0,n.pattern)((0,n.string)(),a),h=(0,n.pattern)((0,n.string)(),c);function p(e){return(0,n.is)(e,u)}function m(e){return(0,n.is)(e,l)}function g(e){return(0,n.is)(e,f)}function y(e){return(0,n.is)(e,d)}function b(e){return(0,n.is)(e,h)}function w(e){const t=i.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function k(e){const t=a.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/caip-types.js"}],[1229,{"./base64":1226,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ChecksumStruct",{enumerable:!0,get:function(){return s}});const n=e("superstruct"),i=e("./base64"),s=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/checksum.js"}],[123,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:32,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=32;const r=t.data;return t.data=function(e){const{PreferencesController:t}=e;if(t){const{betaUI:e}=t.featureFlags||{};t.completedUiMigration=e}return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/032.js"}],[1230,{"./assert":1225,"./bytes":1227,"./hex":1233,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{createNumber:function(){return d},createBigInt:function(){return h},createBytes:function(){return p},createHex:function(){return m}});const n=e("superstruct"),i=e("./assert"),s=e("./bytes"),o=e("./hex"),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),o.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),a,Number),u=(0,n.coerce)((0,n.bigint)(),a,BigInt),l=((0,n.union)([o.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([o.StrictHexStruct]),s.hexToBytes)),f=(0,n.coerce)(o.StrictHexStruct,(0,n.instance)(Uint8Array),s.bytesToHex);function d(e){try{const t=(0,n.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}}function h(e){try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}}function p(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}function m(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,f)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/coercers.js"}],[1231,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function i(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,n(e,t,"get"))}function s(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function o(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,n(e,t,"set"),r),r}Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{FrozenMap:function(){return u},FrozenSet:function(){return d}});var a=new WeakMap;let c=Symbol.iterator;class u{get size(){return i(this,a).size}[c](){return i(this,a)[Symbol.iterator]()}entries(){return i(this,a).entries()}forEach(e,t){return i(this,a).forEach(((r,n,i)=>e.call(t,r,n,this)))}get(e){return i(this,a).get(e)}has(e){return i(this,a).has(e)}keys(){return i(this,a).keys()}values(){return i(this,a).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}constructor(e){s(this,a,{writable:!0,value:void 0}),o(this,a,new Map(e)),Object.freeze(this)}}var l=new WeakMap;let f=Symbol.iterator;class d{get size(){return i(this,l).size}[f](){return i(this,l)[Symbol.iterator]()}entries(){return i(this,l).entries()}forEach(e,t){return i(this,l).forEach(((r,n,i)=>e.call(t,r,n,this)))}has(e){return i(this,l).has(e)}keys(){return i(this,l).keys()}values(){return i(this,l).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}constructor(e){s(this,l,{writable:!0,value:void 0}),o(this,l,new Set(e)),Object.freeze(this)}}Object.freeze(u),Object.freeze(u.prototype),Object.freeze(d),Object.freeze(d.prototype)}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/collections.js"}],[1232,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/encryption-types.js"}],[1233,{"./assert":1225,"./bytes":1227,"@noble/hashes/sha3":2126,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{HexStruct:function(){return a},StrictHexStruct:function(){return c},HexAddressStruct:function(){return u},HexChecksumAddressStruct:function(){return l},isHexString:function(){return f},isStrictHexString:function(){return d},assertIsHexString:function(){return h},assertIsStrictHexString:function(){return p},isValidHexAddress:function(){return m},getChecksumAddress:function(){return g},isValidChecksumAddress:function(){return y},add0x:function(){return b},remove0x:function(){return w}});const n=e("@noble/hashes/sha3"),i=e("superstruct"),s=e("./assert"),o=e("./bytes"),a=(0,i.pattern)((0,i.string)(),/^(?:0x)?[0-9a-f]+$/iu),c=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]+$/iu),u=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]{40}$/u),l=(0,i.pattern)((0,i.string)(),/^0x[0-9a-fA-F]{40}$/u);function f(e){return(0,i.is)(e,a)}function d(e){return(0,i.is)(e,c)}function h(e){(0,s.assert)(f(e),"Value must be a hexadecimal string.")}function p(e){(0,s.assert)(d(e),'Value must be a hexadecimal string, starting with "0x".')}function m(e){return(0,i.is)(e,u)||y(e)}function g(e){(0,s.assert)((0,i.is)(e,l),"Invalid hex address.");const t=w(e.toLowerCase()),r=w((0,o.bytesToHex)((0,n.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=r[t];return(0,s.assert)((0,i.is)(n,(0,i.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function y(e){return!!(0,i.is)(e,l)&&g(e)===e}function b(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function w(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/hex.js"}],[1234,{"./assert":1225,"./base64":1226,"./bytes":1227,"./caip-types":1228,"./checksum":1229,"./coercers":1230,"./collections":1231,"./encryption-types":1232,"./hex":1233,"./json":1235,"./keyring":1236,"./logging":1237,"./misc":1238,"./number":1239,"./opaque":1240,"./time":1241,"./transaction-types":1242,"./versions":1243},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){return Object.keys(e).forEach((function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})),e}Object.defineProperty(r,"__esModule",{value:!0}),n(e("./assert"),r),n(e("./base64"),r),n(e("./bytes"),r),n(e("./caip-types"),r),n(e("./checksum"),r),n(e("./coercers"),r),n(e("./collections"),r),n(e("./encryption-types"),r),n(e("./hex"),r),n(e("./json"),r),n(e("./keyring"),r),n(e("./logging"),r),n(e("./misc"),r),n(e("./number"),r),n(e("./opaque"),r),n(e("./time"),r),n(e("./transaction-types"),r),n(e("./versions"),r)}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/index.js"}],[1235,{"./assert":1225,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{UnsafeJsonStruct:function(){return s},JsonStruct:function(){return o},isValidJson:function(){return a},getSafeJson:function(){return c},getJsonSize:function(){return u},jsonrpc2:function(){return l},JsonRpcVersionStruct:function(){return f},JsonRpcIdStruct:function(){return d},JsonRpcErrorStruct:function(){return h},JsonRpcParamsStruct:function(){return p},JsonRpcRequestStruct:function(){return m},JsonRpcNotificationStruct:function(){return g},isJsonRpcNotification:function(){return y},assertIsJsonRpcNotification:function(){return b},isJsonRpcRequest:function(){return w},assertIsJsonRpcRequest:function(){return k},PendingJsonRpcResponseStruct:function(){return _},JsonRpcSuccessStruct:function(){return v},JsonRpcFailureStruct:function(){return E},JsonRpcResponseStruct:function(){return T},isPendingJsonRpcResponse:function(){return S},assertIsPendingJsonRpcResponse:function(){return A},isJsonRpcResponse:function(){return I},assertIsJsonRpcResponse:function(){return P},isJsonRpcSuccess:function(){return x},assertIsJsonRpcSuccess:function(){return j},isJsonRpcFailure:function(){return N},assertIsJsonRpcFailure:function(){return C},isJsonRpcError:function(){return B},assertIsJsonRpcError:function(){return R},getJsonRpcIdValidator:function(){return O}});const n=e("superstruct"),i=e("./assert"),s=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>s))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>s)))]),o=(0,n.coerce)(s,(0,n.any)(),(e=>((0,i.assertStruct)(e,s),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t))))));function a(e){try{return c(e),!0}catch{return!1}}function c(e){return(0,n.create)(e,o)}function u(e){(0,i.assertStruct)(e,o,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength}const l="2.0",f=(0,n.literal)(l),d=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),h=(0,n.object)({code:(0,n.integer)(),message:(0,n.string)(),data:(0,n.optional)(o),stack:(0,n.optional)((0,n.string)())}),p=(0,n.union)([(0,n.record)((0,n.string)(),o),(0,n.array)(o)]),m=(0,n.object)({id:d,jsonrpc:f,method:(0,n.string)(),params:(0,n.optional)(p)}),g=(0,n.object)({jsonrpc:f,method:(0,n.string)(),params:(0,n.optional)(p)});function y(e){return(0,n.is)(e,g)}function b(e,t){(0,i.assertStruct)(e,g,"Invalid JSON-RPC notification",t)}function w(e){return(0,n.is)(e,m)}function k(e,t){(0,i.assertStruct)(e,m,"Invalid JSON-RPC request",t)}const _=(0,n.object)({id:d,jsonrpc:f,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(h)}),v=(0,n.object)({id:d,jsonrpc:f,result:o}),E=(0,n.object)({id:d,jsonrpc:f,error:h}),T=(0,n.union)([v,E]);function S(e){return(0,n.is)(e,_)}function A(e,t){(0,i.assertStruct)(e,_,"Invalid pending JSON-RPC response",t)}function I(e){return(0,n.is)(e,T)}function P(e,t){(0,i.assertStruct)(e,T,"Invalid JSON-RPC response",t)}function x(e){return(0,n.is)(e,v)}function j(e,t){(0,i.assertStruct)(e,v,"Invalid JSON-RPC success response",t)}function N(e){return(0,n.is)(e,E)}function C(e,t){(0,i.assertStruct)(e,E,"Invalid JSON-RPC failure response",t)}function B(e){return(0,n.is)(e,h)}function R(e,t){(0,i.assertStruct)(e,h,"Invalid JSON-RPC error",t)}function O(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/json.js"}],[1236,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/keyring.js"}],[1237,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{createProjectLogger:function(){return s},createModuleLogger:function(){return o}});function n(e){return e&&e.__esModule?e:{default:e}}const i=(0,n(e("debug")).default)("metamask");function s(e){return i.extend(e)}function o(e,t){return e.extend(t)}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/logging.js"}],[1238,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return Array.isArray(e)&&e.length>0}function i(e){return null===e||e===undefined}function s(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{JsonSize:function(){return c},isNonEmptyArray:function(){return n},isNullOrUndefined:function(){return i},isObject:function(){return s},hasProperty:function(){return o},getKnownPropertyNames:function(){return a},ESCAPE_CHARACTERS_REGEXP:function(){return u},isPlainObject:function(){return l},isASCII:function(){return f},calculateStringSize:function(){return d},calculateNumberSize:function(){return h}});const o=(e,t)=>Object.hasOwnProperty.call(e,t);function a(e){return Object.getOwnPropertyNames(e)}var c;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(c||(c={}));const u=/"|\\|\n|\r|\t/gu;function l(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}function f(e){return e.charCodeAt(0)<=127}function d(e){return e.split("").reduce(((e,t)=>f(t)?e+1:e+2),0)+(e.match(u)??[]).length}function h(e){return e.toString().length}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/misc.js"}],[1239,{"./assert":1225,"./hex":1233},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{numberToHex:function(){return s},bigIntToHex:function(){return o},hexToNumber:function(){return a},hexToBigInt:function(){return c}});const n=e("./assert"),i=e("./hex"),s=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16))),o=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16))),a=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},c=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/number.js"}],[124,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:33,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=33;const r=function(e){const t=e;e.NoticeController&&delete t.NoticeController;return t}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/033.js"}],[1240,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/opaque.js"}],[1241,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{Duration:function(){return n},inMilliseconds:function(){return s},timeSince:function(){return o}}),function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n||(n={}));const i=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function s(e,t){return i(e,"count"),e*t}function o(e){return i(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/time.js"}],[1242,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/transaction-types.js"}],[1243,{"./assert":1225,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{VersionStruct:function(){return o},VersionRangeStruct:function(){return a},isValidSemVerVersion:function(){return c},isValidSemVerRange:function(){return u},assertIsSemVerVersion:function(){return l},assertIsSemVerRange:function(){return f},gtVersion:function(){return d},gtRange:function(){return h},satisfiesVersionRange:function(){return p}});const n=e("semver"),i=e("superstruct"),s=e("./assert"),o=(0,i.refine)((0,i.string)(),"Version",(e=>null!==(0,n.valid)(e)||`Expected SemVer version, got "${e}"`)),a=(0,i.refine)((0,i.string)(),"Version range",(e=>null!==(0,n.validRange)(e)||`Expected SemVer range, got "${e}"`));function c(e){return(0,i.is)(e,o)}function u(e){return(0,i.is)(e,a)}function l(e){(0,s.assertStruct)(e,o)}function f(e){(0,s.assertStruct)(e,a)}function d(e,t){return(0,n.gt)(e,t)}function h(e,t){return(0,n.gtr)(e,t)}function p(e,t){return(0,n.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/eth-keyring-controller>@metamask/utils",file:"node_modules/@metamask/eth-keyring-controller/node_modules/@metamask/utils/dist/cjs/versions.js"}],[1244,{"@ethereumjs/tx":398,buffer:2913,"eth-sig-util":1245,"ethereumjs-util":3272,events:3331,hdkey:1254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){const{EventEmitter:n}=e("events"),i=e("hdkey"),s=e("ethereumjs-util"),o=e("eth-sig-util"),{TransactionFactory:a}=e("@ethereumjs/tx"),c="m",u=`${c}/44'/60'/0'`,l="Ledger Hardware",f={ropsten:"http://api-ropsten.etherscan.io",kovan:"http://api-kovan.etherscan.io",rinkeby:"https://api-rinkeby.etherscan.io",mainnet:"https://api.etherscan.io"};class d extends n{constructor(e={}){super(),this.accountDetails={},this.bridgeUrl=null,this.type=l,this.page=0,this.perPage=5,this.unlockedAccount=0,this.hdk=new i,this.paths={},this.iframe=null,this.network="mainnet",this.implementFullBIP44=!1,this.deserialize(e),this.iframeLoaded=!1,this._setupIframe(),this.currentMessageId=0,this.messageCallbacks={},this._setupListener()}serialize(){return Promise.resolve({hdPath:this.hdPath,accounts:this.accounts,accountDetails:this.accountDetails,bridgeUrl:this.bridgeUrl,implementFullBIP44:!1})}deserialize(e={}){return this.hdPath=e.hdPath||u,this.bridgeUrl=e.bridgeUrl||"https://metamask.github.io/eth-ledger-bridge-keyring",this.accounts=e.accounts||[],this.accountDetails=e.accountDetails||{},e.accountDetails||this._migrateAccountDetails(e),this.implementFullBIP44=e.implementFullBIP44||!1,this.accounts=this.accounts.filter((e=>Object.keys(this.accountDetails).includes(s.toChecksumAddress(e)))),Promise.resolve()}_migrateAccountDetails(e){if(this._isLedgerLiveHdPath()&&e.accountIndexes)for(const t of Object.keys(e.accountIndexes))this.accountDetails[t]={bip44:!0,hdPath:this._getPathForIndex(e.accountIndexes[t])};this._isLedgerLiveHdPath()||this.accounts.filter((e=>!Object.keys(this.accountDetails).includes(s.toChecksumAddress(e)))).forEach((e=>{try{this.accountDetails[s.toChecksumAddress(e)]={bip44:!1,hdPath:this._pathFromAddress(e)}}catch(t){console.log(`failed to migrate account ${e}`)}}))}isUnlocked(){return Boolean(this.hdk&&this.hdk.publicKey)}isConnected(){return this.isDeviceConnected}setAccountToUnlock(e){this.unlockedAccount=parseInt(e,10)}setHdPath(e){this.hdPath!==e&&(this.hdk=new i),this.hdPath=e}unlock(e,t=!0){if(this.isUnlocked()&&!e)return Promise.resolve("already unlocked");const n=e?this._toLedgerPath(e):this.hdPath;return new Promise(((e,i)=>{this._sendMessage({action:"ledger-unlock",params:{hdPath:n}},(({success:n,payload:s})=>{n?(t&&(this.hdk.publicKey=r.from(s.publicKey,"hex"),this.hdk.chainCode=r.from(s.chainCode,"hex")),e(s.address)):i(s.error||new Error("Unknown error"))}))}))}addAccounts(e=1){return new Promise(((t,r)=>{this.unlock().then((async r=>{const n=this.unlockedAccount,i=n+e;for(let e=n;e<i;e++){const t=this._getPathForIndex(e);let r;r=this._isLedgerLiveHdPath()?await this.unlock(t):this._addressFromIndex(c,e),this.accountDetails[s.toChecksumAddress(r)]={bip44:this._isLedgerLiveHdPath(),hdPath:t},this.accounts.includes(r)||this.accounts.push(r),this.page=0}t(this.accounts)})).catch(r)}))}getFirstPage(){return this.page=0,this.__getPage(1)}getNextPage(){return this.__getPage(1)}getPreviousPage(){return this.__getPage(-1)}getAccounts(){return Promise.resolve(this.accounts.slice())}removeAccount(e){if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase())),delete this.accountDetails[s.toChecksumAddress(e)]}attemptMakeApp(){return new Promise(((e,t)=>{this._sendMessage({action:"ledger-make-app"},(({success:r,error:n})=>{r?e(!0):t(n)}))}))}updateTransportMethod(e){return new Promise(((t,r)=>{this.iframeLoaded?this._sendMessage({action:"ledger-update-transport",params:{transportType:e}},(({success:e})=>{e?t(!0):r(new Error("Ledger transport could not be updated"))})):this.delayedPromise={resolve:t,reject:r,transportType:e}}))}signTransaction(e,t){let n;if("function"==typeof t.getChainId)return t.v=s.bufferToHex(t.getChainId()),t.r="0x00",t.s="0x00",n=t.serialize().toString("hex"),this._signTransaction(e,n,(e=>(t.v=r.from(e.v,"hex"),t.r=r.from(e.r,"hex"),t.s=r.from(e.s,"hex"),t)));const i=t.getMessageToSign(!1);return n=r.isBuffer(i)?i.toString("hex"):s.rlp.encode(i).toString("hex"),this._signTransaction(e,n,(e=>{const r=t.toJSON();return r.type=t.type,r.v=s.addHexPrefix(e.v),r.r=s.addHexPrefix(e.r),r.s=s.addHexPrefix(e.s),a.fromTxData(r,{common:t.common,freeze:Object.isFrozen(t)})}))}_signTransaction(e,t,r){return new Promise(((n,i)=>{this.unlockAccountByAddress(e).then((e=>{this._sendMessage({action:"ledger-sign-transaction",params:{tx:t,hdPath:e}},(({success:e,payload:t})=>{if(e){const e=r(t);e.verifySignature()?n(e):i(new Error("Ledger: The transaction signature is not valid"))}else i(t.error||new Error("Ledger: Unknown error while signing transaction"))}))})).catch(i)}))}signMessage(e,t){return this.signPersonalMessage(e,t)}signPersonalMessage(e,t){return new Promise(((r,n)=>{this.unlockAccountByAddress(e).then((i=>{this._sendMessage({action:"ledger-sign-personal-message",params:{hdPath:i,message:s.stripHexPrefix(t)}},(({success:i,payload:a})=>{if(i){let i=parseInt(a.v,10);i=i.toString(16),i.length<2&&(i=`0${i}`);const c=`0x${a.r}${a.s}${i}`,u=o.recoverPersonalSignature({data:t,sig:c});s.toChecksumAddress(u)!==s.toChecksumAddress(e)&&n(new Error("Ledger: The signature doesnt match the right address")),r(c)}else n(a.error||new Error("Ledger: Unknown error while signing message"))}))})).catch(n)}))}async unlockAccountByAddress(e){const t=s.toChecksumAddress(e);if(!Object.keys(this.accountDetails).includes(t))throw new Error(`Ledger: Account for address '${t}' not found`);const{hdPath:r}=this.accountDetails[t];if((await this.unlock(r,!1)).toLowerCase()!==e.toLowerCase())throw new Error(`Ledger: Account ${e} does not belong to the connected device`);return r}async signTypedData(e,t,r={}){const n="V4"===r.version;if(!n)throw new Error("Ledger: Only version 4 of typed data signing is supported");const{domain:i,types:a,primaryType:c,message:u}=o.TypedDataUtils.sanitizeData(t),l=o.TypedDataUtils.hashStruct("EIP712Domain",i,a,n).toString("hex"),f=o.TypedDataUtils.hashStruct(c,u,a,n).toString("hex"),d=await this.unlockAccountByAddress(e),{success:h,payload:p}=await new Promise((e=>{this._sendMessage({action:"ledger-sign-typed-data",params:{hdPath:d,domainSeparatorHex:l,hashStructMessageHex:f}},(t=>e(t)))}));if(h){let r=parseInt(p.v,10);r=r.toString(16),r.length<2&&(r=`0${r}`);const n=`0x${p.r}${p.s}${r}`,i=o.recoverTypedSignature_v4({data:t,sig:n});if(s.toChecksumAddress(i)!==s.toChecksumAddress(e))throw new Error("Ledger: The signature doesnt match the right address");return n}throw p.error||new Error("Ledger: Unknown error while signing message")}exportAccount(){throw new Error("Not supported on this device")}forgetDevice(){this.accounts=[],this.page=0,this.unlockedAccount=0,this.paths={},this.accountDetails={},this.hdk=new i}_setupIframe(){this.iframe=document.createElement("iframe"),this.iframe.src=this.bridgeUrl,this.iframe.allow="hid 'src'",this.iframe.onload=async()=>{if(this.iframeLoaded=!0,this.delayedPromise)try{const e=await this.updateTransportMethod(this.delayedPromise.transportType);this.delayedPromise.resolve(e)}catch(e){this.delayedPromise.reject(e)}finally{delete this.delayedPromise}},document.head.appendChild(this.iframe)}_getOrigin(){const e=this.bridgeUrl.split("/");return e.splice(-1,1),e.join("/")}_sendMessage(e,t){e.target="LEDGER-IFRAME",this.currentMessageId+=1,e.messageId=this.currentMessageId,this.messageCallbacks[this.currentMessageId]=t,this.iframe.contentWindow.postMessage(e,"*")}_setupListener(){this._eventListener=({origin:e,data:t})=>e===this._getOrigin()&&(t&&(this.messageCallbacks[t.messageId]?this.messageCallbacks[t.messageId](t):"ledger-connection-change"===t.action&&(this.isDeviceConnected=t.payload.connected)),undefined),window.addEventListener("message",this._eventListener)}destroy(){window.removeEventListener("message",this._eventListener)}async __getPage(e){this.page+=e,this.page<=0&&(this.page=1);const t=(this.page-1)*this.perPage,r=t+this.perPage;let n;return await this.unlock(),n=this._isLedgerLiveHdPath()?await this._getAccountsBIP44(t,r):this._getAccountsLegacy(t,r),n}async _getAccountsBIP44(e,t){const r=[];for(let n=e;n<t;n++){const e=this._getPathForIndex(n),t=await this.unlock(e),i=!this.implementFullBIP44||await this._hasPreviousTransactions(t);if(r.push({address:t,balance:null,index:n}),!i)break}return r}_getAccountsLegacy(e,t){const r=[];for(let n=e;n<t;n++){const e=this._addressFromIndex(c,n);r.push({address:e,balance:null,index:n}),this.paths[s.toChecksumAddress(e)]=n}return r}_padLeftEven(e){return e.length%2==0?e:`0${e}`}_normalize(e){return this._padLeftEven(s.bufferToHex(e).toLowerCase())}_addressFromIndex(e,t){const r=this.hdk.derive(`${e}/${t}`),n=s.publicToAddress(r.publicKey,!0).toString("hex");return s.toChecksumAddress(`0x${n}`)}_pathFromAddress(e){const t=s.toChecksumAddress(e);let r=this.paths[t];if(void 0===r)for(let e=0;e<1e3;e++)if(t===this._addressFromIndex(c,e)){r=e;break}if(void 0===r)throw new Error("Unknown address");return this._getPathForIndex(r)}_toAscii(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t}_getPathForIndex(e){return this._isLedgerLiveHdPath()?`m/44'/60'/${e}'/0/0`:`${this.hdPath}/${e}`}_isLedgerLiveHdPath(){return"m/44'/60'/0'/0/0"===this.hdPath}_toLedgerPath(e){return e.toString().replace("m/","")}async _hasPreviousTransactions(e){const t=this._getApiUrl(),r=await window.fetch(`${t}/api?module=account&action=txlist&address=${e}&tag=latest&page=1&offset=1`),n=await r.json();return"0"!==n.status&&n.result.length>0}_getApiUrl(){return f[this.network]||f.mainnet}}d.type=l,t.exports=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring",file:"node_modules/@metamask/eth-ledger-bridge-keyring/index.js"}],[1245,{buffer:2913,"ethereumjs-abi":3249,"ethereumjs-util":1246,tweetnacl:4651,"tweetnacl-util":4650},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=e("ethereumjs-util"),s=e("ethereumjs-abi"),o=e("tweetnacl");o.util=e("tweetnacl-util");const a={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},c={encodeData(e,t,r,o=!0){const a=["bytes32"],c=[this.hashType(e,r)];if(o){const u=(e,t,a)=>{if(r[t]!==undefined)return["bytes32",null===a||a===undefined?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,a,r,o))];if(a===undefined)throw new Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(a)];if("string"===t)return"string"==typeof a&&(a=n.from(a,"utf8")),["bytes32",i.keccak(a)];if(t.lastIndexOf("]")===t.length-1){const r=t.slice(0,t.lastIndexOf("[")),n=a.map((t=>u(e,r,t)));return["bytes32",i.keccak(s.rawEncode(n.map((([e])=>e)),n.map((([,e])=>e))))]}return[t,a]};for(const n of r[e]){const[e,r]=u(n.name,n.type,t[n.name]);a.push(e),c.push(r)}}else for(const s of r[e]){let e=t[s.name];if(e!==undefined)if("bytes"===s.type)a.push("bytes32"),e=i.keccak(e),c.push(e);else if("string"===s.type)a.push("bytes32"),"string"==typeof e&&(e=n.from(e,"utf8")),e=i.keccak(e),c.push(e);else if(r[s.type]!==undefined)a.push("bytes32"),e=i.keccak(this.encodeData(s.type,e,r,o)),c.push(e);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(s.type),c.push(e)}}return s.rawEncode(a,c)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter((t=>t!==e));n=[e].concat(n.sort());for(const e of n){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r},findTypeDependencies(e,t,r=[]){const[n]=e.match(/^\w*/u);if(e=n,r.includes(e)||t[e]===undefined)return r;r.push(e);for(const n of t[e])for(const e of this.findTypeDependencies(n.type,t,r))!r.includes(e)&&r.push(e);return r},hashStruct(e,t,r,n=!0){return i.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r of Object.keys(a.properties))e[r]&&(t[r]=e[r]);return t.types&&(t.types={EIP712Domain:[],...t.types}),t},sign(e,t=!0){const r=this.sanitizeData(e),s=[n.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&s.push(this.hashStruct(r.primaryType,r.message,r.types,t)),i.keccak(n.concat(s))}};function u(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value})),n=e.map((function(e){return e.type})),o=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return s.soliditySHA3(["bytes32","bytes32"],[s.soliditySHA3(new Array(e.length).fill("string"),o),s.soliditySHA3(n,r)])}function l(e,t){const r=i.toBuffer(t),n=i.fromRpcSig(r);return i.ecrecover(e,n.v,n.r,n.s)}function f(e){const t=i.toBuffer(e.data);return l(i.hashPersonalMessage(t),e.sig)}function d(e,t){let r=`${e}`;for(;r.length<t;)r=`0${r}`;return r}function h(e){const t=n.from(e,"hex").toString("base64");return o.util.decodeBase64(t)}t.exports={TYPED_MESSAGE_SCHEMA:a,TypedDataUtils:c,concatSig(e,t,r){const n=i.fromSigned(t),s=i.fromSigned(r),o=i.bufferToInt(e),a=d(i.toUnsigned(n).toString("hex"),64),c=d(i.toUnsigned(s).toString("hex"),64),u=i.stripHexPrefix(i.intToHex(o));return i.addHexPrefix(a.concat(c,u)).toString("hex")},normalize(e){if(!e)return undefined;if("number"==typeof e){const t=i.toBuffer(e);e=i.bufferToHex(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return i.addHexPrefix(e.toLowerCase())},personalSign(e,t){const r=i.toBuffer(t.data),n=i.hashPersonalMessage(r),s=i.ecsign(n,e);return i.bufferToHex(this.concatSig(s.v,s.r,s.s))},recoverPersonalSignature(e){const t=f(e),r=i.publicToAddress(t);return i.bufferToHex(r)},extractPublicKey:e=>`0x${f(e).toString("hex")}`,typedSignatureHash(e){const t=u(e);return i.bufferToHex(t)},signTypedDataLegacy(e,t){const r=u(t.data),n=i.ecsign(r,e);return i.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignatureLegacy(e){const t=l(u(e.data),e.sig),r=i.publicToAddress(t);return i.bufferToHex(r)},encrypt(e,t,r){if("x25519-xsalsa20-poly1305"===r){if(void 0===t.data)throw new Error('Cannot detect secret message, message params should be of the form {data: "secret message"} ');const r=o.box.keyPair();let n;try{n=o.util.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const i=o.util.decodeUTF8(t.data),s=o.randomBytes(o.box.nonceLength),a=o.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.util.encodeBase64(s),ephemPublicKey:o.util.encodeBase64(r.publicKey),ciphertext:o.util.encodeBase64(a)}}throw new Error("Encryption type/version not supported")},encryptSafely(e,t,r){const{data:i}=t;if(!i)throw new Error("Cannot encrypt empty msg.data");if("object"==typeof i&&i.toJSON)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:i,padding:""},o=n.byteLength(JSON.stringify(s),"utf-8")%2048;let a=0;o>0&&(a=2048-o-16),s.padding="0".repeat(a);const c={data:JSON.stringify(s)};return this.encrypt(e,c,r)},decrypt(e,t){if("x25519-xsalsa20-poly1305"===e.version){const r=h(t),n=o.box.keyPair.fromSecretKey(r).secretKey,i=o.util.decodeBase64(e.nonce),s=o.util.decodeBase64(e.ciphertext),a=o.util.decodeBase64(e.ephemPublicKey),c=o.box.open(s,i,a,n);let u;try{u=o.util.encodeUTF8(c)}catch(e){throw new Error("Decryption failed.")}if(u)return u;throw new Error("Decryption failed.")}throw new Error("Encryption type/version not supported.")},decryptSafely(e,t){return JSON.parse(this.decrypt(e,t)).data},getEncryptionPublicKey(e){const t=h(e),r=o.box.keyPair.fromSecretKey(t).publicKey;return o.util.encodeBase64(r)},signTypedMessage(e,t,r="V4"){switch(r){case"V1":return this.signTypedDataLegacy(e,t);case"V3":return this.signTypedData(e,t);default:return this.signTypedData_v4(e,t)}},recoverTypedMessage(e,t="V4"){switch(t){case"V1":return this.recoverTypedSignatureLegacy(e);case"V3":return this.recoverTypedSignature(e);default:return this.recoverTypedSignature_v4(e)}},signTypedData(e,t){const r=c.sign(t.data,!1),n=i.ecsign(r,e);return i.bufferToHex(this.concatSig(n.v,n.r,n.s))},signTypedData_v4(e,t){const r=c.sign(t.data),n=i.ecsign(r,e);return i.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignature(e){const t=l(c.sign(e.data,!1),e.sig),r=i.publicToAddress(t);return i.bufferToHex(r)},recoverTypedSignature_v4(e){const t=l(c.sign(e.data),e.sig),r=i.publicToAddress(t);return i.bufferToHex(r)}}}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/eth-sig-util/index.js"}],[1246,{"./secp256k1-adapter":1247,assert:2907,"bn.js":2851,"create-hash":3114,"ethereum-cryptography/keccak":1251,"ethjs-util":3325,rlp:4520,"safe-buffer":4521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("ethereum-cryptography/keccak"),s=i.keccak224,o=i.keccak384,a=i.keccak256,c=i.keccak512,u=e("./secp256k1-adapter"),l=e("assert"),f=e("rlp"),d=e("bn.js"),h=e("create-hash"),p=e("safe-buffer").Buffer;Object.assign(r,e("ethjs-util")),r.MAX_INTEGER=new d("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new d("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL_S=r.KECCAK256_NULL_S,r.KECCAK256_NULL=p.from(r.KECCAK256_NULL_S,"hex"),r.SHA3_NULL=r.KECCAK256_NULL,r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY_S=r.KECCAK256_RLP_ARRAY_S,r.KECCAK256_RLP_ARRAY=p.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.SHA3_RLP_ARRAY=r.KECCAK256_RLP_ARRAY,r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP_S=r.KECCAK256_RLP_S,r.KECCAK256_RLP=p.from(r.KECCAK256_RLP_S,"hex"),r.SHA3_RLP=r.KECCAK256_RLP,r.BN=d,r.rlp=f,r.secp256k1=u,r.zeros=function(e){return p.allocUnsafe(e).fill(0)},r.zeroAddress=function(){var e=r.zeros(20);return r.bufferToHex(e)},r.setLengthLeft=r.setLength=function(e,t,n){var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(e){if(!p.isBuffer(e))if(Array.isArray(e))e=p.from(e);else if("string"==typeof e)e=r.isHexString(e)?p.from(r.padToEven(r.stripHexPrefix(e)),"hex"):p.from(e);else if("number"==typeof e)e=r.intToBuffer(e);else if(null===e||e===undefined)e=p.allocUnsafe(0);else if(d.isBN(e))e=e.toArrayLike(p);else{if(!e.toArray)throw new Error("invalid type");e=p.from(e.toArray())}return e},r.bufferToInt=function(e){return new d(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new d(e).fromTwos(256)},r.toUnsigned=function(e){return p.from(e.toTwos(256).toArray())},r.keccak=function(e,t){switch(e=r.toBuffer(e),t||(t=256),t){case 224:return s(e);case 256:return a(e);case 384:return o(e);case 512:return c(e);default:throw new Error("Invald algorithm: keccak"+t)}},r.keccak256=function(e){return r.keccak(e)},r.sha3=r.keccak,r.sha256=function(e){return e=r.toBuffer(e),h("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var n=h("rmd160").update(e).digest();return!0===t?r.setLength(n,32):n},r.rlphash=function(e){return r.keccak(f.encode(e))},r.isValidPrivate=function(e){return u.privateKeyVerify(e)},r.isValidPublic=function(e,t){return 64===e.length?u.publicKeyVerify(p.concat([p.from([4]),e])):!!t&&u.publicKeyVerify(e)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=u.publicKeyConvert(e,!1).slice(1)),l(64===e.length),r.keccak(e).slice(-20)};var m=r.privateToPublic=function(e){return e=r.toBuffer(e),u.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=u.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,t){var r=u.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},r.hashPersonalMessage=function(e){var t=r.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return r.keccak(p.concat([t,e]))},r.ecrecover=function(e,t,n,i){var s=p.concat([r.setLength(n,32),r.setLength(i,32)],64),o=t-27;if(0!==o&&1!==o)throw new Error("Invalid signature v value");var a=u.recover(e,s,o);return u.publicKeyConvert(a,!1).slice(1)},r.toRpcSig=function(e,t,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return r.bufferToHex(p.concat([r.setLengthLeft(t,32),r.setLengthLeft(n,32),r.toBuffer(e-27)]))},r.fromRpcSig=function(e){if(65!==(e=r.toBuffer(e)).length)throw new Error("Invalid signature length");var t=e[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(m(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},r.isZeroAddress=function(e){return r.zeroAddress()===r.addHexPrefix(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.keccak(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(t[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(e,t){return e=r.toBuffer(e),t=(t=new d(t)).isZero()?null:p.from(t.toArray()),r.rlphash([e,t]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},r.addHexPrefix=function(e){return"string"!=typeof e||r.isHexPrefixed(e)?e:"0x"+e},r.isValidSignature=function(e,t,r,n){var i=new d("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new d("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new d(t),r=new d(r),!(t.isZero()||t.gt(s)||r.isZero()||r.gt(s))&&(!1!==n||1!==new d(r).cmp(i))))},r.baToJSON=function(e){if(p.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(r.baToJSON(e[n]));return t}},r.defineProperties=function(e,t,i){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(t){var n={};return e._fields.forEach((function(t){n[t]="0x"+e[t].toString("hex")})),n}return r.baToJSON(this.raw)},e.serialize=function(){return f.encode(e.raw)},t.forEach((function(t,n){function i(){return e.raw[n]}function s(i){"00"!==(i=r.toBuffer(i)).toString("hex")||t.allowZero||(i=p.allocUnsafe(0)),t.allowLess&&t.length?(i=r.stripZeros(i),l(t.length>=i.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===i.length||!t.length||l(t.length===i.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[n]=i}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:i,set:s}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:s,get:i})})),i)if("string"==typeof i&&(i=p.from(r.stripHexPrefix(i),"hex")),p.isBuffer(i)&&(i=f.decode(i)),Array.isArray(i)){if(i.length>e._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(t,n){e[e._fields[n]]=r.toBuffer(t)}))}else{if("object"!==(void 0===i?"undefined":n(i)))throw new Error("invalid data");var s=Object.keys(i);t.forEach((function(t){-1!==s.indexOf(t.name)&&(e[t.name]=i[t.name]),-1!==s.indexOf(t.alias)&&(e[t.alias]=i[t.alias])}))}}}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util>ethereumjs-util",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/index.js"}],[1247,{"./secp256k1-lib/der":1248,"./secp256k1-lib/index":1249,buffer:2913,"ethereum-cryptography/secp256k1":1253},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("ethereum-cryptography/secp256k1");function i(){return e("./secp256k1-lib/index")}var s=e("./secp256k1-lib/der"),o=function(e){return 32===e.length&&n.privateKeyVerify(Uint8Array.from(e))};t.exports={privateKeyVerify:o,privateKeyExport:function(e,t){var r=i();if(32!==e.length)throw new RangeError("private key length is invalid");var n=r.privateKeyExport(e,t);return s.privateKeyExport(e,n,t)},privateKeyImport:function(e){if(null!==(e=s.privateKeyImport(e))&&32===e.length&&o(e))return e;throw new Error("couldn't import from DER format")},privateKeyNegate:function(e){return r.from(n.privateKeyNegate(Uint8Array.from(e)))},privateKeyModInverse:function(e){if(32!==e.length)throw new Error("private key length is invalid");var t=i();return r.from(t.privateKeyModInverse(Uint8Array.from(e)))},privateKeyTweakAdd:function(e,t){return r.from(n.privateKeyTweakAdd(Uint8Array.from(e),t))},privateKeyTweakMul:function(e,t){return r.from(n.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},publicKeyCreate:function(e,t){return r.from(n.publicKeyCreate(Uint8Array.from(e),t))},publicKeyConvert:function(e,t){return r.from(n.publicKeyConvert(Uint8Array.from(e),t))},publicKeyVerify:function(e){return(33===e.length||65===e.length)&&n.publicKeyVerify(Uint8Array.from(e))},publicKeyTweakAdd:function(e,t,i){return r.from(n.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),i))},publicKeyTweakMul:function(e,t,i){return r.from(n.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),i))},publicKeyCombine:function(e,t){var i=[];return e.forEach((function(e){i.push(Uint8Array.from(e))})),r.from(n.publicKeyCombine(i,t))},signatureNormalize:function(e){return r.from(n.signatureNormalize(Uint8Array.from(e)))},signatureExport:function(e){return r.from(n.signatureExport(Uint8Array.from(e)))},signatureImport:function(e){return r.from(n.signatureImport(Uint8Array.from(e)))},signatureImportLax:function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=i(),r=s.signatureImportLax(e);if(null===r)throw new Error("couldn't parse DER signature");return t.signatureImport(r)},sign:function(e,t,i){if(null===i)throw new TypeError("options should be an Object");var s=void 0;if(i){if(s={},null===i.data)throw new TypeError("options.data should be a Buffer");if(i.data){if(32!==i.data.length)throw new RangeError("options.data length is invalid");s.data=new Uint8Array(i.data)}if(null===i.noncefn)throw new TypeError("options.noncefn should be a Function");i.noncefn&&(s.noncefn=function(e,t,n,s,o){var a=null!=n?r.from(n):null,c=null!=s?r.from(s):null,u=r.from("");return i.noncefn&&(u=i.noncefn(r.from(e),r.from(t),a,c,o)),Uint8Array.from(u)})}var o=n.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),s);return{signature:r.from(o.signature),recovery:o.recid}},verify:function(e,t,r){return n.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},recover:function(e,t,i,s){return r.from(n.ecdsaRecover(Uint8Array.from(t),i,Uint8Array.from(e),s))},ecdh:function(e,t){return r.from(n.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},ecdhUnsafe:function(e,t,n){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");var s=i();return r.from(s.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),n))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util>ethereumjs-util",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/secp256k1-adapter.js"}],[1248,{buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){var t=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(r,i,s){var o=e.from(s?t:n);return r.copy(o,s?8:9),i.copy(o,s?181:214),o},r.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},r.signatureImportLax=function(t){var r=e.alloc(32,0),n=e.alloc(32,0),i=t.length,s=0;if(48!==t[s++])return null;var o=t[s++];if(128&o&&(s+=o-128)>i)return null;if(2!==t[s++])return null;var a=t[s++];if(128&a){if(s+(o=a-128)>i)return null;for(;o>0&&0===t[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+t[s]}if(a>i-s)return null;var c=s;if(s+=a,2!==t[s++])return null;var u=t[s++];if(128&u){if(s+(o=u-128)>i)return null;for(;o>0&&0===t[s];s+=1,o-=1);for(u=0;o>0;s+=1,o-=1)u=(u<<8)+t[s]}if(u>i-s)return null;var l=s;for(s+=u;a>0&&0===t[c];a-=1,c+=1);if(a>32)return null;var f=t.slice(c,c+a);for(f.copy(r,32-f.length);u>0&&0===t[l];u-=1,l+=1);if(u>32)return null;var d=t.slice(l,l+u);return d.copy(n,32-d.length),{r:r,s:n}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util>ethereumjs-util",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/secp256k1-lib/der.js"}],[1249,{"bn.js":2851,buffer:2913,elliptic:3153},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=e("bn.js"),i=new(0,e("elliptic").ec)("secp256k1"),s=i.curve;r.privateKeyExport=function(e,t){var r=new n(e);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var a=i.g.mul(r);return o(a.getX(),a.getY(),t)},r.privateKeyModInverse=function(e){var r=new n(e);if(r.ucmp(s.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(s.n).toArrayLike(t,"be",32)},r.signatureImport=function(e){var r=new n(e.r);r.ucmp(s.n)>=0&&(r=new n(0));var i=new n(e.s);return i.ucmp(s.n)>=0&&(i=new n(0)),t.concat([r.toArrayLike(t,"be",32),i.toArrayLike(t,"be",32)])},r.ecdhUnsafe=function(e,t,r){var a=i.keyFromPublic(e),c=new n(t);if(c.ucmp(s.n)>=0||c.isZero())throw new Error("scalar was invalid (zero or overflow)");var u=a.pub.mul(c);return o(u.getX(),u.getY(),r)};var o=function(e,r,n){var i=void 0;return n?((i=t.alloc(33))[0]=r.isOdd()?3:2,e.toArrayLike(t,"be",32).copy(i,1)):((i=t.alloc(65))[0]=4,e.toArrayLike(t,"be",32).copy(i,1),r.toArrayLike(t,"be",32).copy(i,33)),i}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util>ethereumjs-util",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/eth-sig-util/node_modules/ethereumjs-util/dist/secp256k1-lib/index.js"}],[125,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:34,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=34;const r=t.data;return t.data=function(e){const{PreferencesController:t}=e;if(t){const e=t.featureFlags||{};e.privacyMode||void 0!==t.migratedPrivacyMode||(t.migratedPrivacyMode=!0,e.privacyMode=!0)}return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/034.js"}],[1250,{buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.createHashFunction=function(t){return function(r){var n=t();return n.update(r),e.from(n.digest())}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util>ethereumjs-util>ethereum-cryptography",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereum-cryptography/hash-utils.js"}],[1251,{"./hash-utils":1250,keccak:3886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./hash-utils"),i=e("keccak");r.keccak224=n.createHashFunction((function(){return i("keccak224")})),r.keccak256=n.createHashFunction((function(){return i("keccak256")})),r.keccak384=n.createHashFunction((function(){return i("keccak384")})),r.keccak512=n.createHashFunction((function(){return i("keccak512")}))}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util>ethereumjs-util>ethereum-cryptography",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereum-cryptography/keccak.js"}],[1252,{randombytes:4312},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("randombytes");r.getRandomBytes=function(e){return new Promise((function(t,r){n(e,(function(e,n){e?r(e):t(n)}))}))},r.getRandomBytesSync=function(e){return n(e)}}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util>ethereumjs-util>ethereum-cryptography",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereum-cryptography/random.js"}],[1253,{"./random":1252,secp256k1:4531},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(r,"__esModule",{value:!0});var s=e("secp256k1"),o=e("./random");r.createPrivateKey=function(){return n(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,o.getRandomBytes(32)];case 1:return e=t.sent(),s.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},r.createPrivateKeySync=function(){for(;;){var e=o.getRandomBytesSync(32);if(s.privateKeyVerify(e))return e}},function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(e("secp256k1"))}}},{package:"@metamask/eth-ledger-bridge-keyring>eth-sig-util>ethereumjs-util>ethereum-cryptography",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/ethereum-cryptography/secp256k1.js"}],[1254,{assert:2907,coinstring:2955,crypto:3123,"safe-buffer":4521,secp256k1:1255},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("assert"),i=e("safe-buffer").Buffer,s=e("crypto"),o=e("coinstring"),a=e("secp256k1"),c=i.from("Bitcoin seed","utf8"),u=2147483648,l={private:76066276,public:76067358};function f(e){this.versions=e||l,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function d(e,t,r){var n=i.allocUnsafe(78);n.writeUInt32BE(t,0),n.writeUInt8(e.depth,4);var s=e.depth?e.parentFingerprint:0;return n.writeUInt32BE(s,5),n.writeUInt32BE(e.index,9),e.chainCode.copy(n,13),r.copy(n,45),n}function h(e){var t=s.createHash("sha256").update(e).digest();return s.createHash("rmd160").update(t).digest()}Object.defineProperty(f.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(f.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(f.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(f.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){n.equal(e.length,32,"Private key must be 32 bytes."),n(!0===a.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=a.publicKeyCreate(e,!0),this._identifier=h(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(f.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){n(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),n(!0===a.publicKeyVerify(e),"Invalid public key"),this._publicKey=a.publicKeyConvert(e,!0),this._identifier=h(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}}),Object.defineProperty(f.prototype,"privateExtendedKey",{get:function(){return this._privateKey?o.encode(d(this,this.versions.private,i.concat([i.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(f.prototype,"publicExtendedKey",{get:function(){return o.encode(d(this,this.versions.public,this.publicKey))}}),f.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var t=e.split("/"),r=this;return t.forEach((function(e,t){if(0!==t){var i=e.length>1&&"'"===e[e.length-1],s=parseInt(e,10);n(s<u,"Invalid index"),i&&(s+=u),r=r.deriveChild(s)}else n(e,"m","Invalid path")})),r},f.prototype.deriveChild=function(e){var t,r=e>=u,o=i.allocUnsafe(4);if(o.writeUInt32BE(e,0),r){n(this.privateKey,"Could not derive hardened child key");var c=this.privateKey,l=i.alloc(1,0);c=i.concat([l,c]),t=i.concat([c,o])}else t=i.concat([this.publicKey,o]);var d=s.createHmac("sha512",this.chainCode).update(t).digest(),h=d.slice(0,32),p=d.slice(32),m=new f(this.versions);if(this.privateKey)try{m.privateKey=a.privateKeyTweakAdd(this.privateKey,h)}catch(t){return this.derive(e+1)}else try{m.publicKey=a.publicKeyTweakAdd(this.publicKey,h,!0)}catch(t){return this.derive(e+1,r)}return m.chainCode=p,m.depth=this.depth+1,m.parentFingerprint=this.fingerprint,m.index=e,m},f.prototype.sign=function(e){return a.sign(e,this.privateKey).signature},f.prototype.verify=function(e,t){return a.verify(e,t,this.publicKey)},f.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},f.fromMasterSeed=function(e,t){var r=s.createHmac("sha512",c).update(e).digest(),n=r.slice(0,32),i=r.slice(32),o=new f(t);return o.chainCode=i,o.privateKey=n,o},f.fromExtendedKey=function(e,t){var r=new f(t=t||l),i=o.decode(e),s=i.readUInt32BE(0);n(s===t.private||s===t.public,"Version mismatch: does not match private or public"),r.depth=i.readUInt8(4),r.parentFingerprint=i.readUInt32BE(5),r.index=i.readUInt32BE(9),r.chainCode=i.slice(13,45);var a=i.slice(45);return 0===a.readUInt8(0)?(n(s===t.private,"Version mismatch: version does not match private"),r.privateKey=a.slice(1)):(n(s===t.public,"Version mismatch: version does not match public"),r.publicKey=a),r},f.fromJSON=function(e){return f.fromExtendedKey(e.xpriv)},f.HARDENED_OFFSET=u,t.exports=f}}},{package:"@metamask/eth-ledger-bridge-keyring>hdkey",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/hdkey/lib/hdkey.js"}],[1255,{"./lib":1259,"./lib/elliptic":1258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./lib")(e("./lib/elliptic"))}}},{package:"@metamask/eth-ledger-bridge-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/hdkey/node_modules/secp256k1/elliptic.js"}],[1256,{"../../../../../../../is-buffer/index.js":3838},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){var t=Object.prototype.toString;r.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},r.isBoolean=function(e,r){if("[object Boolean]"!==t.call(e))throw TypeError(r)},r.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},r.isFunction=function(e,r){if("[object Function]"!==t.call(e))throw TypeError(r)},r.isNumber=function(e,r){if("[object Number]"!==t.call(e))throw TypeError(r)},r.isObject=function(e,r){if("[object Object]"!==t.call(e))throw TypeError(r)},r.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},r.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},r.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},r.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}}).call(this)}).call(this,{isBuffer:e("../../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-ledger-bridge-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/hdkey/node_modules/secp256k1/lib/assert.js"}],[1257,{bip66:2805,"safe-buffer":4521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("bip66"),s=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(e,t,r){var i=n.from(r?s:o);return e.copy(i,r?8:9),t.copy(i,r?181:214),i},r.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},r.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,s=0;r>1&&0===t[s]&&!(128&t[s+1]);--r,++s);for(var o=n.concat([n.from([0]),e.s]),a=33,c=0;a>1&&0===o[c]&&!(128&o[c+1]);--a,++c);return i.encode(t.slice(s),o.slice(c))},r.signatureImport=function(e){var t=n.alloc(32,0),r=n.alloc(32,0);try{var s=i.decode(e);if(33===s.r.length&&0===s.r[0]&&(s.r=s.r.slice(1)),s.r.length>32)throw new Error("R length is too long");if(33===s.s.length&&0===s.s[0]&&(s.s=s.s.slice(1)),s.s.length>32)throw new Error("S length is too long")}catch(e){return}return s.r.copy(t,32-s.r.length),s.s.copy(r,32-s.s.length),{r:t,s:r}},r.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),i=e.length,s=0;if(48===e[s++]){var o=e[s++];if(!(128&o&&(s+=o-128)>i)&&2===e[s++]){var a=e[s++];if(128&a){if(s+(o=a-128)>i)return;for(;o>0&&0===e[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+e[s]}if(!(a>i-s)){var c=s;if(s+=a,2===e[s++]){var u=e[s++];if(128&u){if(s+(o=u-128)>i)return;for(;o>0&&0===e[s];s+=1,o-=1);for(u=0;o>0;s+=1,o-=1)u=(u<<8)+e[s]}if(!(u>i-s)){var l=s;for(s+=u;a>0&&0===e[c];a-=1,c+=1);if(!(a>32)){var f=e.slice(c,c+a);for(f.copy(t,32-f.length);u>0&&0===e[l];u-=1,l+=1);if(!(u>32)){var d=e.slice(l,l+u);return d.copy(r,32-d.length),{r:t,s:r}}}}}}}}}}}},{package:"@metamask/eth-ledger-bridge-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/hdkey/node_modules/secp256k1/lib/der.js"}],[1258,{"../messages.json":1260,"bn.js":2851,"create-hash":3114,elliptic:3153,"safe-buffer":4521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("create-hash"),s=e("bn.js"),o=e("elliptic").ec,a=e("../messages.json"),c=new o("secp256k1"),u=c.curve;function l(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new s(t);if(r.cmp(u.p)>=0)return null;var n=(r=r.toRed(u.red)).redSqr().redIMul(r).redIAdd(u.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),c.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new s(t),i=new s(r);if(n.cmp(u.p)>=0||i.cmp(u.p)>=0)return null;if(n=n.toRed(u.red),i=i.toRed(u.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(u.b)).isZero()?c.keyPair({pub:{x:n,y:i}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}r.privateKeyVerify=function(e){var t=new s(e);return t.cmp(u.n)<0&&!t.isZero()},r.privateKeyExport=function(e,t){var r=new s(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},r.privateKeyNegate=function(e){var t=new s(e);return t.isZero()?n.alloc(32):u.n.sub(t).umod(u.n).toArrayLike(n,"be",32)},r.privateKeyModInverse=function(e){var t=new s(e);if(t.cmp(u.n)>=0||t.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return t.invm(u.n).toArrayLike(n,"be",32)},r.privateKeyTweakAdd=function(e,t){var r=new s(t);if(r.cmp(u.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new s(e)),r.cmp(u.n)>=0&&r.isub(u.n),r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},r.privateKeyTweakMul=function(e,t){var r=new s(t);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new s(e)),r.cmp(u.n)&&(r=r.umod(u.n)),r.toArrayLike(n,"be",32)},r.publicKeyCreate=function(e,t){var r=new s(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},r.publicKeyConvert=function(e,t){var r=l(e);if(null===r)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(t,!0))},r.publicKeyVerify=function(e){return null!==l(e)},r.publicKeyTweakAdd=function(e,t,r){var i=l(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new s(t)).cmp(u.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var o=u.g.mul(t).add(i.pub);if(o.isInfinity())throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(o.encode(!0,r))},r.publicKeyTweakMul=function(e,t,r){var i=l(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new s(t)).cmp(u.n)>=0||t.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(t).encode(!0,r))},r.publicKeyCombine=function(e,t){for(var r=new Array(e.length),i=0;i<e.length;++i)if(r[i]=l(e[i]),null===r[i])throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var s=r[0].pub,o=1;o<r.length;++o)s=s.add(r[o].pub);if(s.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(s.encode(!0,t))},r.signatureNormalize=function(e){var t=new s(e.slice(0,32)),r=new s(e.slice(32,64));if(t.cmp(u.n)>=0||r.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return 1===r.cmp(c.nh)&&u.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},r.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new s(t).cmp(u.n)>=0||new s(r).cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},r.signatureImport=function(e){var t=new s(e.r);t.cmp(u.n)>=0&&(t=new s(0));var r=new s(e.s);return r.cmp(u.n)>=0&&(r=new s(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},r.sign=function(e,t,r,i){if("function"==typeof r){var o=r;r=function(r){var c=o(e,t,null,i,r);if(!n.isBuffer(c)||32!==c.length)throw new Error(a.ECDSA_SIGN_FAIL);return new s(c)}}var l=new s(t);if(l.cmp(u.n)>=0||l.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var f=c.sign(e,t,{canonical:!0,k:r,pers:i});return{signature:n.concat([f.r.toArrayLike(n,"be",32),f.s.toArrayLike(n,"be",32)]),recovery:f.recoveryParam}},r.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},i=new s(n.r),o=new s(n.s);if(i.cmp(u.n)>=0||o.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(1===o.cmp(c.nh)||i.isZero()||o.isZero())return!1;var f=l(r);if(null===f)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return c.verify(e,n,{x:f.pub.x,y:f.pub.y})},r.recover=function(e,t,r,i){var o={r:t.slice(0,32),s:t.slice(32,64)},l=new s(o.r),f=new s(o.s);if(l.cmp(u.n)>=0||f.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(l.isZero()||f.isZero())throw new Error;var d=c.recoverPubKey(e,o,r);return n.from(d.encode(!0,i))}catch(e){throw new Error(a.ECDSA_RECOVER_FAIL)}},r.ecdh=function(e,t){var n=r.ecdhUnsafe(e,t,!0);return i("sha256").update(n).digest()},r.ecdhUnsafe=function(e,t,r){var i=l(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var o=new s(t);if(o.cmp(u.n)>=0||o.isZero())throw new Error(a.ECDH_FAIL);return n.from(i.pub.mul(o).encode(!0,r))}}}},{package:"@metamask/eth-ledger-bridge-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/hdkey/node_modules/secp256k1/lib/elliptic/index.js"}],[1259,{"./assert":1256,"./der":1257,"./messages.json":1260},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./assert"),i=e("./der"),s=e("./messages.json");function o(e,t){return e===undefined?t:(n.isBoolean(e,s.COMPRESSED_TYPE_INVALID),e)}t.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=o(r,!0);var a=e.privateKeyExport(t,r);return i.privateKeyExport(t,a,r)},privateKeyImport:function(t){if(n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(s.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=o(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r=o(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,i){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),i=o(i,!0),e.publicKeyTweakAdd(t,r,i)},publicKeyTweakMul:function(t,r,i){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),i=o(i,!0),e.publicKeyTweakMul(t,r,i)},publicKeyCombine:function(t,r){n.isArray(t,s.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(t,s.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)n.isBuffer(t[i],s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t[i],33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID);return r=o(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return n.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){n.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return i.signatureExport(r)},signatureImport:function(t){n.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){n.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,i){n.isBuffer(t,s.MSG32_TYPE_INVALID),n.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID);var o=null,a=null;return i!==undefined&&(n.isObject(i,s.OPTIONS_TYPE_INVALID),i.data!==undefined&&(n.isBuffer(i.data,s.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,s.OPTIONS_DATA_LENGTH_INVALID),o=i.data),i.noncefn!==undefined&&(n.isFunction(i.noncefn,s.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),e.sign(t,r,a,o)},verify:function(t,r,i){return n.isBuffer(t,s.MSG32_TYPE_INVALID),n.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,i)},recover:function(t,r,i,a){return n.isBuffer(t,s.MSG32_TYPE_INVALID),n.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,s.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,s.RECOVERY_ID_VALUE_INVALID),a=o(a,!0),e.recover(t,r,i,a)},ecdh:function(t,r){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,i){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),i=o(i,!0),e.ecdhUnsafe(t,r,i)}}}}}},{package:"@metamask/eth-ledger-bridge-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/hdkey/node_modules/secp256k1/lib/index.js"}],[126,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:35,async migrate(e){const t=(0,n.cloneDeep)(e);return t.meta.version=35,t.data=function(e){e.PreferencesController&&e.PreferencesController.seedWords!==undefined&&delete e.PreferencesController.seedWords;return e}(t.data),t}}}}},{package:"$root$",file:"app/scripts/migrations/035.js"}],[1260,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}}}},{package:"@metamask/eth-ledger-bridge-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-ledger-bridge-keyring/node_modules/hdkey/node_modules/secp256k1/lib/messages.json"}],[1262,{"./utils":1267,buffer:2913,tweetnacl:4651,"tweetnacl-util":4650},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=s(e("tweetnacl")),a=s(e("tweetnacl-util")),c=e("./utils");function u({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=o.box.keyPair();let n;try{n=a.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const i=a.decodeUTF8(t),s=o.randomBytes(o.box.nonceLength),c=o.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:a.encodeBase64(s),ephemPublicKey:a.encodeBase64(r.publicKey),ciphertext:a.encodeBase64(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const r=f(t),n=o.box.keyPair.fromSecretKey(r).secretKey,i=a.decodeBase64(e.nonce),s=a.decodeBase64(e.ciphertext),c=a.decodeBase64(e.ephemPublicKey),u=o.box.open(s,i,c,n);try{if(!u)throw new Error;const e=a.encodeUTF8(u);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}function f(e){const r=t.from(e,"hex").toString("base64");return a.decodeBase64(r)}r.encrypt=u,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(r))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const t=f(e),r=o.box.keyPair.fromSecretKey(t).publicKey;return a.encodeBase64(r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1263,{"./utils":1267,"@ethereumjs/util":410,"bn.js":2851,buffer:2913,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.rawEncode=r.parseNumber=r.solidityPack=void 0;const i=e("@ethereumjs/util"),s=n(e("bn.js")),o=e("ethjs-util"),a=e("./utils");function c(e){return e.endsWith("]")}function u(e){const t=e.match(/(.*)\[(.*?)\]$/u);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function l(e){const t=/^\D+(\d+)$/u.exec(e);if(null===t)throw new Error(`Invalid parseTypeN input "${e}".`);return parseInt(t[1],10)}function f(e){const t=typeof e;if("string"===t)return(0,i.isHexPrefixed)(e)?new s.default((0,o.stripHexPrefix)(e),16):new s.default(e,10);if("number"===t)return new s.default(e);if(e&&Object.prototype.hasOwnProperty.call(e,"toArray")||s.default.isBN(e))return e;throw new Error("Argument is not a number")}function d(e,r,n){if(c(e)){const n=e.replace(/\[.*?\]/u,"");if(!c(n)){const t=u(e);if("dynamic"!==t&&0!==t&&null!==t&&r.length>t)throw new Error(`Elements exceed array size: ${t}`)}const i=r.map((e=>d(n,e,256)));return t.concat(i)}if("bytes"===e)return r;if("string"===e)return t.from(r,"utf8");if("bool"===e){n=n||8;const e=Array(n/4).join("0");return t.from(r?`${e}1`:`${e}0`,"hex")}if("address"===e){let e=20;return n&&(e=n/8),(0,i.setLengthLeft)((0,i.toBuffer)(r),e)}if(e.startsWith("bytes")){const t=l(e);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);return"number"==typeof r&&(r=(0,a.normalize)(r)),(0,i.setLengthRight)((0,i.toBuffer)(r),t)}if(e.startsWith("uint")){const i=l(e);if(i%8||i<8||i>256)throw new Error(`Invalid uint<N> width: ${i}`);const s=f(r);if(s.bitLength()>i)throw new Error(`Supplied uint exceeds width: ${i} vs ${s.bitLength()}`);return n=n||i,s.toArrayLike(t,"be",n/8)}if(e.startsWith("int")){const i=l(e);if(i%8||i<8||i>256)throw new Error(`Invalid int<N> width: ${i}`);const s=f(r);if(s.bitLength()>i)throw new Error(`Supplied int exceeds width: ${i} vs ${s.bitLength()}`);return n=n||i,s.toTwos(i).toArrayLike(t,"be",n/8)}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function h(e){return e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256${e.slice(4)}`:"uint"===e?"uint256":e.startsWith("fixed[")?`fixed128x128${e.slice(5)}`:"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?`ufixed128x128${e.slice(6)}`:"ufixed"===e?"ufixed128x128":e}function p(e,r){if("address"===e)return p("uint160",f(r));if("bool"===e)return p("uint8",r?1:0);if("string"===e)return p("bytes",t.from(r,"utf8"));if(c(e)){if(void 0===r.length)throw new Error("Not an array?");const n=u(e);if("dynamic"!==n&&0!==n&&null!==n&&r.length>n)throw new Error(`Elements exceed array size: ${n}`);const i=[];e=e.slice(0,e.lastIndexOf("[")),"string"==typeof r&&(r=JSON.parse(r));for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&i.push(p(e,r[t]));if("dynamic"===n){const e=p("uint256",r.length);i.unshift(e)}return t.concat(i)}if("bytes"===e){r=t.from(r);let e=t.concat([p("uint256",r.length),r]);return r.length%32!=0&&(e=t.concat([e,(0,i.zeros)(32-r.length%32)])),e}if(e.startsWith("bytes")){const t=l(e);if(t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);const n="number"==typeof r?(0,a.normalize)(r):r;return(0,i.setLengthRight)((0,i.toBuffer)(n),32)}if(e.startsWith("uint")){const n=l(e);if(n%8||n<8||n>256)throw new Error(`Invalid uint<N> width: ${n}`);const i=f(r);if(i.bitLength()>n)throw new Error(`Supplied uint exceeds width: ${n} vs ${i.bitLength()}`);if(i.isNeg())throw new Error("Supplied uint is negative");return i.toArrayLike(t,"be",32)}if(e.startsWith("int")){const n=l(e);if(n%8||n<8||n>256)throw new Error(`Invalid int<N> width: ${n}`);const i=f(r);if(i.bitLength()>n)throw new Error(`Supplied int exceeds width: ${n} vs ${i.bitLength()}`);return i.toTwos(256).toArrayLike(t,"be",32)}if(e.startsWith("ufixed")){const t=g(e),n=f(r);if(n.isNeg())throw new Error("Supplied ufixed is negative");return p("uint256",n.mul(new s.default(2).pow(new s.default(t[1]))))}if(e.startsWith("fixed")){const t=g(e);return p("int256",f(r).mul(new s.default(2).pow(new s.default(t[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(e)}`)}function m(e){return"string"===e||"bytes"===e||"dynamic"===u(e)}function g(e){const t=/^\D+(\d+)x(\d+)$/u.exec(e);if(null===t||t.length<1)throw new Error(`Invalid parseTypeNxM input "${e}".`);return[parseInt(t[1],10),parseInt(t[2],10)]}r.solidityPack=function(e,r){if(e.length!==r.length)throw new Error("Number of types are not matching the values");const n=[];for(let t=0;t<e.length;t++){const i=h(e[t]),s=r[t];n.push(d(i,s,null))}return t.concat(n)},r.parseNumber=f,r.rawEncode=function(e,r){const n=[],i=[];let s=0;e.forEach((e=>{if(c(e)){const t=u(e);s+="dynamic"!==t&&null!==t?32*t:32}else s+=32}));for(let t=0;t<e.length;t++){const o=h(e[t]),a=p(o,r[t]);m(o)?(n.push(p("uint256",s)),i.push(a),s+=a.length):n.push(a)}return t.concat(n.concat(i))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/ethereumjs-abi-utils.js"}],[1264,{"./encryption":1262,"./personal-sign":1265,"./sign-typed-data":1266,"./utils":1267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-trezor-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/index.js"}],[1265,{"./utils":1267,"@ethereumjs/util":410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-trezor-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1266,{"./ethereumjs-abi-utils":1263,"./utils":1267,"@ethereumjs/util":410,buffer:2913,"ethereum-cryptography/keccak":3240,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("ethereum-cryptography/keccak"),s=e("ethjs-util"),o=e("./ethereumjs-abi-utils"),a=e("./utils");var c;function u(e,t){if(!Object.keys(c).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function l(e,r,d,h,p){if(u(p,[c.V3,c.V4]),e[d]!==undefined)return["bytes32",p===c.V4&&null==h?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,i.keccak256)(f(d,h,e,p)))];if(h===undefined)throw new Error(`missing value for field ${r} of type ${d}`);if("bytes"===d){if("number"==typeof h)h=(0,a.numberToBuffer)(h);else if((0,s.isHexString)(h)){const e=h.length%2?"0":"";h=t.from(e+h.slice(2),"hex")}else h=t.from(h,"utf8");return["bytes32",(0,n.arrToBufArr)((0,i.keccak256)(h))]}if("string"===d)return h="number"==typeof h?(0,a.numberToBuffer)(h):t.from(null!=h?h:"","utf8"),["bytes32",(0,n.arrToBufArr)((0,i.keccak256)(h))];if(d.endsWith("]")){if(p===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const t=d.slice(0,d.lastIndexOf("[")),s=h.map((n=>l(e,r,t,n,p)));return["bytes32",(0,n.arrToBufArr)((0,i.keccak256)((0,o.rawEncode)(s.map((([e])=>e)),s.map((([,e])=>e)))))]}return[d,h]}function f(e,t,r,n){u(n,[c.V3,c.V4]);const i=["bytes32"],s=[m(e,r)];for(const o of r[e]){if(n===c.V3&&t[o.name]===undefined)continue;const[e,a]=l(r,o.name,o.type,t[o.name],n);i.push(e),s.push(a)}return(0,o.rawEncode)(i,s)}function d(e,t){let r="";const n=h(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function h(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])h(n.type,t,r);return r}function p(e,t,r,s){u(s,[c.V3,c.V4]);const o=f(e,t,r,s),a=(0,i.keccak256)(o);return(0,n.arrToBufArr)(a)}function m(e,r){const s=t.from(d(e,r),"utf-8");return(0,n.arrToBufArr)((0,i.keccak256)(s))}function g(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function y(e,t){u(t,[c.V3,c.V4]);const r=g(e),{domain:n}=r;return p("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function b(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((function(e){return"bytes"!==e.type?e.value:(0,a.legacyToBuffer)(e.value)})),s=e.map((function(e){return e.type})),c=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,n.arrToBufArr)((0,i.keccak256)((0,o.solidityPack)(["bytes32","bytes32"],[(0,i.keccak256)((0,o.solidityPack)(new Array(e.length).fill("string"),c)),(0,i.keccak256)((0,o.solidityPack)(s,r))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(c=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:f,encodeType:d,findTypeDependencies:h,hashStruct:p,hashType:m,sanitizeData:g,eip712Hash:function(e,r){u(r,[c.V3,c.V4]);const s=g(e),o=[t.from("1901","hex")];return o.push(y(e,r)),"EIP712Domain"!==s.primaryType&&o.push(p(s.primaryType,s.message,s.types,r)),(0,n.arrToBufArr)((0,i.keccak256)(t.concat(o)))},eip712DomainHash:y},r.typedSignatureHash=function(e){const t=b(e);return(0,n.bufferToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(u(i),(0,a.isNullish)(t))throw new Error("Missing data parameter");if((0,a.isNullish)(e))throw new Error("Missing private key parameter");const s=i===c.V1?b(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,a.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(u(i),(0,a.isNullish)(e))throw new Error("Missing data parameter");if((0,a.isNullish)(t))throw new Error("Missing signature parameter");const s=i===c.V1?b(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,a.recoverPublicKey)(s,t),l=(0,n.publicToAddress)(o);return(0,n.bufferToHex)(l)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1267,{"@ethereumjs/util":410,buffer:2913,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.numberToBuffer=r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("ethjs-util");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}r.padWithZeroes=s,r.isNullish=function(e){return null===e||e===undefined},r.legacyToBuffer=function(e){return"string"!=typeof e||(0,i.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),c=(0,n.bufferToInt)(e),u=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),f=(0,i.stripHexPrefix)((0,i.intToHex)(c));return(0,n.addHexPrefix)(u.concat(l,f))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(!e)return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,n.toBuffer)(e);e=(0,n.bufferToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,n.addHexPrefix)(e.toLowerCase())},r.numberToBuffer=function(e){const r=e.toString(16),n=r.length%2?"0":"";return t.from(n+r,"hex")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1268,{"@ethereumjs/util":410,"@metamask/eth-sig-util":1264,buffer:2913,"ethereum-cryptography/keccak":1269,events:3331,randombytes:4312},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){const{EventEmitter:n}=e("events"),{isValidPrivate:i,stripHexPrefix:s,privateToPublic:o,bufferToHex:a,publicToAddress:c,ecsign:u,arrToBufArr:l}=e("@ethereumjs/util"),f=e("randombytes"),{keccak256:d}=e("ethereum-cryptography/keccak"),h="Simple Key Pair",{concatSig:p,decrypt:m,getEncryptionPublicKey:g,normalize:y,personalSign:b,signTypedData:w,SignTypedDataVersion:k}=e("@metamask/eth-sig-util");function _(){const e=f(32);if(!i(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");return e}class v extends n{constructor(e){super(),this.type=h,this._wallets=[],this.deserialize(e)}async serialize(){return this._wallets.map((({privateKey:e})=>e.toString("hex")))}async deserialize(e=[]){this._wallets=e.map((e=>{const t=s(e),n=r.from(t,"hex");return{privateKey:n,publicKey:o(n)}}))}async addAccounts(e=1){const t=[];for(let r=0;r<e;r++){const e=_(),r=o(e);t.push({privateKey:e,publicKey:r})}this._wallets=this._wallets.concat(t);return t.map((({publicKey:e})=>a(c(e))))}async getAccounts(){return this._wallets.map((({publicKey:e})=>a(c(e))))}async signTransaction(e,t,r={}){const n=this._getPrivateKeyFor(e,r),i=t.sign(n);return i===undefined?t:i}async signMessage(e,t,n={}){const i=s(t),o=this._getPrivateKeyFor(e,n),a=u(r.from(i,"hex"),o);return p(a.v,a.r,a.s)}async signPersonalMessage(e,t,n={}){const i=this._getPrivateKeyFor(e,n),s=r.from(i,"hex");return b({privateKey:s,data:t})}async decryptMessage(e,t){const r=this._getWalletForAccount(e),{privateKey:n}=r;return m({privateKey:n,encryptedData:t})}async signTypedData(e,t,r={version:k.V1}){const n=Object.keys(k).includes(r.version)?r.version:k.V1,i=this._getPrivateKeyFor(e,r);return w({privateKey:i,data:t,version:n})}async getEncryptionPublicKey(e,t={}){const r=this._getPrivateKeyFor(e,t);return g(r)}_getPrivateKeyFor(e,t={}){if(!e)throw new Error("Must specify address.");return this._getWalletForAccount(e,t).privateKey}async getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");const r=this._getWalletForAccount(e,{withAppKeyOrigin:t});return y(c(r.publicKey).toString("hex"))}async exportAccount(e,t={}){return this._getWalletForAccount(e,t).privateKey.toString("hex")}removeAccount(e){if(!this._wallets.map((({publicKey:e})=>a(c(e)).toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this._wallets=this._wallets.filter((({publicKey:t})=>a(c(t)).toLowerCase()!==e.toLowerCase()))}_getWalletForAccount(e,t={}){const n=y(e);let i=this._wallets.find((({publicKey:e})=>a(c(e))===n));if(!i)throw new Error("Simple Keyring - Unable to find matching address.");if(t.withAppKeyOrigin){const{privateKey:e}=i,n=r.from(t.withAppKeyOrigin,"utf8"),s=r.concat([e,n]),a=l(d(s,256));i={privateKey:a,publicKey:o(a)}}return i}}v.type=h,t.exports=v}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/index.js"}],[1269,{"./utils":1275,"@noble/hashes/sha3":1273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keccak512=r.keccak384=r.keccak256=r.keccak224=void 0;const n=e("@noble/hashes/sha3"),i=e("./utils");r.keccak224=(0,i.wrapHash)(n.keccak_224),r.keccak256=(()=>{const e=(0,i.wrapHash)(n.keccak_256);return e.create=n.keccak_256.create,e})(),r.keccak384=(0,i.wrapHash)(n.keccak_384),r.keccak512=(0,i.wrapHash)(n.keccak_512)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/keccak.js"}],[127,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:36,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=36;const r=t.data;return t.data=function(e){const{PreferencesController:t}=e;if(t){const e=t.featureFlags||{};void 0!==e.privacyMode&&delete e.privacyMode}return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/036.js"}],[1270,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function s(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){s(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=void 0,r.number=n,r.bool=i,r.bytes=s,r.hash=o,r.exists=a,r.output=c;const u={number:n,bool:i,bytes:s,hash:o,exists:a,output:c};r.default=u}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_assert.js"}],[1271,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}r.fromBig=s,r.split=o;r.toBig=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);function a(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.add=a;const c={fromBig:s,split:o,toBig:r.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:a,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};r.default=c}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/_u64.js"}],[1272,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto={node:undefined,web:"object"==typeof self&&"crypto"in self?self.crypto:undefined}}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/cryptoBrowser.js"}],[1273,{"./_assert.js":1270,"./_u64.js":1271,"./utils.js":1274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=r.keccakP=void 0;const n=e("./_assert.js"),i=e("./_u64.js"),s=e("./utils.js"),[o,a,c]=[[],[],[]],u=BigInt(0),l=BigInt(1),f=BigInt(2),d=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<l^(t>>d)*p)%h,t&f&&(i^=l<<(l<<BigInt(e))-l);c.push(i)}const[m,g]=i.default.split(c,!0),y=(e,t,r)=>r>32?i.default.rotlBH(e,t,r):i.default.rotlSH(e,t,r),b=(e,t,r)=>r>32?i.default.rotlBL(e,t,r):i.default.rotlSL(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=y(s,o,1)^r[n],c=b(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=y(t,i,n),c=b(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=g[n]}r.fill(0)}r.keccakP=w;class k extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,n.default.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){w(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){n.default.exists(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){n.default.exists(this,!1),n.default.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return n.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(n.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new k(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}r.Keccak=k;const _=(e,t,r)=>(0,s.wrapConstructor)((()=>new k(t,e,r)));r.sha3_224=_(6,144,28),r.sha3_256=_(6,136,32),r.sha3_384=_(6,104,48),r.sha3_512=_(6,72,64),r.keccak_224=_(1,144,28),r.keccak_256=_(1,136,32),r.keccak_384=_(1,104,48),r.keccak_512=_(1,72,64);const v=(e,t,r)=>(0,s.wrapConstructorWithOpts)(((n={})=>new k(t,e,n.dkLen===undefined?r:n.dkLen,!0)));r.shake128=v(31,168,16),r.shake256=v(31,136,32)}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/sha3.js"}],[1274,{"@noble/hashes/crypto":1272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const n=e("@noble/hashes/crypto");r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.rotr=(e,t)=>e<<32-t|e>>>t,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!r.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));r.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t},r.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t};function s(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if("string"==typeof e&&(e=s(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=s,r.toBytes=o,r.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};r.checkOpts=function(e,t){if(t!==undefined&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(o(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(e));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography>@noble/hashes",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/node_modules/@noble/hashes/utils.js"}],[1275,{"@noble/hashes/_assert":1270,"@noble/hashes/utils":1274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.wrapHash=r.equalsBytes=r.hexToBytes=r.bytesToUtf8=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0;const i=n(e("@noble/hashes/_assert")),s=e("@noble/hashes/utils"),o=i.default.bool;r.assertBool=o;const a=i.default.bytes;r.assertBytes=a;var c=e("@noble/hashes/utils");Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,s.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(i.default.bytes(t),e(t))},r.crypto=(()=>{const e="object"==typeof self&&"crypto"in self?self.crypto:undefined,r=void 0!==t&&"function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):undefined,web:e}})()}}},{package:"@metamask/eth-keyring-controller>@metamask/eth-simple-keyring>ethereum-cryptography",file:"node_modules/@metamask/eth-simple-keyring/node_modules/ethereum-cryptography/utils.js"}],[1276,{"./util":1281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaseInsensitiveMap=void 0;const n=e("./util");class i extends Map{static fromObject(e){return new i(Object.entries(e))}toObject(){return Object.fromEntries(this.entries())}get(e){return super.get(e.toLowerCase())}getOrThrow(e,t="Key"){return this.get(e)??(0,n.throwError)(`${t} '${e}' not found`)}has(e){return super.has(e.toLowerCase())}set(e,t){return super.set(e.toLowerCase(),t)}delete(e){return super.delete(e.toLowerCase())}}r.CaseInsensitiveMap=i}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/CaseInsensitiveMap.js"}],[1277,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DeferredPromise=void 0;r.DeferredPromise=class{constructor(){if(this.resolve=undefined,this.reject=undefined,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),!this.resolve||!this.reject)throw new Error("Promise constructor failed")}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/DeferredPromise.js"}],[1278,{"./CaseInsensitiveMap":1276,"./DeferredPromise":1277,"./types":1280,"./util":1281,"@ethereumjs/tx":398,"@metamask/eth-sig-util":1283,"@metamask/keyring-api":1479,"@metamask/utils":1296,events:3331,superstruct:4634,uuid:1306},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,f,d,h,p,m,g=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},y=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.SnapKeyring=r.KeyringStateStruct=r.SNAP_KEYRING_TYPE=void 0;const b=e("@ethereumjs/tx"),w=e("@metamask/eth-sig-util"),k=e("@metamask/keyring-api"),_=e("@metamask/utils"),v=e("events"),E=e("superstruct"),T=e("uuid"),S=e("./CaseInsensitiveMap"),A=e("./DeferredPromise"),I=e("./types"),P=e("./util");r.SNAP_KEYRING_TYPE="Snap Keyring",r.KeyringStateStruct=(0,E.object)({accounts:(0,E.record)((0,E.string)(),(0,E.object)({account:k.KeyringAccountStruct,snapId:(0,E.string)()}))});class x extends v.EventEmitter{constructor(e,t){super(),n.add(this),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),this.type=x.type,g(this,i,new k.KeyringSnapControllerClient({controller:e}),"f"),g(this,o,new S.CaseInsensitiveMap,"f"),g(this,s,new S.CaseInsensitiveMap,"f"),g(this,a,t,"f")}async handleKeyringSnapMessage(e,t){switch((0,E.assert)(t,I.SnapMessageStruct),t.method){case k.KeyringEvent.AccountCreated:return y(this,n,"m",c).call(this,e,t);case k.KeyringEvent.AccountUpdated:return y(this,n,"m",u).call(this,e,t);case k.KeyringEvent.AccountDeleted:return y(this,n,"m",l).call(this,e,t);case k.KeyringEvent.RequestApproved:return y(this,n,"m",f).call(this,e,t);case k.KeyringEvent.RequestRejected:return y(this,n,"m",d).call(this,e,t);default:throw new Error(`Method not supported: ${t.method}`)}}async serialize(){return{accounts:y(this,s,"f").toObject()}}async deserialize(e){e!==undefined&&((0,E.assert)(e,r.KeyringStateStruct),g(this,s,S.CaseInsensitiveMap.fromObject(e.accounts),"f"))}async getAccounts(){return(0,P.unique)([...y(this,s,"f").values()].map((({account:e})=>e.address.toLowerCase())))}async getAccountsBySnapId(e){return(0,P.unique)([...y(this,s,"f").values()].filter((({snapId:t})=>t===e)).map((({account:e})=>e.address.toLowerCase())))}async signTransaction(e,t,r={}){const i=(0,P.toJson)({...t.toJSON(),from:e,type:`0x${t.type.toString(16)}`,chainId:(0,_.bigIntToHex)(t.common.chainId())}),s=await y(this,n,"m",h).call(this,{address:e,method:k.EthMethod.SignTransaction,params:[i]}),o=(0,E.mask)(s,(0,E.object)({r:(0,E.string)(),s:(0,E.string)(),v:(0,E.string)()}));return b.TransactionFactory.fromTxData({...i,r:o.r,s:o.s,v:o.v})}async signTypedData(e,t,r={version:w.SignTypedDataVersion.V1}){const i={[w.SignTypedDataVersion.V1]:k.EthMethod.SignTypedDataV1,[w.SignTypedDataVersion.V3]:k.EthMethod.SignTypedDataV3,[w.SignTypedDataVersion.V4]:k.EthMethod.SignTypedDataV4}[r.version]||k.EthMethod.SignTypedDataV1,s=await y(this,n,"m",h).call(this,{address:e,method:i,params:(0,P.toJson)([e,t])});return(0,P.strictMask)(s,(0,E.string)())}async signMessage(e,t){const r=await y(this,n,"m",h).call(this,{address:e,method:k.EthMethod.Sign,params:(0,P.toJson)([e,t])});return(0,P.strictMask)(r,(0,E.string)())}async signPersonalMessage(e,t){const r=await y(this,n,"m",h).call(this,{address:e,method:k.EthMethod.PersonalSign,params:(0,P.toJson)([t,e])});return(0,P.strictMask)(r,(0,E.string)())}exportAccount(e){throw new Error("Exporting accounts from snaps is not supported.")}async removeAccount(e){const{account:t,snapId:r}=y(this,n,"m",p).call(this,e);y(this,s,"f").delete(t.id);try{await y(this,i,"f").withSnapId(r).deleteAccount(t.id)}catch(t){console.error(`Account '${e}' may not have been removed from snap '${r}':`,t)}}async getAccountByAddress(e){return(await this.listAccounts()).find((({address:t})=>(0,P.equalsIgnoreCase)(t,e)))}async listAccounts(){return[...y(this,s,"f").values()].map((({account:e,snapId:t})=>{const r=y(this,n,"m",m).call(this,t);return{...e,address:e.address.toLowerCase(),metadata:{name:"",keyring:{type:this.type},...r!==undefined&&{snap:r}}}}))}}r.SnapKeyring=x,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakSet,c=async function(e,t){(0,E.assert)(t,k.AccountCreatedEventStruct);const{account:r}=t.params;if(await y(this,a,"f").addressExists(r.address.toLowerCase()))throw new Error(`Account address '${r.address}' already exists`);if(y(this,s,"f").has(r.id))throw new Error(`Account '${r.id}' already exists`);return await y(this,a,"f").addAccount(r.address.toLowerCase(),e,(async t=>{t&&(y(this,s,"f").set(r.id,{account:r,snapId:e}),await y(this,a,"f").saveState())})),null},u=async function(e,t){(0,E.assert)(t,k.AccountUpdatedEventStruct);const{account:r}=t.params,{account:n,snapId:i}=y(this,s,"f").get(r.id)??(0,P.throwError)(`Account '${r.id}' not found`);if(!(0,P.equalsIgnoreCase)(n.address,r.address))throw new Error(`Cannot change address of account '${r.id}'`);if(e!==i)throw new Error(`Cannot update account '${r.id}'`);return y(this,s,"f").set(r.id,{account:r,snapId:e}),await y(this,a,"f").saveState(),null},l=async function(e,t){(0,E.assert)(t,k.AccountDeletedEventStruct);const{id:r}=t.params,n=y(this,s,"f").get(r);if(n===undefined)return null;const{snapId:i,account:{address:o}}=n;if(e!==i)throw new Error(`Cannot delete account '${r}'`);return await y(this,a,"f").removeAccount(o.toLowerCase(),e,(async e=>{e&&await y(this,a,"f").saveState()})),null},f=async function(e,t){(0,E.assert)(t,k.RequestApprovedEventStruct);const{id:r,result:n}=t.params,{promise:i,snapId:s}=y(this,o,"f").get(r)??(0,P.throwError)(`Request '${r}' not found`);if(e!==s)throw new Error(`Cannot approve request '${r}'`);return y(this,o,"f").delete(r),i.resolve(n),null},d=async function(e,t){(0,E.assert)(t,k.RequestRejectedEventStruct);const{id:r}=t.params,{promise:n,snapId:i}=y(this,o,"f").get(r)??(0,P.throwError)(`Request '${r}' not found`);if(e!==i)throw new Error(`Cannot reject request '${r}'`);return y(this,o,"f").delete(r),n.reject(new Error("Request rejected by user or snap.")),null},h=async function({address:e,method:t,params:r,chainId:s=""}){const{account:c,snapId:u}=y(this,n,"m",p).call(this,e),l=(0,T.v4)(),f=new A.DeferredPromise;y(this,o,"f").set(l,{promise:f,snapId:u});const d=await(async()=>{try{return await y(this,i,"f").withSnapId(u).submitRequest({id:l,scope:s,account:c.id,request:{method:t,...r!==undefined&&{params:r}}})}catch(e){throw y(this,o,"f").delete(l),e}})();if(!d.pending)return y(this,o,"f").delete(l),d.result;if(d.redirect?.message||d.redirect?.url){const{message:e="",url:t=""}=d.redirect;await y(this,a,"f").redirectUser(u,t,e)}return f.promise},p=function(e){return[...y(this,s,"f").values()].find((({account:t})=>(0,P.equalsIgnoreCase)(t.address,e)))??(0,P.throwError)(`Account '${e}' not found`)},m=function(e){const t=y(this,i,"f").getController().get(e);return t?{id:e,name:t.manifest.proposedName,enabled:t.enabled}:undefined},x.type=r.SNAP_KEYRING_TYPE}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyring.js"}],[1279,{"./SnapKeyring":1278,"./types":1280},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./types"),r),i(e("./SnapKeyring"),r)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/index.js"}],[128,{"@metamask/controller-utils":1124,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("@metamask/controller-utils");r.default={version:37,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=37;const r=t.data;return t.data=function(e){if(e.AddressBookController){const t=e.AddressBookController.addressBook,r=new Set,n={};Object.values(t).forEach((e=>{r.add(e.chainId)}));for(const e of r.values()){n[e]={};for(const r in t)t[r].chainId===e&&(t[r].isEns=!1,(0,i.normalizeEnsName)(t[r].name)&&(t[r].isEns=!0),n[e][r]=t[r])}e.AddressBookController.addressBook=n}return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/037.js"}],[1280,{"@metamask/utils":1296,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SnapMessageStruct=void 0;const n=e("@metamask/utils"),i=e("superstruct");r.SnapMessageStruct=(0,i.object)({method:(0,i.string)(),params:(0,i.optional)((0,i.union)([(0,i.array)(n.JsonStruct),(0,i.record)((0,i.string)(),n.JsonStruct)]))})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/types.js"}],[1281,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalsIgnoreCase=r.throwError=r.ensureDefined=r.toJson=r.unique=r.strictMask=void 0;const n=e("superstruct");r.strictMask=function(e,t,r){return(0,n.assert)(e,t,r),e},r.unique=function(e){return[...new Set(e)]},r.toJson=function(e){return JSON.parse(JSON.stringify(e))},r.ensureDefined=function(e){if(e===undefined)throw new Error("Argument is undefined")},r.throwError=function(e){throw new Error(e)},r.equalsIgnoreCase=function(e,t){return e.toLowerCase()===t.toLowerCase()}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/util.js"}],[1282,{"./utils":1286,buffer:2913,tweetnacl:4651,"tweetnacl-util":4650},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=s(e("tweetnacl")),a=s(e("tweetnacl-util")),c=e("./utils");function u({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=o.box.keyPair();let n;try{n=a.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const i=a.decodeUTF8(t),s=o.randomBytes(o.box.nonceLength),c=o.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:a.encodeBase64(s),ephemPublicKey:a.encodeBase64(r.publicKey),ciphertext:a.encodeBase64(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const r=f(t),n=o.box.keyPair.fromSecretKey(r).secretKey,i=a.decodeBase64(e.nonce),s=a.decodeBase64(e.ciphertext),c=a.decodeBase64(e.ephemPublicKey),u=o.box.open(s,i,c,n);try{if(!u)throw new Error;const e=a.encodeUTF8(u);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}function f(e){const r=t.from(e,"hex").toString("base64");return a.decodeBase64(r)}r.encrypt=u,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(r))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const t=f(e),r=o.box.keyPair.fromSecretKey(t).publicKey;return a.encodeBase64(r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-snap-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1283,{"./encryption":1282,"./personal-sign":1284,"./sign-typed-data":1285,"./utils":1286},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-snap-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/eth-sig-util/dist/index.js"}],[1284,{"./utils":1286,"@ethereumjs/util":410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-snap-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1285,{"./utils":1286,"@ethereumjs/util":410,"@metamask/abi-utils":1009,"@metamask/abi-utils/dist/parsers":1018,"@metamask/abi-utils/dist/utils":1026,"@metamask/utils":1296,"ethereum-cryptography/keccak":3240},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),o=e("@metamask/abi-utils/dist/utils"),a=e("@metamask/utils"),c=e("ethereum-cryptography/keccak"),u=e("./utils");var l;function f(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function d(e,t){(0,a.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),n=(0,s.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,a.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function h(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,a.bigIntToBytes)(t),20)}function p(e,t,r,s,u){if(f(u,[l.V3,l.V4]),e[r]!==undefined)return["bytes32",u===l.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,c.keccak256)(m(r,s,e,u)))];if("function"===r)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${r}`);if("address"===r){if("number"==typeof s)return["address",(0,o.padStart)((0,a.numberToBytes)(s),20)];if((0,a.isStrictHexString)(s))return["address",(0,a.add0x)(s)];if("string"==typeof s)return["address",h(s).subarray(0,20)]}if("bool"===r)return["bool",Boolean(s)];if("bytes"===r)return"number"==typeof s?s=(0,a.numberToBytes)(s):(0,a.isStrictHexString)(s)?s=(0,a.hexToBytes)(s):"string"==typeof s&&(s=(0,a.stringToBytes)(s)),["bytes32",(0,n.arrToBufArr)((0,c.keccak256)(s))];if(r.startsWith("bytes")&&"bytes"!==r&&!r.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(s))]:(0,a.isStrictHexString)(s)?["bytes32",(0,a.hexToBytes)(s)]:["bytes32",s];if(r.startsWith("int")&&!r.includes("[")){const e=d(r,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===r)return s="number"==typeof s?(0,a.numberToBytes)(s):(0,a.stringToBytes)(null!=s?s:""),["bytes32",(0,n.arrToBufArr)((0,c.keccak256)(s))];if(r.endsWith("]")){if(u===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=r.slice(0,r.lastIndexOf("[")),a=s.map((r=>p(e,t,o,r,u)));return["bytes32",(0,n.arrToBufArr)((0,c.keccak256)((0,i.encode)(a.map((([e])=>e)),a.map((([,e])=>e)))))]}return[r,s]}function m(e,t,r,s){f(s,[l.V3,l.V4]);const o=["bytes32"],a=[w(e,r)];for(const n of r[e]){if(s===l.V3&&t[n.name]===undefined)continue;const[e,i]=p(r,n.name,n.type,t[n.name],s);o.push(e),a.push(i)}return(0,n.arrToBufArr)((0,i.encode)(o,a))}function g(e,t){let r="";const n=y(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function y(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])y(n.type,t,r);return r}function b(e,t,r,i){f(i,[l.V3,l.V4]);const s=m(e,t,r,i),o=(0,c.keccak256)(s);return(0,n.arrToBufArr)(o)}function w(e,t){const r=(0,a.stringToBytes)(g(e,t));return(0,n.arrToBufArr)((0,c.keccak256)(r))}function k(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function _(e,t){f(t,[l.V3,l.V4]);const r=k(e),{domain:n}=r;return b("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function v(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,s.getArrayType)(e);return t.map((e=>v(r,e)))}if("address"===e){if("number"==typeof t)return(0,o.padStart)((0,a.numberToBytes)(t),20);if((0,a.isStrictHexString)(t))return(0,o.padStart)((0,a.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,a.numberToBytes)(t).subarray(0,r);if((0,a.isStrictHexString)(t))return(0,a.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,s.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function E(e,t){return t.map((t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=d(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,a.bigIntToBytes)(r),32);const n=(0,s.getLength)(e),i=BigInt.asIntN(n,r);return(0,a.signedBigIntToBytes)(i,32)}return t}))}function T(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(n=r,n.map((e=>"number"==typeof e?(0,o.padStart)((0,a.numberToBytes)(e),32):(0,a.isStrictHexString)(e)?(0,o.padStart)((0,a.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e)))};var n;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[n,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:E(n,r)}}return{name:e,type:t,value:v(t,r)}})),l=r.map((e=>"bytes"!==e.type?e.value:(0,u.legacyToBuffer)(e.value))),f=r.map((e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type})),d=e.map((e=>{if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,n.arrToBufArr)((0,c.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,c.keccak256)((0,i.encodePacked)(["string[]"],[d],!0)),(0,c.keccak256)((0,i.encodePacked)(f,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:m,encodeType:g,findTypeDependencies:y,hashStruct:b,hashType:w,sanitizeData:k,eip712Hash:function(e,t){f(t,[l.V3,l.V4]);const r=k(e),i=[(0,a.hexToBytes)("1901")];return i.push(_(e,t)),"EIP712Domain"!==r.primaryType&&i.push(b(r.primaryType,r.message,r.types,t)),(0,n.arrToBufArr)((0,c.keccak256)((0,a.concatBytes)(i)))},eip712DomainHash:_},r.typedSignatureHash=function(e){const t=T(e);return(0,a.bytesToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(f(i),(0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(e))throw new Error("Missing private key parameter");const s=i===l.V1?T(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,u.concatSig)((0,n.arrToBufArr)((0,a.bigIntToBytes)(o.v)),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(f(i),(0,u.isNullish)(e))throw new Error("Missing data parameter");if((0,u.isNullish)(t))throw new Error("Missing signature parameter");const s=i===l.V1?T(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,u.recoverPublicKey)(s,t),c=(0,n.publicToAddress)(o);return(0,a.bytesToHex)(c)}}}},{package:"@metamask/eth-snap-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1286,{"@ethereumjs/util":410,"@metamask/utils":1296,buffer:2913,"ethjs-util":3325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/utils"),s=e("ethjs-util");function o(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function a(e){return null===e||e===undefined}r.padWithZeroes=o,r.isNullish=a,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,s.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const a=(0,n.fromSigned)(t),c=(0,n.fromSigned)(r),u=(0,n.bufferToInt)(e),l=o((0,n.toUnsigned)(a).toString("hex"),64),f=o((0,n.toUnsigned)(c).toString("hex"),64),d=(0,s.stripHexPrefix)((0,s.intToHex)(u));return(0,i.add0x)(l.concat(f,d))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(a(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-snap-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1287,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{AssertionError:function(){return s},assert:function(){return o},assertStruct:function(){return a},assertExhaustive:function(){return c}});const n=e("superstruct");function i(e,t){return r=e,Boolean("string"==typeof r?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var r}class s extends Error{constructor(e){var t,r,n;super(e.message),n="ERR_ASSERTION",(r="code")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}}function o(e,t="Assertion failed.",r=s){if(!e){if(t instanceof Error)throw t;throw i(r,t)}}function a(e,t,r="Assertion failed",o=s){try{(0,n.assert)(e,t)}catch(e){throw i(o,`${r}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}}function c(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/assert.js"}],[1288,{"./assert":1287,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"base64",{enumerable:!0,get:function(){return s}});const n=e("superstruct"),i=e("./assert"),s=(e,t={})=>{const r=t.paddingRequired??!1,s=t.characterSet??"base64";let o,a;return"base64"===s?o=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===s),o=String.raw`[-_A-Za-z0-9]`),a=r?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,n.pattern)(e,a)}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/base64.js"}],[1289,{"./assert":1287,"./hex":1295,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{isBytes:function(){return u},assertIsBytes:function(){return l},bytesToHex:function(){return f},bytesToBigInt:function(){return d},bytesToSignedBigInt:function(){return h},bytesToNumber:function(){return p},bytesToString:function(){return m},hexToBytes:function(){return g},bigIntToBytes:function(){return y},signedBigIntToBytes:function(){return b},numberToBytes:function(){return w},stringToBytes:function(){return k},valueToBytes:function(){return _},concatBytes:function(){return v},createDataView:function(){return E}});const n=e("./assert"),i=e("./hex"),s=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,n.assert)(u(e),"Value must be a Uint8Array.")}function f(e){if(l(e),0===e.length)return"0x";const t=c(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,i.add0x)(r.join(""))}function d(e){l(e);const t=f(e);return BigInt(t)}function h(e){l(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)}function p(e){l(e);const t=d(e);return(0,n.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function m(e){return l(e),(new TextDecoder).decode(e)}function g(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,i.assertIsHexString)(e);const t=(0,i.remove0x)(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),i=r.charCodeAt(2*e+1),c=t-(t<o?s:a),u=i-(i<o?s:a);n[e]=16*c+u}return n}function y(e){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return g(e.toString(16))}function b(e,t){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)("number"==typeof t,"Byte length must be a number."),(0,n.assert)(t>0,"Byte length must be greater than 0."),(0,n.assert)(function(e,t){(0,n.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const i=new Uint8Array(t);for(let e=0;e<i.length;e++)i[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return i.reverse()}function w(e){(0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return g(e.toString(16))}function k(e){return(0,n.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function _(e){if("bigint"==typeof e)return y(e);if("number"==typeof e)return w(e);if("string"==typeof e)return e.startsWith("0x")?g(e):k(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function v(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const i=_(e[n]);t[n]=i,r+=i.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n}function E(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/bytes.js"}],[129,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:38,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=38;const r=t.data;return t.data=function(e){const{ABTestController:t={}}=e,{abTests:r={}}=t;if(r.fullScreenVsPopup)return e;return{...e,ABTestController:{...t,abTests:{...r,fullScreenVsPopup:"control"}}}}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/038.js"}],[1290,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{CAIP_CHAIN_ID_REGEX:function(){return i},CAIP_NAMESPACE_REGEX:function(){return s},CAIP_REFERENCE_REGEX:function(){return o},CAIP_ACCOUNT_ID_REGEX:function(){return a},CAIP_ACCOUNT_ADDRESS_REGEX:function(){return c},CaipChainIdStruct:function(){return u},CaipNamespaceStruct:function(){return l},CaipReferenceStruct:function(){return f},CaipAccountIdStruct:function(){return d},CaipAccountAddressStruct:function(){return h},isCaipChainId:function(){return p},isCaipNamespace:function(){return m},isCaipReference:function(){return g},isCaipAccountId:function(){return y},isCaipAccountAddress:function(){return b},parseCaipChainId:function(){return w},parseCaipAccountId:function(){return k}});const n=e("superstruct"),i=RegExp("^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$","u"),s=/^[-a-z0-9]{3,8}$/u,o=/^[-_a-zA-Z0-9]{1,32}$/u,a=RegExp("^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$","u"),c=/^[-.%a-zA-Z0-9]{1,128}$/u,u=(0,n.pattern)((0,n.string)(),i),l=(0,n.pattern)((0,n.string)(),s),f=(0,n.pattern)((0,n.string)(),o),d=(0,n.pattern)((0,n.string)(),a),h=(0,n.pattern)((0,n.string)(),c);function p(e){return(0,n.is)(e,u)}function m(e){return(0,n.is)(e,l)}function g(e){return(0,n.is)(e,f)}function y(e){return(0,n.is)(e,d)}function b(e){return(0,n.is)(e,h)}function w(e){const t=i.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function k(e){const t=a.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/caip-types.js"}],[1291,{"./base64":1288,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ChecksumStruct",{enumerable:!0,get:function(){return s}});const n=e("superstruct"),i=e("./base64"),s=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/checksum.js"}],[1292,{"./assert":1287,"./bytes":1289,"./hex":1295,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{createNumber:function(){return d},createBigInt:function(){return h},createBytes:function(){return p},createHex:function(){return m}});const n=e("superstruct"),i=e("./assert"),s=e("./bytes"),o=e("./hex"),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),o.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),a,Number),u=(0,n.coerce)((0,n.bigint)(),a,BigInt),l=((0,n.union)([o.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([o.StrictHexStruct]),s.hexToBytes)),f=(0,n.coerce)(o.StrictHexStruct,(0,n.instance)(Uint8Array),s.bytesToHex);function d(e){try{const t=(0,n.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}}function h(e){try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}}function p(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}function m(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,f)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/coercers.js"}],[1293,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function i(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,n(e,t,"get"))}function s(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function o(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,n(e,t,"set"),r),r}Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{FrozenMap:function(){return u},FrozenSet:function(){return d}});var a=new WeakMap;let c=Symbol.iterator;class u{get size(){return i(this,a).size}[c](){return i(this,a)[Symbol.iterator]()}entries(){return i(this,a).entries()}forEach(e,t){return i(this,a).forEach(((r,n,i)=>e.call(t,r,n,this)))}get(e){return i(this,a).get(e)}has(e){return i(this,a).has(e)}keys(){return i(this,a).keys()}values(){return i(this,a).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}constructor(e){s(this,a,{writable:!0,value:void 0}),o(this,a,new Map(e)),Object.freeze(this)}}var l=new WeakMap;let f=Symbol.iterator;class d{get size(){return i(this,l).size}[f](){return i(this,l)[Symbol.iterator]()}entries(){return i(this,l).entries()}forEach(e,t){return i(this,l).forEach(((r,n,i)=>e.call(t,r,n,this)))}has(e){return i(this,l).has(e)}keys(){return i(this,l).keys()}values(){return i(this,l).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}constructor(e){s(this,l,{writable:!0,value:void 0}),o(this,l,new Set(e)),Object.freeze(this)}}Object.freeze(u),Object.freeze(u.prototype),Object.freeze(d),Object.freeze(d.prototype)}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/collections.js"}],[1294,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/encryption-types.js"}],[1295,{"./assert":1287,"./bytes":1289,"@noble/hashes/sha3":2126,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{HexStruct:function(){return a},StrictHexStruct:function(){return c},HexAddressStruct:function(){return u},HexChecksumAddressStruct:function(){return l},isHexString:function(){return f},isStrictHexString:function(){return d},assertIsHexString:function(){return h},assertIsStrictHexString:function(){return p},isValidHexAddress:function(){return m},getChecksumAddress:function(){return g},isValidChecksumAddress:function(){return y},add0x:function(){return b},remove0x:function(){return w}});const n=e("@noble/hashes/sha3"),i=e("superstruct"),s=e("./assert"),o=e("./bytes"),a=(0,i.pattern)((0,i.string)(),/^(?:0x)?[0-9a-f]+$/iu),c=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]+$/iu),u=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]{40}$/u),l=(0,i.pattern)((0,i.string)(),/^0x[0-9a-fA-F]{40}$/u);function f(e){return(0,i.is)(e,a)}function d(e){return(0,i.is)(e,c)}function h(e){(0,s.assert)(f(e),"Value must be a hexadecimal string.")}function p(e){(0,s.assert)(d(e),'Value must be a hexadecimal string, starting with "0x".')}function m(e){return(0,i.is)(e,u)||y(e)}function g(e){(0,s.assert)((0,i.is)(e,l),"Invalid hex address.");const t=w(e.toLowerCase()),r=w((0,o.bytesToHex)((0,n.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=r[t];return(0,s.assert)((0,i.is)(n,(0,i.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function y(e){return!!(0,i.is)(e,l)&&g(e)===e}function b(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function w(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/hex.js"}],[1296,{"./assert":1287,"./base64":1288,"./bytes":1289,"./caip-types":1290,"./checksum":1291,"./coercers":1292,"./collections":1293,"./encryption-types":1294,"./hex":1295,"./json":1297,"./keyring":1298,"./logging":1299,"./misc":1300,"./number":1301,"./opaque":1302,"./time":1303,"./transaction-types":1304,"./versions":1305},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){return Object.keys(e).forEach((function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})),e}Object.defineProperty(r,"__esModule",{value:!0}),n(e("./assert"),r),n(e("./base64"),r),n(e("./bytes"),r),n(e("./caip-types"),r),n(e("./checksum"),r),n(e("./coercers"),r),n(e("./collections"),r),n(e("./encryption-types"),r),n(e("./hex"),r),n(e("./json"),r),n(e("./keyring"),r),n(e("./logging"),r),n(e("./misc"),r),n(e("./number"),r),n(e("./opaque"),r),n(e("./time"),r),n(e("./transaction-types"),r),n(e("./versions"),r)}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/index.js"}],[1297,{"./assert":1287,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{UnsafeJsonStruct:function(){return s},JsonStruct:function(){return o},isValidJson:function(){return a},getSafeJson:function(){return c},getJsonSize:function(){return u},jsonrpc2:function(){return l},JsonRpcVersionStruct:function(){return f},JsonRpcIdStruct:function(){return d},JsonRpcErrorStruct:function(){return h},JsonRpcParamsStruct:function(){return p},JsonRpcRequestStruct:function(){return m},JsonRpcNotificationStruct:function(){return g},isJsonRpcNotification:function(){return y},assertIsJsonRpcNotification:function(){return b},isJsonRpcRequest:function(){return w},assertIsJsonRpcRequest:function(){return k},PendingJsonRpcResponseStruct:function(){return _},JsonRpcSuccessStruct:function(){return v},JsonRpcFailureStruct:function(){return E},JsonRpcResponseStruct:function(){return T},isPendingJsonRpcResponse:function(){return S},assertIsPendingJsonRpcResponse:function(){return A},isJsonRpcResponse:function(){return I},assertIsJsonRpcResponse:function(){return P},isJsonRpcSuccess:function(){return x},assertIsJsonRpcSuccess:function(){return j},isJsonRpcFailure:function(){return N},assertIsJsonRpcFailure:function(){return C},isJsonRpcError:function(){return B},assertIsJsonRpcError:function(){return R},getJsonRpcIdValidator:function(){return O}});const n=e("superstruct"),i=e("./assert"),s=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>s))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>s)))]),o=(0,n.coerce)(s,(0,n.any)(),(e=>((0,i.assertStruct)(e,s),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t))))));function a(e){try{return c(e),!0}catch{return!1}}function c(e){return(0,n.create)(e,o)}function u(e){(0,i.assertStruct)(e,o,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength}const l="2.0",f=(0,n.literal)(l),d=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),h=(0,n.object)({code:(0,n.integer)(),message:(0,n.string)(),data:(0,n.optional)(o),stack:(0,n.optional)((0,n.string)())}),p=(0,n.union)([(0,n.record)((0,n.string)(),o),(0,n.array)(o)]),m=(0,n.object)({id:d,jsonrpc:f,method:(0,n.string)(),params:(0,n.optional)(p)}),g=(0,n.object)({jsonrpc:f,method:(0,n.string)(),params:(0,n.optional)(p)});function y(e){return(0,n.is)(e,g)}function b(e,t){(0,i.assertStruct)(e,g,"Invalid JSON-RPC notification",t)}function w(e){return(0,n.is)(e,m)}function k(e,t){(0,i.assertStruct)(e,m,"Invalid JSON-RPC request",t)}const _=(0,n.object)({id:d,jsonrpc:f,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(h)}),v=(0,n.object)({id:d,jsonrpc:f,result:o}),E=(0,n.object)({id:d,jsonrpc:f,error:h}),T=(0,n.union)([v,E]);function S(e){return(0,n.is)(e,_)}function A(e,t){(0,i.assertStruct)(e,_,"Invalid pending JSON-RPC response",t)}function I(e){return(0,n.is)(e,T)}function P(e,t){(0,i.assertStruct)(e,T,"Invalid JSON-RPC response",t)}function x(e){return(0,n.is)(e,v)}function j(e,t){(0,i.assertStruct)(e,v,"Invalid JSON-RPC success response",t)}function N(e){return(0,n.is)(e,E)}function C(e,t){(0,i.assertStruct)(e,E,"Invalid JSON-RPC failure response",t)}function B(e){return(0,n.is)(e,h)}function R(e,t){(0,i.assertStruct)(e,h,"Invalid JSON-RPC error",t)}function O(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/json.js"}],[1298,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/keyring.js"}],[1299,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{createProjectLogger:function(){return s},createModuleLogger:function(){return o}});function n(e){return e&&e.__esModule?e:{default:e}}const i=(0,n(e("debug")).default)("metamask");function s(e){return i.extend(e)}function o(e,t){return e.extend(t)}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/logging.js"}],[13,{"../../../../shared/constants/network":4759,"@ethersproject/providers":494,"ethereum-ens-network-map":3248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=e("@ethersproject/providers"),s=(n=e("ethereum-ens-network-map"))&&n.__esModule?n:{default:n},o=e("../../../../shared/constants/network");r.default=class{static getChainEnsSupport(e){return Boolean(s.default[parseInt(e,16).toString()])}constructor({chainId:e,provider:t}={}){const r=o.CHAIN_ID_TO_ETHERS_NETWORK_NAME_MAP[e],n=parseInt(e,16),a=s.default[n.toString()],c=new i.Web3Provider(t,{chainId:n,name:r,ensAddress:a});this._ethProvider=c}lookup(e){return this._ethProvider.resolveName(e)}reverse(e){return this._ethProvider.lookupAddress(e)}}}}},{package:"$root$",file:"app/scripts/controllers/ens/ens.js"}],[130,{"../../../shared/modules/hexstring-utils":4788,lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/modules/hexstring-utils");const s="0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359",o="DAI",a="SAI";function c(e={}){return e&&"object"==typeof e&&e.symbol===o&&(0,i.toChecksumHexAddress)(e.address)===s}r.default={version:39,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=39;const r=t.data;return t.data=function(e){const{PreferencesController:t}=e;if(t){const e=t.tokens||[];if(Array.isArray(e))for(const t of e)c(t)&&(t.symbol=a);const r=t.accountTokens||{};if(r&&"object"==typeof r)for(const e of Object.keys(r)){const t=r[e];if(t&&"object"==typeof t)for(const e of Object.keys(t)){const r=t[e];if(Array.isArray(r))for(const e of r)c(e)&&(e.symbol=a)}}}return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/039.js"}],[1300,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return Array.isArray(e)&&e.length>0}function i(e){return null===e||e===undefined}function s(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{JsonSize:function(){return c},isNonEmptyArray:function(){return n},isNullOrUndefined:function(){return i},isObject:function(){return s},hasProperty:function(){return o},getKnownPropertyNames:function(){return a},ESCAPE_CHARACTERS_REGEXP:function(){return u},isPlainObject:function(){return l},isASCII:function(){return f},calculateStringSize:function(){return d},calculateNumberSize:function(){return h}});const o=(e,t)=>Object.hasOwnProperty.call(e,t);function a(e){return Object.getOwnPropertyNames(e)}var c;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(c||(c={}));const u=/"|\\|\n|\r|\t/gu;function l(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}function f(e){return e.charCodeAt(0)<=127}function d(e){return e.split("").reduce(((e,t)=>f(t)?e+1:e+2),0)+(e.match(u)??[]).length}function h(e){return e.toString().length}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/misc.js"}],[1301,{"./assert":1287,"./hex":1295},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{numberToHex:function(){return s},bigIntToHex:function(){return o},hexToNumber:function(){return a},hexToBigInt:function(){return c}});const n=e("./assert"),i=e("./hex"),s=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16))),o=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16))),a=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},c=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/number.js"}],[1302,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/opaque.js"}],[1303,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{Duration:function(){return n},inMilliseconds:function(){return s},timeSince:function(){return o}}),function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n||(n={}));const i=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function s(e,t){return i(e,"count"),e*t}function o(e){return i(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/time.js"}],[1304,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/transaction-types.js"}],[1305,{"./assert":1287,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{VersionStruct:function(){return o},VersionRangeStruct:function(){return a},isValidSemVerVersion:function(){return c},isValidSemVerRange:function(){return u},assertIsSemVerVersion:function(){return l},assertIsSemVerRange:function(){return f},gtVersion:function(){return d},gtRange:function(){return h},satisfiesVersionRange:function(){return p}});const n=e("semver"),i=e("superstruct"),s=e("./assert"),o=(0,i.refine)((0,i.string)(),"Version",(e=>null!==(0,n.valid)(e)||`Expected SemVer version, got "${e}"`)),a=(0,i.refine)((0,i.string)(),"Version range",(e=>null!==(0,n.validRange)(e)||`Expected SemVer range, got "${e}"`));function c(e){return(0,i.is)(e,o)}function u(e){return(0,i.is)(e,a)}function l(e){(0,s.assertStruct)(e,o)}function f(e){(0,s.assertStruct)(e,a)}function d(e,t){return(0,n.gt)(e,t)}function h(e,t){return(0,n.gtr)(e,t)}function p(e,t){return(0,n.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/eth-snap-keyring>@metamask/utils",file:"node_modules/@metamask/eth-snap-keyring/node_modules/@metamask/utils/dist/cjs/versions.js"}],[1306,{"./nil.js":1309,"./parse.js":1310,"./stringify.js":1314,"./v1.js":1315,"./v3.js":1316,"./v4.js":1318,"./v5.js":1319,"./validate.js":1320,"./version.js":1321},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}});var n=d(e("./v1.js")),i=d(e("./v3.js")),s=d(e("./v4.js")),o=d(e("./v5.js")),a=d(e("./nil.js")),c=d(e("./version.js")),u=d(e("./validate.js")),l=d(e("./stringify.js")),f=d(e("./parse.js"));function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/index.js"}],[1307,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,l=-1732584194,f=271733878;for(let t=0;t<e.length;t+=16){const n=r,d=s,h=l,p=f;r=o(r,s,l,f,e[t],7,-680876936),f=o(f,r,s,l,e[t+1],12,-389564586),l=o(l,f,r,s,e[t+2],17,606105819),s=o(s,l,f,r,e[t+3],22,-1044525330),r=o(r,s,l,f,e[t+4],7,-176418897),f=o(f,r,s,l,e[t+5],12,1200080426),l=o(l,f,r,s,e[t+6],17,-1473231341),s=o(s,l,f,r,e[t+7],22,-45705983),r=o(r,s,l,f,e[t+8],7,1770035416),f=o(f,r,s,l,e[t+9],12,-1958414417),l=o(l,f,r,s,e[t+10],17,-42063),s=o(s,l,f,r,e[t+11],22,-1990404162),r=o(r,s,l,f,e[t+12],7,1804603682),f=o(f,r,s,l,e[t+13],12,-40341101),l=o(l,f,r,s,e[t+14],17,-1502002290),s=o(s,l,f,r,e[t+15],22,1236535329),r=a(r,s,l,f,e[t+1],5,-165796510),f=a(f,r,s,l,e[t+6],9,-1069501632),l=a(l,f,r,s,e[t+11],14,643717713),s=a(s,l,f,r,e[t],20,-373897302),r=a(r,s,l,f,e[t+5],5,-701558691),f=a(f,r,s,l,e[t+10],9,38016083),l=a(l,f,r,s,e[t+15],14,-660478335),s=a(s,l,f,r,e[t+4],20,-405537848),r=a(r,s,l,f,e[t+9],5,568446438),f=a(f,r,s,l,e[t+14],9,-1019803690),l=a(l,f,r,s,e[t+3],14,-187363961),s=a(s,l,f,r,e[t+8],20,1163531501),r=a(r,s,l,f,e[t+13],5,-1444681467),f=a(f,r,s,l,e[t+2],9,-51403784),l=a(l,f,r,s,e[t+7],14,1735328473),s=a(s,l,f,r,e[t+12],20,-1926607734),r=c(r,s,l,f,e[t+5],4,-378558),f=c(f,r,s,l,e[t+8],11,-2022574463),l=c(l,f,r,s,e[t+11],16,1839030562),s=c(s,l,f,r,e[t+14],23,-35309556),r=c(r,s,l,f,e[t+1],4,-1530992060),f=c(f,r,s,l,e[t+4],11,1272893353),l=c(l,f,r,s,e[t+7],16,-155497632),s=c(s,l,f,r,e[t+10],23,-1094730640),r=c(r,s,l,f,e[t+13],4,681279174),f=c(f,r,s,l,e[t],11,-358537222),l=c(l,f,r,s,e[t+3],16,-722521979),s=c(s,l,f,r,e[t+6],23,76029189),r=c(r,s,l,f,e[t+9],4,-640364487),f=c(f,r,s,l,e[t+12],11,-421815835),l=c(l,f,r,s,e[t+15],16,530742520),s=c(s,l,f,r,e[t+2],23,-995338651),r=u(r,s,l,f,e[t],6,-198630844),f=u(f,r,s,l,e[t+7],10,1126891415),l=u(l,f,r,s,e[t+14],15,-1416354905),s=u(s,l,f,r,e[t+5],21,-57434055),r=u(r,s,l,f,e[t+12],6,1700485571),f=u(f,r,s,l,e[t+3],10,-1894986606),l=u(l,f,r,s,e[t+10],15,-1051523),s=u(s,l,f,r,e[t+1],21,-2054922799),r=u(r,s,l,f,e[t+8],6,1873313359),f=u(f,r,s,l,e[t+15],10,-30611744),l=u(l,f,r,s,e[t+6],15,-1560198380),s=u(s,l,f,r,e[t+13],21,1309151649),r=u(r,s,l,f,e[t+4],6,-145523070),f=u(f,r,s,l,e[t+11],10,-1120210379),l=u(l,f,r,s,e[t+2],15,718787259),s=u(s,l,f,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,d),l=i(l,h),f=i(f,p)}return[r,s,l,f]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=l}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/md5-browser.js"}],[1308,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};r.default=n}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/native-browser.js"}],[1309,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/nil.js"}],[131,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:40,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=40;const r=t.data;return t.data=function(e){return delete e.ProviderApprovalController,e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/040.js"}],[1310,{"./validate.js":1320},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/parse.js"}],[1311,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/regex.js"}],[1312,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/rng-browser.js"}],[1313,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],l=r[3],f=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,l)+f+t[r]+s[e]>>>0;f=l,l=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+f>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/sha1-browser.js"}],[1314,{"./validate.js":1320},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.unsafeStringify=o;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}var a=function(e,t=0){const r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/stringify.js"}],[1315,{"./rng.js":1312,"./stringify.js":1314},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./rng.js"))&&n.__esModule?n:{default:n},s=e("./stringify.js");let o,a,c=0,u=0;var l=function(e,t,r){let n=t&&r||0;const l=t||new Array(16);let f=(e=e||{}).node||o,d=e.clockseq!==undefined?e.clockseq:a;if(null==f||null==d){const t=e.random||(e.rng||i.default)();null==f&&(f=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==d&&(d=a=16383&(t[6]<<8|t[7]))}let h=e.msecs!==undefined?e.msecs:Date.now(),p=e.nsecs!==undefined?e.nsecs:u+1;const m=h-c+(p-u)/1e4;if(m<0&&e.clockseq===undefined&&(d=d+1&16383),(m<0||h>c)&&e.nsecs===undefined&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=p,a=d,h+=122192928e5;const g=(1e4*(268435455&h)+p)%4294967296;l[n++]=g>>>24&255,l[n++]=g>>>16&255,l[n++]=g>>>8&255,l[n++]=255&g;const y=h/4294967296*1e4&268435455;l[n++]=y>>>8&255,l[n++]=255&y,l[n++]=y>>>24&15|16,l[n++]=y>>>16&255,l[n++]=d>>>8|128,l[n++]=255&d;for(let e=0;e<6;++e)l[n+e]=f[e];return t||(0,s.unsafeStringify)(l)};r.default=l}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v1.js"}],[1316,{"./md5.js":1307,"./v35.js":1317},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v3.js"}],[1317,{"./parse.js":1310,"./stringify.js":1314},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0,r.default=function(e,t,r){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,i=e("./stringify.js"),s=(n=e("./parse.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v35.js"}],[1318,{"./native.js":1308,"./rng.js":1312,"./stringify.js":1314},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./native.js")),i=o(e("./rng.js")),s=e("./stringify.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.unsafeStringify)(o)};r.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v4.js"}],[1319,{"./sha1.js":1313,"./v35.js":1317},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v5.js"}],[132,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:41,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=41;const r=t.data;return t.data=function(e){e.PreferencesController&&e.PreferencesController.preferences&&(e.PreferencesController.preferences.autoLockTimeLimit=e.PreferencesController.preferences.autoLogoutTimeLimit,delete e.PreferencesController.preferences.autoLogoutTimeLimit);return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/041.js"}],[1320,{"./regex.js":1311},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/validate.js"}],[1321,{"./validate.js":1320},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/version.js"}],[133,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:42,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=42;const r=t.data;return t.data=function(e){e.AppStateController?e.AppStateController.connectedStatusPopoverHasBeenShown=!1:e.AppStateController={connectedStatusPopoverHasBeenShown:!1};return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/042.js"}],[134,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:43,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=43;const r=t.data;return t.data=function(e){var t;null!=e&&null!==(t=e.PreferencesController)&&void 0!==t&&t.currentAccountTab&&delete e.PreferencesController.currentAccountTab;return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/043.js"}],[1340,{"./trezor-keyring":1341},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./trezor-keyring"),r)}}},{package:"@metamask/eth-trezor-keyring",file:"node_modules/@metamask/eth-trezor-keyring/dist/index.js"}],[1341,{"@ethereumjs/tx":398,"@ethereumjs/util":410,"@metamask/utils":1350,"@trezor/connect-plugin-ethereum":2291,"@trezor/connect-web":2294,buffer:2913,events:3331,hdkey:1360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,i,s,o,a,c,u=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&u(t,e,r);return l(t,e),t},d=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TrezorKeyring=void 0;const p=e("events"),m=f(e("@ethereumjs/util")),g=h(e("hdkey")),y=f(e("@trezor/connect-web")),b=e("@ethereumjs/tx"),w=e("@trezor/connect-plugin-ethereum"),k=e("@metamask/utils"),_="m/44'/60'/0'/0",v={[_]:!0,"m/44'/60'/0'":!0,"m/44'/1'/0'/0":!0},E="Trezor Hardware",T=1e3,S={email:"support@metamask.io",appUrl:"https://metamask.io"};async function A(e){return new Promise((t=>setTimeout(t,e)))}function I(e){return"function"==typeof e.getChainId}class P extends p.EventEmitter{constructor(e={}){super(),n.add(this),this.type=E,this.accounts=[],this.hdk=new g.default,this.hdPath=_,this.page=0,this.perPage=5,this.unlockedAccount=0,this.paths={},this.trezorConnectInitiated=!1,this.deserialize(e),y.default.on(y.DEVICE_EVENT,(e=>{var t;(function(e){return(0,k.hasProperty)(e.payload,"features")})(e)&&(this.model=null===(t=e.payload.features)||void 0===t?void 0:t.model)})),this.trezorConnectInitiated||(y.default.init({manifest:S,lazyLoad:!0}),this.trezorConnectInitiated=!0)}getModel(){return this.model}dispose(){y.default.dispose()}async serialize(){return Promise.resolve({hdPath:this.hdPath,accounts:this.accounts,page:this.page,paths:this.paths,perPage:this.perPage,unlockedAccount:this.unlockedAccount})}async deserialize(e={}){var t,r,n,i;return this.hdPath=null!==(t=e.hdPath)&&void 0!==t?t:_,this.accounts=null!==(r=e.accounts)&&void 0!==r?r:[],this.page=null!==(n=e.page)&&void 0!==n?n:0,this.perPage=null!==(i=e.perPage)&&void 0!==i?i:5,Promise.resolve()}isUnlocked(){var e;return Boolean(null===(e=this.hdk)||void 0===e?void 0:e.publicKey)}async unlock(){return this.isUnlocked()?Promise.resolve("already unlocked"):new Promise(((e,r)=>{y.default.getPublicKey({path:this.hdPath,coin:"ETH"}).then((n=>{var i;n.success?(this.hdk.publicKey=t.from(n.payload.publicKey,"hex"),this.hdk.chainCode=t.from(n.payload.chainCode,"hex"),e("just unlocked")):r(new Error((null===(i=n.payload)||void 0===i?void 0:i.error)||"Unknown error"))})).catch((e=>{r(new Error((null==e?void 0:e.toString())||"Unknown error"))}))}))}setAccountToUnlock(e){this.unlockedAccount=parseInt(String(e),10)}async addAccounts(e=1){return new Promise(((t,r)=>{this.unlock().then((r=>{const i=this.unlockedAccount,s=i+e;for(let e=i;e<s;e++){const t=d(this,n,"m",a).call(this,"m",e);this.accounts.includes(t)||(this.accounts=[...this.accounts,t]),this.page=0}t(this.accounts)})).catch((e=>{r(e)}))}))}async getFirstPage(){return this.page=0,d(this,n,"m",i).call(this,1)}async getNextPage(){return d(this,n,"m",i).call(this,1)}async getPreviousPage(){return d(this,n,"m",i).call(this,-1)}async getAccounts(){return Promise.resolve(this.accounts.slice())}removeAccount(e){if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))}async signTransaction(e,r){return I(r)?d(this,n,"m",s).call(this,e,r.getChainId(),r,(e=>(r.v=t.from(e.v,"hex"),r.r=t.from(e.r,"hex"),r.s=t.from(e.s,"hex"),r))):d(this,n,"m",s).call(this,e,Number(r.common.chainId()),r,(e=>{const t=r.toJSON();return t.type=r.type,t.v=m.addHexPrefix(e.v),t.r=m.addHexPrefix(e.r),t.s=m.addHexPrefix(e.s),b.TransactionFactory.fromTxData(t,{common:r.common,freeze:Object.isFrozen(r)})}))}async signMessage(e,t){return this.signPersonalMessage(e,t)}async signPersonalMessage(e,t){return new Promise(((r,i)=>{this.unlock().then((s=>{setTimeout((()=>{y.default.ethereumSignMessage({path:d(this,n,"m",c).call(this,e),message:m.stripHexPrefix(t),hex:!0}).then((t=>{var n;if(t.success){t.payload.address!==m.toChecksumAddress(e)&&i(new Error("signature doesnt match the right address"));const n=`0x${t.payload.signature}`;r(n)}else i(new Error((null===(n=t.payload)||void 0===n?void 0:n.error)||"Unknown error"))})).catch((e=>{i(new Error((null==e?void 0:e.toString())||"Unknown error"))}))}),"just unlocked"===s?T:0)})).catch((e=>{i(new Error((null==e?void 0:e.toString())||"Unknown error"))}))}))}async signTypedData(e,t,{version:r}){var i,s;const o=(0,w.transformTypedData)(t,"V4"===r),{types:a,message:u={},domain:l={},primaryType:f,domain_separator_hash:h,message_hash:p}=o,g=await this.unlock();await A("just unlocked"===g?T:0);const b=await y.default.ethereumSignTypedData({path:d(this,n,"m",c).call(this,e),data:{types:Object.assign(Object.assign({},a),{EIP712Domain:null!==(i=a.EIP712Domain)&&void 0!==i?i:[]}),message:u,domain:l,primaryType:f},metamask_v4_compat:!0,domain_separator_hash:h,message_hash:null!=p?p:""});if(b.success){if(m.toChecksumAddress(e)!==b.payload.address)throw new Error("signature doesnt match the right address");return b.payload.signature}throw new Error((null===(s=b.payload)||void 0===s?void 0:s.error)||"Unknown error")}async exportAccount(){return Promise.reject(new Error("Not supported on this device"))}forgetDevice(){this.accounts=[],this.hdk=new g.default,this.page=0,this.unlockedAccount=0,this.paths={}}setHdPath(e){if(!v[e])throw new Error(`The setHdPath method does not support setting HD Path to ${e}`);this.hdPath!==e&&(this.hdk=new g.default,this.accounts=[],this.page=0,this.perPage=5,this.unlockedAccount=0,this.paths={}),this.hdPath=e}}r.TrezorKeyring=P,n=new WeakSet,i=async function(e){return this.page+=e,this.page<=0&&(this.page=1),new Promise(((e,t)=>{this.unlock().then((t=>{const r=(this.page-1)*this.perPage,i=r+this.perPage,s=[];for(let e=r;e<i;e++){const t=d(this,n,"m",a).call(this,"m",e);s.push({address:t,balance:null,index:e}),this.paths[m.toChecksumAddress(t)]=e}e(s)})).catch((e=>{t(e)}))}))},s=async function(e,t,r,i){var s,a;let u;u=I(r)?{to:d(this,n,"m",o).call(this,r.to),value:d(this,n,"m",o).call(this,r.value),data:d(this,n,"m",o).call(this,r.data),chainId:t,nonce:d(this,n,"m",o).call(this,r.nonce),gasLimit:d(this,n,"m",o).call(this,r.gasLimit),gasPrice:d(this,n,"m",o).call(this,r.gasPrice)}:Object.assign(Object.assign({},r.toJSON()),{chainId:t,to:d(this,n,"m",o).call(this,m.toBuffer(r.to))});try{const t=await this.unlock();await A("just unlocked"===t?T:0);const r=await y.default.ethereumSignTransaction({path:d(this,n,"m",c).call(this,e),transaction:u});if(r.success){const t=i(r.payload),n=m.toChecksumAddress(m.addHexPrefix(t.getSenderAddress().toString("hex")));if(n!==m.toChecksumAddress(e))throw new Error("signature doesn't match the right address");return t}throw new Error((null===(s=r.payload)||void 0===s?void 0:s.error)||"Unknown error")}catch(e){throw new Error(null!==(a=null==e?void 0:e.toString())&&void 0!==a?a:"Unknown error")}},o=function(e){return m.bufferToHex(e).toString()},a=function(e,t){const r=this.hdk.derive(`${e}/${t}`),n=m.publicToAddress(r.publicKey,!0).toString("hex");return m.toChecksumAddress(`0x${n}`)},c=function(e){const t=m.toChecksumAddress(e);let r=this.paths[t];if(void 0===r)for(let e=0;e<1e3;e++)if(t===d(this,n,"m",a).call(this,"m",e)){r=e;break}if(void 0===r)throw new Error("Unknown address");return`${this.hdPath}/${r}`},P.type=E}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring",file:"node_modules/@metamask/eth-trezor-keyring/dist/trezor-keyring.js"}],[1342,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertExhaustive=r.assertStruct=r.assert=r.AssertionError=void 0;const n=e("superstruct");function i(e,t){return r=e,Boolean("string"==typeof(null===(i=null===(n=null==r?void 0:r.prototype)||void 0===n?void 0:n.constructor)||void 0===i?void 0:i.name))?new e({message:t}):e({message:t});var r,n,i}class s extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}r.AssertionError=s,r.assert=function(e,t="Assertion failed.",r=s){if(!e){if(t instanceof Error)throw t;throw i(r,t)}},r.assertStruct=function(e,t,r="Assertion failed",o=s){try{(0,n.assert)(e,t)}catch(e){throw i(o,`${r}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},r.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/assert.js"}],[1343,{"./assert":1342,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.base64=void 0;const n=e("superstruct"),i=e("./assert");r.base64=(e,t={})=>{var r,s;const o=null!==(r=t.paddingRequired)&&void 0!==r&&r,a=null!==(s=t.characterSet)&&void 0!==s?s:"base64";let c,u;return"base64"===a?c=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===a),c=String.raw`[-_A-Za-z0-9]`),u=o?new RegExp(`^(?:${c}{4})*(?:${c}{3}=|${c}{2}==)?$`,"u"):new RegExp(`^(?:${c}{4})*(?:${c}{2,3}|${c}{3}=|${c}{2}==)?$`,"u"),(0,n.pattern)(e,u)}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/base64.js"}],[1344,{"./assert":1342,"./hex":1349,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.createDataView=r.concatBytes=r.valueToBytes=r.stringToBytes=r.numberToBytes=r.signedBigIntToBytes=r.bigIntToBytes=r.hexToBytes=r.bytesToString=r.bytesToNumber=r.bytesToSignedBigInt=r.bytesToBigInt=r.bytesToHex=r.assertIsBytes=r.isBytes=void 0;const n=e("./assert"),i=e("./hex"),s=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,n.assert)(u(e),"Value must be a Uint8Array.")}function f(e){if(l(e),0===e.length)return"0x";const t=c(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,i.add0x)(r.join(""))}function d(e){l(e);const t=f(e);return BigInt(t)}function h(e){var t;if("0x"===(null===(t=null==e?void 0:e.toLowerCase)||void 0===t?void 0:t.call(e)))return new Uint8Array;(0,i.assertIsHexString)(e);const r=(0,i.remove0x)(e).toLowerCase(),n=r.length%2==0?r:`0${r}`,c=new Uint8Array(n.length/2);for(let e=0;e<c.length;e++){const t=n.charCodeAt(2*e),r=n.charCodeAt(2*e+1),i=t-(t<o?s:a),u=r-(r<o?s:a);c[e]=16*i+u}return c}function p(e){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return h(e.toString(16))}function m(e){(0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return h(e.toString(16))}function g(e){return(0,n.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return p(e);if("number"==typeof e)return m(e);if("string"==typeof e)return e.startsWith("0x")?h(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}r.isBytes=u,r.assertIsBytes=l,r.bytesToHex=f,r.bytesToBigInt=d,r.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},r.bytesToNumber=function(e){l(e);const t=d(e);return(0,n.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},r.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},r.hexToBytes=h,r.bigIntToBytes=p,r.signedBigIntToBytes=function(e,t){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)("number"==typeof t,"Byte length must be a number."),(0,n.assert)(t>0,"Byte length must be greater than 0."),(0,n.assert)(function(e,t){(0,n.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const i=new Uint8Array(t);for(let e=0;e<i.length;e++)i[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return i.reverse()},r.numberToBytes=m,r.stringToBytes=g,r.valueToBytes=y,r.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const i=y(e[n]);t[n]=i,r+=i.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},r.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/bytes.js"}],[1345,{"./base64":1343,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChecksumStruct=void 0;const n=e("superstruct"),i=e("./base64");r.ChecksumStruct=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/checksum.js"}],[1346,{"./assert":1342,"./bytes":1344,"./hex":1349,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHex=r.createBytes=r.createBigInt=r.createNumber=void 0;const n=e("superstruct"),i=e("./assert"),s=e("./bytes"),o=e("./hex"),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),o.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),a,Number),u=(0,n.coerce)((0,n.bigint)(),a,BigInt),l=((0,n.union)([o.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([o.StrictHexStruct]),s.hexToBytes)),f=(0,n.coerce)(o.StrictHexStruct,(0,n.instance)(Uint8Array),s.bytesToHex);r.createNumber=function(e){try{const t=(0,n.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},r.createBigInt=function(e){try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},r.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},r.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,f)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/coercers.js"}],[1347,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.FrozenSet=r.FrozenMap=void 0;class a{constructor(e){n.set(this,void 0),s(this,n,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return o(this,n,"f")[Symbol.iterator]()}entries(){return o(this,n,"f").entries()}forEach(e,t){return o(this,n,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}get(e){return o(this,n,"f").get(e)}has(e){return o(this,n,"f").has(e)}keys(){return o(this,n,"f").keys()}values(){return o(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}r.FrozenMap=a;class c{constructor(e){i.set(this,void 0),s(this,i,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return o(this,i,"f")[Symbol.iterator]()}entries(){return o(this,i,"f").entries()}forEach(e,t){return o(this,i,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}has(e){return o(this,i,"f").has(e)}keys(){return o(this,i,"f").keys()}values(){return o(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}r.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/collections.js"}],[1348,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/encryption-types.js"}],[1349,{"./assert":1342,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.remove0x=r.add0x=r.assertIsStrictHexString=r.assertIsHexString=r.isStrictHexString=r.isHexString=r.StrictHexStruct=r.HexStruct=void 0;const n=e("superstruct"),i=e("./assert");function s(e){return(0,n.is)(e,r.HexStruct)}function o(e){return(0,n.is)(e,r.StrictHexStruct)}r.HexStruct=(0,n.pattern)((0,n.string)(),/^(?:0x)?[0-9a-f]+$/iu),r.StrictHexStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]+$/iu),r.isHexString=s,r.isStrictHexString=o,r.assertIsHexString=function(e){(0,i.assert)(s(e),"Value must be a hexadecimal string.")},r.assertIsStrictHexString=function(e){(0,i.assert)(o(e),'Value must be a hexadecimal string, starting with "0x".')},r.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},r.remove0x=function(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/hex.js"}],[135,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:44,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=44;const r=t.data;return t.data=function(e){var t;void 0!==(null==e||null===(t=e.AppStateController)||void 0===t?void 0:t.mkrMigrationReminderTimestamp)&&delete e.AppStateController.mkrMigrationReminderTimestamp;return e}(r),t}}}}},{package:"$root$",file:"app/scripts/migrations/044.js"}],[1350,{"./assert":1342,"./base64":1343,"./bytes":1344,"./checksum":1345,"./coercers":1346,"./collections":1347,"./encryption-types":1348,"./hex":1349,"./json":1351,"./keyring":1352,"./logging":1353,"./misc":1354,"./number":1355,"./opaque":1356,"./time":1357,"./transaction-types":1358,"./versions":1359},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./assert"),r),i(e("./base64"),r),i(e("./bytes"),r),i(e("./checksum"),r),i(e("./coercers"),r),i(e("./collections"),r),i(e("./encryption-types"),r),i(e("./hex"),r),i(e("./json"),r),i(e("./keyring"),r),i(e("./logging"),r),i(e("./misc"),r),i(e("./number"),r),i(e("./opaque"),r),i(e("./time"),r),i(e("./transaction-types"),r),i(e("./versions"),r)}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/index.js"}],[1351,{"./assert":1342,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonRpcIdValidator=r.assertIsJsonRpcError=r.isJsonRpcError=r.assertIsJsonRpcFailure=r.isJsonRpcFailure=r.assertIsJsonRpcSuccess=r.isJsonRpcSuccess=r.assertIsJsonRpcResponse=r.isJsonRpcResponse=r.assertIsPendingJsonRpcResponse=r.isPendingJsonRpcResponse=r.JsonRpcResponseStruct=r.JsonRpcFailureStruct=r.JsonRpcSuccessStruct=r.PendingJsonRpcResponseStruct=r.assertIsJsonRpcRequest=r.isJsonRpcRequest=r.assertIsJsonRpcNotification=r.isJsonRpcNotification=r.JsonRpcNotificationStruct=r.JsonRpcRequestStruct=r.JsonRpcParamsStruct=r.JsonRpcErrorStruct=r.JsonRpcIdStruct=r.JsonRpcVersionStruct=r.jsonrpc2=r.getJsonSize=r.isValidJson=r.JsonStruct=r.UnsafeJsonStruct=void 0;const n=e("superstruct"),i=e("./assert");r.UnsafeJsonStruct=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>r.UnsafeJsonStruct))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>r.UnsafeJsonStruct)))]),r.JsonStruct=(0,n.define)("Json",((e,t)=>{function n(e,r){const n=[...r.validator(e,t)];return!(n.length>0)||n}try{const t=n(e,r.UnsafeJsonStruct);return!0!==t?t:n(JSON.parse(JSON.stringify(e)),r.UnsafeJsonStruct)}catch(e){return e instanceof RangeError&&"Circular reference detected"}})),r.isValidJson=function(e){return(0,n.is)(e,r.JsonStruct)},r.getJsonSize=function(e){(0,i.assertStruct)(e,r.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},r.jsonrpc2="2.0",r.JsonRpcVersionStruct=(0,n.literal)(r.jsonrpc2),r.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),r.JsonRpcErrorStruct=(0,n.object)({code:(0,n.integer)(),message:(0,n.string)(),data:(0,n.optional)(r.JsonStruct),stack:(0,n.optional)((0,n.string)())}),r.JsonRpcParamsStruct=(0,n.optional)((0,n.union)([(0,n.record)((0,n.string)(),r.JsonStruct),(0,n.array)(r.JsonStruct)])),r.JsonRpcRequestStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:r.JsonRpcParamsStruct}),r.JsonRpcNotificationStruct=(0,n.omit)(r.JsonRpcRequestStruct,["id"]),r.isJsonRpcNotification=function(e){return(0,n.is)(e,r.JsonRpcNotificationStruct)},r.assertIsJsonRpcNotification=function(e,t){(0,i.assertStruct)(e,r.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},r.isJsonRpcRequest=function(e){return(0,n.is)(e,r.JsonRpcRequestStruct)},r.assertIsJsonRpcRequest=function(e,t){(0,i.assertStruct)(e,r.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},r.PendingJsonRpcResponseStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(r.JsonRpcErrorStruct)}),r.JsonRpcSuccessStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:r.JsonStruct}),r.JsonRpcFailureStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,error:r.JsonRpcErrorStruct}),r.JsonRpcResponseStruct=(0,n.union)([r.JsonRpcSuccessStruct,r.JsonRpcFailureStruct]),r.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,r.PendingJsonRpcResponseStruct)},r.assertIsPendingJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},r.isJsonRpcResponse=function(e){return(0,n.is)(e,r.JsonRpcResponseStruct)},r.assertIsJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},r.isJsonRpcSuccess=function(e){return(0,n.is)(e,r.JsonRpcSuccessStruct)},r.assertIsJsonRpcSuccess=function(e,t){(0,i.assertStruct)(e,r.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},r.isJsonRpcFailure=function(e){return(0,n.is)(e,r.JsonRpcFailureStruct)},r.assertIsJsonRpcFailure=function(e,t){(0,i.assertStruct)(e,r.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},r.isJsonRpcError=function(e){return(0,n.is)(e,r.JsonRpcErrorStruct)},r.assertIsJsonRpcError=function(e,t){(0,i.assertStruct)(e,r.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},r.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e);return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/json.js"}],[1352,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/keyring.js"}],[1353,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.createProjectLogger=void 0;const i=(0,n(e("debug")).default)("metamask");r.createProjectLogger=function(e){return i.extend(e)},r.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/logging.js"}],[1354,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateNumberSize=r.calculateStringSize=r.isASCII=r.isPlainObject=r.ESCAPE_CHARACTERS_REGEXP=r.JsonSize=r.hasProperty=r.isObject=r.isNullOrUndefined=r.isNonEmptyArray=void 0,r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isNullOrUndefined=function(e){return null===e||e===undefined},r.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function n(e){return e.charCodeAt(0)<=127}r.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(r.JsonSize||(r.JsonSize={})),r.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,r.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},r.isASCII=n,r.calculateStringSize=function(e){var t;return e.split("").reduce(((e,t)=>n(t)?e+1:e+2),0)+(null!==(t=e.match(r.ESCAPE_CHARACTERS_REGEXP))&&void 0!==t?t:[]).length},r.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/misc.js"}],[1355,{"./assert":1342,"./hex":1349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hexToBigInt=r.hexToNumber=r.bigIntToHex=r.numberToHex=void 0;const n=e("./assert"),i=e("./hex");r.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16)));r.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16)));r.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};r.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/number.js"}],[1356,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/opaque.js"}],[1357,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeSince=r.inMilliseconds=r.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r.Duration||(r.Duration={}));const n=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};r.inMilliseconds=function(e,t){return n(e,"count"),e*t},r.timeSince=function(e){return n(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/time.js"}],[1358,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/transaction-types.js"}],[1359,{"./assert":1342,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.satisfiesVersionRange=r.gtRange=r.gtVersion=r.assertIsSemVerRange=r.assertIsSemVerVersion=r.isValidSemVerRange=r.isValidSemVerVersion=r.VersionRangeStruct=r.VersionStruct=void 0;const n=e("semver"),i=e("superstruct"),s=e("./assert");r.VersionStruct=(0,i.refine)((0,i.string)(),"Version",(e=>null!==(0,n.valid)(e)||`Expected SemVer version, got "${e}"`)),r.VersionRangeStruct=(0,i.refine)((0,i.string)(),"Version range",(e=>null!==(0,n.validRange)(e)||`Expected SemVer range, got "${e}"`)),r.isValidSemVerVersion=function(e){return(0,i.is)(e,r.VersionStruct)},r.isValidSemVerRange=function(e){return(0,i.is)(e,r.VersionRangeStruct)},r.assertIsSemVerVersion=function(e){(0,s.assertStruct)(e,r.VersionStruct)},r.assertIsSemVerRange=function(e){(0,s.assertStruct)(e,r.VersionRangeStruct)},r.gtVersion=function(e,t){return(0,n.gt)(e,t)},r.gtRange=function(e,t){return(0,n.gtr)(e,t)},r.satisfiesVersionRange=function(e,t){return(0,n.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/eth-trezor-keyring>@metamask/utils",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/@metamask/utils/dist/versions.js"}],[136,{lodash:4071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:45,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=45;const r=t.data;return t.data=function(e){var t;i.includes(null==e||null===(t=e.PreferencesController)||void 0===t?void 0:t.ipfsGateway)&&(e.PreferencesController.ipfsGateway="dweb.link");return e}(r),t}};const i=["ipfs.io","ipfs.dweb.link"]}}},{package:"$root$",file:"app/scripts/migrations/045.js"}],[1360,{assert:2907,coinstring:2955,crypto:3123,"safe-buffer":4521,secp256k1:1361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("assert"),i=e("safe-buffer").Buffer,s=e("crypto"),o=e("coinstring"),a=e("secp256k1"),c=i.from("Bitcoin seed","utf8"),u=2147483648,l={private:76066276,public:76067358};function f(e){this.versions=e||l,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function d(e,t,r){var n=i.allocUnsafe(78);n.writeUInt32BE(t,0),n.writeUInt8(e.depth,4);var s=e.depth?e.parentFingerprint:0;return n.writeUInt32BE(s,5),n.writeUInt32BE(e.index,9),e.chainCode.copy(n,13),r.copy(n,45),n}function h(e){var t=s.createHash("sha256").update(e).digest();return s.createHash("rmd160").update(t).digest()}Object.defineProperty(f.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(f.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(f.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(f.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){n.equal(e.length,32,"Private key must be 32 bytes."),n(!0===a.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=a.publicKeyCreate(e,!0),this._identifier=h(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(f.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){n(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),n(!0===a.publicKeyVerify(e),"Invalid public key"),this._publicKey=a.publicKeyConvert(e,!0),this._identifier=h(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}}),Object.defineProperty(f.prototype,"privateExtendedKey",{get:function(){return this._privateKey?o.encode(d(this,this.versions.private,i.concat([i.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(f.prototype,"publicExtendedKey",{get:function(){return o.encode(d(this,this.versions.public,this.publicKey))}}),f.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var t=e.split("/"),r=this;return t.forEach((function(e,t){if(0!==t){var i=e.length>1&&"'"===e[e.length-1],s=parseInt(e,10);n(s<u,"Invalid index"),i&&(s+=u),r=r.deriveChild(s)}else n(e,"m","Invalid path")})),r},f.prototype.deriveChild=function(e){var t,r=e>=u,o=i.allocUnsafe(4);if(o.writeUInt32BE(e,0),r){n(this.privateKey,"Could not derive hardened child key");var c=this.privateKey,l=i.alloc(1,0);c=i.concat([l,c]),t=i.concat([c,o])}else t=i.concat([this.publicKey,o]);var d=s.createHmac("sha512",this.chainCode).update(t).digest(),h=d.slice(0,32),p=d.slice(32),m=new f(this.versions);if(this.privateKey)try{m.privateKey=a.privateKeyTweakAdd(this.privateKey,h)}catch(t){return this.derive(e+1)}else try{m.publicKey=a.publicKeyTweakAdd(this.publicKey,h,!0)}catch(t){return this.derive(e+1,r)}return m.chainCode=p,m.depth=this.depth+1,m.parentFingerprint=this.fingerprint,m.index=e,m},f.prototype.sign=function(e){return a.sign(e,this.privateKey).signature},f.prototype.verify=function(e,t){return a.verify(e,t,this.publicKey)},f.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},f.fromMasterSeed=function(e,t){var r=s.createHmac("sha512",c).update(e).digest(),n=r.slice(0,32),i=r.slice(32),o=new f(t);return o.chainCode=i,o.privateKey=n,o},f.fromExtendedKey=function(e,t){var r=new f(t=t||l),i=o.decode(e),s=i.readUInt32BE(0);n(s===t.private||s===t.public,"Version mismatch: does not match private or public"),r.depth=i.readUInt8(4),r.parentFingerprint=i.readUInt32BE(5),r.index=i.readUInt32BE(9),r.chainCode=i.slice(13,45);var a=i.slice(45);return 0===a.readUInt8(0)?(n(s===t.private,"Version mismatch: version does not match private"),r.privateKey=a.slice(1)):(n(s===t.public,"Version mismatch: version does not match public"),r.publicKey=a),r},f.fromJSON=function(e){return f.fromExtendedKey(e.xpriv)},f.HARDENED_OFFSET=u,t.exports=f}}},{package:"@metamask/eth-trezor-keyring>hdkey",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/hdkey/lib/hdkey.js"}],[1361,{"./lib":1365,"./lib/elliptic":1364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./lib")(e("./lib/elliptic"))}}},{package:"@metamask/eth-trezor-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/secp256k1/elliptic.js"}],[1362,{"../../../../../is-buffer/index.js":3838},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){var t=Object.prototype.toString;r.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},r.isBoolean=function(e,r){if("[object Boolean]"!==t.call(e))throw TypeError(r)},r.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},r.isFunction=function(e,r){if("[object Function]"!==t.call(e))throw TypeError(r)},r.isNumber=function(e,r){if("[object Number]"!==t.call(e))throw TypeError(r)},r.isObject=function(e,r){if("[object Object]"!==t.call(e))throw TypeError(r)},r.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},r.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},r.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},r.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}}).call(this)}).call(this,{isBuffer:e("../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-trezor-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/secp256k1/lib/assert.js"}],[1363,{bip66:2805,"safe-buffer":4521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("bip66"),s=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(e,t,r){var i=n.from(r?s:o);return e.copy(i,r?8:9),t.copy(i,r?181:214),i},r.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},r.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,s=0;r>1&&0===t[s]&&!(128&t[s+1]);--r,++s);for(var o=n.concat([n.from([0]),e.s]),a=33,c=0;a>1&&0===o[c]&&!(128&o[c+1]);--a,++c);return i.encode(t.slice(s),o.slice(c))},r.signatureImport=function(e){var t=n.alloc(32,0),r=n.alloc(32,0);try{var s=i.decode(e);if(33===s.r.length&&0===s.r[0]&&(s.r=s.r.slice(1)),s.r.length>32)throw new Error("R length is too long");if(33===s.s.length&&0===s.s[0]&&(s.s=s.s.slice(1)),s.s.length>32)throw new Error("S length is too long")}catch(e){return}return s.r.copy(t,32-s.r.length),s.s.copy(r,32-s.s.length),{r:t,s:r}},r.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),i=e.length,s=0;if(48===e[s++]){var o=e[s++];if(!(128&o&&(s+=o-128)>i)&&2===e[s++]){var a=e[s++];if(128&a){if(s+(o=a-128)>i)return;for(;o>0&&0===e[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+e[s]}if(!(a>i-s)){var c=s;if(s+=a,2===e[s++]){var u=e[s++];if(128&u){if(s+(o=u-128)>i)return;for(;o>0&&0===e[s];s+=1,o-=1);for(u=0;o>0;s+=1,o-=1)u=(u<<8)+e[s]}if(!(u>i-s)){var l=s;for(s+=u;a>0&&0===e[c];a-=1,c+=1);if(!(a>32)){var f=e.slice(c,c+a);for(f.copy(t,32-f.length);u>0&&0===e[l];u-=1,l+=1);if(!(u>32)){var d=e.slice(l,l+u);return d.copy(r,32-d.length),{r:t,s:r}}}}}}}}}}}},{package:"@metamask/eth-trezor-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/secp256k1/lib/der.js"}],[1364,{"../messages.json":1366,"bn.js":2851,"create-hash":3114,elliptic:3153,"safe-buffer":4521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("create-hash"),s=e("bn.js"),o=e("elliptic").ec,a=e("../messages.json"),c=new o("secp256k1"),u=c.curve;function l(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new s(t);if(r.cmp(u.p)>=0)return null;var n=(r=r.toRed(u.red)).redSqr().redIMul(r).redIAdd(u.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),c.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new s(t),i=new s(r);if(n.cmp(u.p)>=0||i.cmp(u.p)>=0)return null;if(n=n.toRed(u.red),i=i.toRed(u.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(u.b)).isZero()?c.keyPair({pub:{x:n,y:i}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}r.privateKeyVerify=function(e){var t=new s(e);return t.cmp(u.n)<0&&!t.isZero()},r.privateKeyExport=function(e,t){var r=new s(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},r.privateKeyNegate=function(e){var t=new s(e);return t.isZero()?n.alloc(32):u.n.sub(t).umod(u.n).toArrayLike(n,"be",32)},r.privateKeyModInverse=function(e){var t=new s(e);if(t.cmp(u.n)>=0||t.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return t.invm(u.n).toArrayLike(n,"be",32)},r.privateKeyTweakAdd=function(e,t){var r=new s(t);if(r.cmp(u.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new s(e)),r.cmp(u.n)>=0&&r.isub(u.n),r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},r.privateKeyTweakMul=function(e,t){var r=new s(t);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new s(e)),r.cmp(u.n)&&(r=r.umod(u.n)),r.toArrayLike(n,"be",32)},r.publicKeyCreate=function(e,t){var r=new s(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},r.publicKeyConvert=function(e,t){var r=l(e);if(null===r)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(t,!0))},r.publicKeyVerify=function(e){return null!==l(e)},r.publicKeyTweakAdd=function(e,t,r){var i=l(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new s(t)).cmp(u.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var o=u.g.mul(t).add(i.pub);if(o.isInfinity())throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(o.encode(!0,r))},r.publicKeyTweakMul=function(e,t,r){var i=l(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new s(t)).cmp(u.n)>=0||t.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(t).encode(!0,r))},r.publicKeyCombine=function(e,t){for(var r=new Array(e.length),i=0;i<e.length;++i)if(r[i]=l(e[i]),null===r[i])throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var s=r[0].pub,o=1;o<r.length;++o)s=s.add(r[o].pub);if(s.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(s.encode(!0,t))},r.signatureNormalize=function(e){var t=new s(e.slice(0,32)),r=new s(e.slice(32,64));if(t.cmp(u.n)>=0||r.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return 1===r.cmp(c.nh)&&u.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},r.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new s(t).cmp(u.n)>=0||new s(r).cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},r.signatureImport=function(e){var t=new s(e.r);t.cmp(u.n)>=0&&(t=new s(0));var r=new s(e.s);return r.cmp(u.n)>=0&&(r=new s(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},r.sign=function(e,t,r,i){if("function"==typeof r){var o=r;r=function(r){var c=o(e,t,null,i,r);if(!n.isBuffer(c)||32!==c.length)throw new Error(a.ECDSA_SIGN_FAIL);return new s(c)}}var l=new s(t);if(l.cmp(u.n)>=0||l.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var f=c.sign(e,t,{canonical:!0,k:r,pers:i});return{signature:n.concat([f.r.toArrayLike(n,"be",32),f.s.toArrayLike(n,"be",32)]),recovery:f.recoveryParam}},r.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},i=new s(n.r),o=new s(n.s);if(i.cmp(u.n)>=0||o.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(1===o.cmp(c.nh)||i.isZero()||o.isZero())return!1;var f=l(r);if(null===f)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return c.verify(e,n,{x:f.pub.x,y:f.pub.y})},r.recover=function(e,t,r,i){var o={r:t.slice(0,32),s:t.slice(32,64)},l=new s(o.r),f=new s(o.s);if(l.cmp(u.n)>=0||f.cmp(u.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(l.isZero()||f.isZero())throw new Error;var d=c.recoverPubKey(e,o,r);return n.from(d.encode(!0,i))}catch(e){throw new Error(a.ECDSA_RECOVER_FAIL)}},r.ecdh=function(e,t){var n=r.ecdhUnsafe(e,t,!0);return i("sha256").update(n).digest()},r.ecdhUnsafe=function(e,t,r){var i=l(e);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var o=new s(t);if(o.cmp(u.n)>=0||o.isZero())throw new Error(a.ECDH_FAIL);return n.from(i.pub.mul(o).encode(!0,r))}}}},{package:"@metamask/eth-trezor-keyring>hdkey>secp256k1",file:"node_modules/@metamask/eth-trezor-keyring/node_modules/secp256k1/lib/elliptic/index.js"}],[1365,{"./assert":1362,"./der":1363,"./messages.json":1366},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./assert"),i=e("./der"),s=e("./messages.json");function o(e,t){return e===undefined?t:(n.isBoolean(e,s.COMPRESSED_TYPE_INVALID),e)}t.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=o(r,!0);var a=e.privateKeyExport(t,r);return i.privateKeyExport(t,a,r)},privateKeyImport:function(t){if(n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(s.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=o(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r=o(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVAL