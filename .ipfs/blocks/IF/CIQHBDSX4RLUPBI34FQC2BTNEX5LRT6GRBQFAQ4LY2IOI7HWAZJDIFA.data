for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{HexStruct:function(){return a},StrictHexStruct:function(){return c},HexAddressStruct:function(){return u},HexChecksumAddressStruct:function(){return l},isHexString:function(){return d},isStrictHexString:function(){return m},assertIsHexString:function(){return f},assertIsStrictHexString:function(){return h},isValidHexAddress:function(){return p},getChecksumAddress:function(){return g},isValidChecksumAddress:function(){return b},add0x:function(){return y},remove0x:function(){return x}});const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes"),a=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),c=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),u=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),l=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u);function d(e){return(0,s.is)(e,a)}function m(e){return(0,s.is)(e,c)}function f(e){(0,i.assert)(d(e),"Value must be a hexadecimal string.")}function h(e){(0,i.assert)(m(e),'Value must be a hexadecimal string, starting with "0x".')}function p(e){return(0,s.is)(e,u)||b(e)}function g(e){(0,i.assert)((0,s.is)(e,l),"Invalid hex address.");const t=x(e.toLowerCase()),n=x((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const r=n[t];return(0,i.assert)((0,s.is)(r,(0,s.string)()),"Hash shorter than address."),parseInt(r,16)>7?e.toUpperCase():e})).join("")}`}function b(e){return!!(0,s.is)(e,l)&&g(e)===e}function y(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function x(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/hex.js"}],[1138,{"./assert":1129,"./base64":1130,"./bytes":1131,"./caip-types":1132,"./checksum":1133,"./coercers":1134,"./collections":1135,"./encryption-types":1136,"./hex":1137,"./json":1139,"./keyring":1140,"./logging":1141,"./misc":1142,"./number":1143,"./opaque":1144,"./time":1145,"./transaction-types":1146,"./versions":1147},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){return Object.keys(e).forEach((function(n){"default"===n||Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),e}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./assert"),n),r(e("./base64"),n),r(e("./bytes"),n),r(e("./caip-types"),n),r(e("./checksum"),n),r(e("./coercers"),n),r(e("./collections"),n),r(e("./encryption-types"),n),r(e("./hex"),n),r(e("./json"),n),r(e("./keyring"),n),r(e("./logging"),n),r(e("./misc"),n),r(e("./number"),n),r(e("./opaque"),n),r(e("./time"),n),r(e("./transaction-types"),n),r(e("./versions"),n)}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/index.js"}],[1139,{"./assert":1129,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{UnsafeJsonStruct:function(){return i},JsonStruct:function(){return o},isValidJson:function(){return a},getSafeJson:function(){return c},getJsonSize:function(){return u},jsonrpc2:function(){return l},JsonRpcVersionStruct:function(){return d},JsonRpcIdStruct:function(){return m},JsonRpcErrorStruct:function(){return f},JsonRpcParamsStruct:function(){return h},JsonRpcRequestStruct:function(){return p},JsonRpcNotificationStruct:function(){return g},isJsonRpcNotification:function(){return b},assertIsJsonRpcNotification:function(){return y},isJsonRpcRequest:function(){return x},assertIsJsonRpcRequest:function(){return v},PendingJsonRpcResponseStruct:function(){return k},JsonRpcSuccessStruct:function(){return w},JsonRpcFailureStruct:function(){return S},JsonRpcResponseStruct:function(){return E},isPendingJsonRpcResponse:function(){return C},assertIsPendingJsonRpcResponse:function(){return T},isJsonRpcResponse:function(){return A},assertIsJsonRpcResponse:function(){return _},isJsonRpcSuccess:function(){return P},assertIsJsonRpcSuccess:function(){return I},isJsonRpcFailure:function(){return B},assertIsJsonRpcFailure:function(){return j},isJsonRpcError:function(){return R},assertIsJsonRpcError:function(){return O},getJsonRpcIdValidator:function(){return N}});const r=e("superstruct"),s=e("./assert"),i=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>i))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>i)))]),o=(0,r.coerce)(i,(0,r.any)(),(e=>((0,s.assertStruct)(e,i),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t))))));function a(e){try{return c(e),!0}catch{return!1}}function c(e){return(0,r.create)(e,o)}function u(e){(0,s.assertStruct)(e,o,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength}const l="2.0",d=(0,r.literal)(l),m=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),f=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(o),stack:(0,r.optional)((0,r.string)())}),h=(0,r.union)([(0,r.record)((0,r.string)(),o),(0,r.array)(o)]),p=(0,r.object)({id:m,jsonrpc:d,method:(0,r.string)(),params:(0,r.optional)(h)}),g=(0,r.object)({jsonrpc:d,method:(0,r.string)(),params:(0,r.optional)(h)});function b(e){return(0,r.is)(e,g)}function y(e,t){(0,s.assertStruct)(e,g,"Invalid JSON-RPC notification",t)}function x(e){return(0,r.is)(e,p)}function v(e,t){(0,s.assertStruct)(e,p,"Invalid JSON-RPC request",t)}const k=(0,r.object)({id:m,jsonrpc:d,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(f)}),w=(0,r.object)({id:m,jsonrpc:d,result:o}),S=(0,r.object)({id:m,jsonrpc:d,error:f}),E=(0,r.union)([w,S]);function C(e){return(0,r.is)(e,k)}function T(e,t){(0,s.assertStruct)(e,k,"Invalid pending JSON-RPC response",t)}function A(e){return(0,r.is)(e,E)}function _(e,t){(0,s.assertStruct)(e,E,"Invalid JSON-RPC response",t)}function P(e){return(0,r.is)(e,w)}function I(e,t){(0,s.assertStruct)(e,w,"Invalid JSON-RPC success response",t)}function B(e){return(0,r.is)(e,S)}function j(e,t){(0,s.assertStruct)(e,S,"Invalid JSON-RPC failure response",t)}function R(e){return(0,r.is)(e,f)}function O(e,t){(0,s.assertStruct)(e,f,"Invalid JSON-RPC error",t)}function N(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/json.js"}],[1140,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/keyring.js"}],[1141,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{createProjectLogger:function(){return i},createModuleLogger:function(){return o}});function r(e){return e&&e.__esModule?e:{default:e}}const s=(0,r(e("debug")).default)("metamask");function i(e){return s.extend(e)}function o(e,t){return e.extend(t)}}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/logging.js"}],[1142,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return Array.isArray(e)&&e.length>0}function s(e){return null===e||e===undefined}function i(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{JsonSize:function(){return c},isNonEmptyArray:function(){return r},isNullOrUndefined:function(){return s},isObject:function(){return i},hasProperty:function(){return o},getKnownPropertyNames:function(){return a},ESCAPE_CHARACTERS_REGEXP:function(){return u},isPlainObject:function(){return l},isASCII:function(){return d},calculateStringSize:function(){return m},calculateNumberSize:function(){return f}});const o=(e,t)=>Object.hasOwnProperty.call(e,t);function a(e){return Object.getOwnPropertyNames(e)}var c;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(c||(c={}));const u=/"|\\|\n|\r|\t/gu;function l(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}function d(e){return e.charCodeAt(0)<=127}function m(e){return e.split("").reduce(((e,t)=>d(t)?e+1:e+2),0)+(e.match(u)??[]).length}function f(e){return e.toString().length}}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/misc.js"}],[1143,{"./assert":1129,"./hex":1137},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{numberToHex:function(){return i},bigIntToHex:function(){return o},hexToNumber:function(){return a},hexToBigInt:function(){return c}});const r=e("./assert"),s=e("./hex"),i=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16))),o=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16))),a=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},c=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/number.js"}],[1144,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/opaque.js"}],[1145,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{Duration:function(){return r},inMilliseconds:function(){return i},timeSince:function(){return o}}),function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r||(r={}));const s=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function i(e,t){return s(e,"count"),e*t}function o(e){return s(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/time.js"}],[1146,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/transaction-types.js"}],[1147,{"./assert":1129,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{VersionStruct:function(){return o},VersionRangeStruct:function(){return a},isValidSemVerVersion:function(){return c},isValidSemVerRange:function(){return u},assertIsSemVerVersion:function(){return l},assertIsSemVerRange:function(){return d},gtVersion:function(){return m},gtRange:function(){return f},satisfiesVersionRange:function(){return h}});const r=e("semver"),s=e("superstruct"),i=e("./assert"),o=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),a=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`));function c(e){return(0,s.is)(e,o)}function u(e){return(0,s.is)(e,a)}function l(e){(0,i.assertStruct)(e,o)}function d(e){(0,i.assertStruct)(e,a)}function m(e,t){return(0,r.gt)(e,t)}function f(e,t){return(0,r.gtr)(e,t)}function h(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/controller-utils>@metamask/utils",file:"node_modules/@metamask/controller-utils/node_modules/@metamask/utils/dist/cjs/versions.js"}],[1261,{"json-rpc-random-id":3873,xtend:4737},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("json-rpc-random-id")(),s=e("xtend");function i(e){this.currentProvider=e}function o(e){return function(...t){const n=t.pop();this.sendAsync({method:e,params:t},n)}}function a(e,t){return function(...n){const r=n.pop();n.length<e&&n.push("latest"),this.sendAsync({method:t,params:n},r)}}t.exports=i,i.prototype.getBalance=a(2,"eth_getBalance"),i.prototype.getCode=a(2,"eth_getCode"),i.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),i.prototype.getStorageAt=a(3,"eth_getStorageAt"),i.prototype.call=a(2,"eth_call"),i.prototype.protocolVersion=o("eth_protocolVersion"),i.prototype.syncing=o("eth_syncing"),i.prototype.coinbase=o("eth_coinbase"),i.prototype.mining=o("eth_mining"),i.prototype.hashrate=o("eth_hashrate"),i.prototype.gasPrice=o("eth_gasPrice"),i.prototype.accounts=o("eth_accounts"),i.prototype.blockNumber=o("eth_blockNumber"),i.prototype.getBlockTransactionCountByHash=o("eth_getBlockTransactionCountByHash"),i.prototype.getBlockTransactionCountByNumber=o("eth_getBlockTransactionCountByNumber"),i.prototype.getUncleCountByBlockHash=o("eth_getUncleCountByBlockHash"),i.prototype.getUncleCountByBlockNumber=o("eth_getUncleCountByBlockNumber"),i.prototype.sign=o("eth_sign"),i.prototype.sendTransaction=o("eth_sendTransaction"),i.prototype.sendRawTransaction=o("eth_sendRawTransaction"),i.prototype.estimateGas=o("eth_estimateGas"),i.prototype.getBlockByHash=o("eth_getBlockByHash"),i.prototype.getBlockByNumber=o("eth_getBlockByNumber"),i.prototype.getTransactionByHash=o("eth_getTransactionByHash"),i.prototype.getTransactionByBlockHashAndIndex=o("eth_getTransactionByBlockHashAndIndex"),i.prototype.getTransactionByBlockNumberAndIndex=o("eth_getTransactionByBlockNumberAndIndex"),i.prototype.getTransactionReceipt=o("eth_getTransactionReceipt"),i.prototype.getUncleByBlockHashAndIndex=o("eth_getUncleByBlockHashAndIndex"),i.prototype.getUncleByBlockNumberAndIndex=o("eth_getUncleByBlockNumberAndIndex"),i.prototype.getCompilers=o("eth_getCompilers"),i.prototype.compileLLL=o("eth_compileLLL"),i.prototype.compileSolidity=o("eth_compileSolidity"),i.prototype.compileSerpent=o("eth_compileSerpent"),i.prototype.newFilter=o("eth_newFilter"),i.prototype.newBlockFilter=o("eth_newBlockFilter"),i.prototype.newPendingTransactionFilter=o("eth_newPendingTransactionFilter"),i.prototype.uninstallFilter=o("eth_uninstallFilter"),i.prototype.getFilterChanges=o("eth_getFilterChanges"),i.prototype.getFilterLogs=o("eth_getFilterLogs"),i.prototype.getLogs=o("eth_getLogs"),i.prototype.getWork=o("eth_getWork"),i.prototype.submitWork=o("eth_submitWork"),i.prototype.submitHashrate=o("eth_submitHashrate"),i.prototype.sendAsync=function(e,t){var n;this.currentProvider.sendAsync((n=e,s({id:r(),jsonrpc:"2.0",params:[]},n)),(function(e,n){let r=e;return!e&&n.error&&(r=new Error(`EthQuery - RPC Error - ${n.error.message}`)),r?t(r):t(null,n.result)}))}}}},{package:"@metamask/controller-utils>@metamask/eth-query",file:"node_modules/@metamask/eth-query/index.js"}],[1367,{"./helpers":1369,"./prefix-for-chain":1371,"./prefix-for-network":1372},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountLink=n.createCustomAccountLink=n.createAccountLinkForChain=n.createAccountLink=void 0;const s=e("./helpers"),i=r(e("./prefix-for-chain")),o=r(e("./prefix-for-network"));function a(e,t){const n=o.default(t);return null===n?"":`https://${n}etherscan.io/address/${e}`}function c(e,t){const n=i.default(t);return null===n?"":`https://${n}etherscan.io/address/${e}`}function u(e,t){return s.addPathToUrl(t,"address",e)}n.createAccountLink=a,n.createAccountLinkForChain=c,n.createCustomAccountLink=u,n.getAccountLink=function(e,t,n={},r=""){return n.blockExplorerUrl?u(e,n.blockExplorerUrl):r?a(e,r):c(e,t)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/account-link.js"}],[1368,{"./helpers":1369,"./prefix-for-chain":1371,"./prefix-for-network":1372},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getBlockExplorerLink=n.createExplorerLinkForChain=n.createExplorerLink=n.createCustomExplorerLink=void 0;const s=e("./helpers"),i=r(e("./prefix-for-chain")),o=r(e("./prefix-for-network"));function a(e,t){return s.addPathToUrl(t,"tx",e)}function c(e,t){const n=o.default(t);return null===n?"":`https://${n}etherscan.io/tx/${e}`}function u(e,t){const n=i.default(t);return null===n?"":`https://${n}etherscan.io/tx/${e}`}n.createCustomExplorerLink=a,n.createExplorerLink=c,n.createExplorerLinkForChain=u,n.getBlockExplorerLink=function(e,t={}){return t.blockExplorerUrl?a(e.hash,t.blockExplorerUrl):e.chainId?u(e.hash,e.chainId):c(e.hash,e.metamaskNetworkId)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/explorer-link.js"}],[1369,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addPathToUrl=void 0,n.addPathToUrl=(e,t,n)=>{const{username:r,password:s,protocol:i,host:o,pathname:a,search:c,hash:u}=new URL(e),l=a.endsWith("/")?`${a}${t}/${n}`:`${a}/${t}/${n}`;return new URL(`${i}//${r?`${r}:${s}`:""}${o}${l}${c}${u}`).toString()}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/helpers.js"}],[1370,{"./account-link":1367,"./explorer-link":1368,"./token-tracker-link":1373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("./account-link"),s=e("./explorer-link"),i=e("./token-tracker-link");t.exports={createExplorerLink:s.createExplorerLink,createCustomExplorerLink:s.createCustomExplorerLink,createExplorerLinkForChain:s.createExplorerLinkForChain,createAccountLink:r.createAccountLink,createCustomAccountLink:r.createCustomAccountLink,createAccountLinkForChain:r.createAccountLinkForChain,createTokenTrackerLink:i.createTokenTrackerLink,createCustomTokenTrackerLink:i.createCustomTokenTrackerLink,createTokenTrackerLinkForChain:i.createTokenTrackerLinkForChain,getBlockExplorerLink:s.getBlockExplorerLink,getAccountLink:r.getAccountLink,getTokenTrackerLink:i.getTokenTrackerLink}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/index.js"}],[1371,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){let t;switch(e){case"0x1":t="";break;case"0x3":t="ropsten.";break;case"0x4":t="rinkeby.";break;case"0x5":t="goerli.";break;case"0x2a":t="kovan.";break;case"0xaa36a7":t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js"}],[1372,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){let t;switch(parseInt(e)){case 1:t="";break;case 3:t="ropsten.";break;case 4:t="rinkeby.";break;case 5:t="goerli.";break;case 42:t="kovan.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"}],[1373,{"./helpers":1369,"./prefix-for-chain":1371,"./prefix-for-network":1372},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenTrackerLink=n.createTokenTrackerLinkForChain=n.createCustomTokenTrackerLink=n.createTokenTrackerLink=void 0;const s=e("./helpers"),i=r(e("./prefix-for-chain")),o=r(e("./prefix-for-network"));function a(e,t,n){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/token/${e}${n?`?a=${n}`:""}`}function c(e,t){return s.addPathToUrl(t,"token",e)}function u(e,t,n){const r=i.default(t);return null===r?"":`https://${r}etherscan.io/token/${e}${n?`?a=${n}`:""}`}n.createTokenTrackerLink=a,n.createCustomTokenTrackerLink=c,n.createTokenTrackerLinkForChain=u,n.getTokenTrackerLink=function(e,t,n,r,s={}){return s.blockExplorerUrl?c(e,s.blockExplorerUrl):n?a(e,n,r):u(e,t,r)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/token-tracker-link.js"}],[1411,{"@metamask/rpc-errors":1756,"@metamask/safe-event-emitter":1418,"@metamask/utils":1428},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i,o,a,c,u,l,d,m,f,h,p,g=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},b=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.JsonRpcEngine=void 0;const x=e("@metamask/rpc-errors"),v=y(e("@metamask/safe-event-emitter")),k=e("@metamask/utils");class w extends v.default{constructor({notificationHandler:e}={}){super(),r.add(this),i.set(this,!1),o.set(this,void 0),a.set(this,void 0),g(this,o,[],"f"),g(this,a,e,"f")}destroy(){b(this,o,"f").forEach((e=>{"destroy"in e&&"function"==typeof e.destroy&&e.destroy()})),g(this,o,[],"f"),g(this,i,!0,"f")}push(e){b(this,r,"m",c).call(this),b(this,o,"f").push(e)}handle(e,t){if(b(this,r,"m",c).call(this),t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?b(this,r,"m",u).call(this,e,t):b(this,r,"m",u).call(this,e):t?b(this,r,"m",l).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return b(this,r,"m",c).call(this),async(e,t,n,r)=>{try{const[i,a,c]=await b(w,s,"m",m).call(w,e,t,b(this,o,"f"));return a?(await b(w,s,"m",h).call(w,c),r(i)):n((async e=>{try{await b(w,s,"m",h).call(w,c)}catch(t){return e(t)}return e()}))}catch(e){return r(e)}}}async _promiseHandle(e){return new Promise(((t,n)=>{b(this,r,"m",l).call(this,e,((e,r)=>{e&&r===undefined&&n(e),t(r)})).catch(n)}))}}function S(e){return JSON.stringify(e,null,2)}n.JsonRpcEngine=w,s=w,i=new WeakMap,o=new WeakMap,a=new WeakMap,r=new WeakSet,c=function(){if(b(this,i,"f"))throw new Error("This engine is destroyed and can no longer be used.")},u=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:"2.0",error:new x.JsonRpcError(x.errorCodes.rpc.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return t?t(null,e):e}const n=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter((e=>e!==undefined));return t?t(null,n):n}catch(e){if(t)return t(e);throw e}},l=async function(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const n=new x.JsonRpcError(x.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(n,{id:null,jsonrpc:"2.0",error:n})}if("string"!=typeof e.method){const n=new x.JsonRpcError(x.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return b(this,a,"f")&&!(0,k.isJsonRpcRequest)(e)?t(null):t(n,{id:e.id??null,jsonrpc:"2.0",error:n})}if(b(this,a,"f")&&!(0,k.isJsonRpcRequest)(e)){try{await b(this,a,"f").call(this,e)}catch(n){return t(n)}return t(null)}let n=null;const r={...e},i={id:r.id,jsonrpc:r.jsonrpc};try{await b(w,s,"m",d).call(w,r,i,b(this,o,"f"))}catch(e){n=e}return n&&(delete i.result,i.error||(i.error=(0,x.serializeError)(n))),t(n,i)},d=async function(e,t,n){const[r,i,o]=await b(w,s,"m",m).call(w,e,t,n);if(b(w,s,"m",p).call(w,e,t,i),await b(w,s,"m",h).call(w,o),r)throw r},m=async function(e,t,n){const r=[];let i=null,o=!1;for(const a of n)if([i,o]=await b(w,s,"m",f).call(w,e,t,a,r),o)break;return[i,o,r.reverse()]},f=async function(e,t,n,r){return new Promise((s=>{const i=e=>{const n=e||t.error;n&&(t.error=(0,x.serializeError)(n)),s([n,!0])},o=n=>{t.error?i(t.error):(n&&("function"!=typeof n&&i(new x.JsonRpcError(x.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof n}" for request:\n${S(e)}`,{request:e})),r.push(n)),s([null,!1]))};try{n(e,t,o,i)}catch(e){i(e)}}))},h=async function(e){for(const t of e)await new Promise(((e,n)=>{t((t=>t?n(t):e()))}))},p=function(e,t,n){if(!(0,k.hasProperty)(t,"result")&&!(0,k.hasProperty)(t,"error"))throw new x.JsonRpcError(x.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${S(e)}`,{request:e});if(!n)throw new x.JsonRpcError(x.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${S(e)}`,{request:e})}}}},{package:"@metamask/providers>@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/JsonRpcEngine.js"}],[1412,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createAsyncMiddleware=void 0,n.createAsyncMiddleware=function(e){return async(t,n,r,s)=>{let i;const o=new Promise((e=>{i=e}));let a=null,c=!1;const u=async()=>{c=!0,r((e=>{a=e,i()})),await o};try{await e(t,n,u),c?(await o,a(null)):s(null)}catch(e){a?a(e):s(e)}}}}}},{package:"@metamask/providers>@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createAsyncMiddleware.js"}],[1413,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createScaffoldMiddleware=void 0,n.createScaffoldMiddleware=function(e){return(t,n,r,s)=>{const i=e[t.method];return i===undefined?r():"function"==typeof i?i(t,n,r,s):(n.result=i,s())}}}}},{package:"@metamask/providers>@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createScaffoldMiddleware.js"}],[1414,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUniqueId=void 0;const r=4294967295;let s=Math.floor(Math.random()*r);n.getUniqueId=function(){return s=(s+1)%r,s}}}},{package:"@metamask/providers>@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/getUniqueId.js"}],[1415,{"./getUniqueId":1414},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createIdRemapMiddleware=void 0;const r=e("./getUniqueId");n.createIdRemapMiddleware=function(){return(e,t,n,s)=>{const i=e.id,o=(0,r.getUniqueId)();e.id=o,t.id=o,n((n=>{e.id=i,t.id=i,n()}))}}}}},{package:"@metamask/providers>@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/idRemapMiddleware.js"}],[1416,{"./JsonRpcEngine":1411,"./createAsyncMiddleware":1412,"./createScaffoldMiddleware":1413,"./getUniqueId":1414,"./idRemapMiddleware":1415,"./mergeMiddleware":1417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./createAsyncMiddleware"),n),s(e("./createScaffoldMiddleware"),n),s(e("./getUniqueId"),n),s(e("./idRemapMiddleware"),n),s(e("./JsonRpcEngine"),n),s(e("./mergeMiddleware"),n)}}},{package:"@metamask/providers>@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/index.js"}],[1417,{"./JsonRpcEngine":1411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeMiddleware=void 0;const r=e("./JsonRpcEngine");n.mergeMiddleware=function(e){const t=new r.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}}}},{package:"@metamask/providers>@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/mergeMiddleware.js"}],[1418,{events:3331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("events");function s(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout((()=>{throw e}))}}class i extends r.EventEmitter{emit(e,...t){let n="error"===e;const r=this._events;if(r!==undefined)n=n&&r.error===undefined;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const i=r[e];if(i===undefined)return!1;if("function"==typeof i)s(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)s(n[r],this,t)}return!0}}n.default=i}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/safe-event-emitter",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/safe-event-emitter/index.js"}],[1419,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{AssertionError:function(){return i},assert:function(){return o},assertStruct:function(){return a},assertExhaustive:function(){return c}});const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){var t,n,r;super(e.message),r="ERR_ASSERTION",(n="code")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}}function o(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}}function a(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}}function c(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/assert.js"}],[1420,{"./assert":1419,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"base64",{enumerable:!0,get:function(){return i}});const r=e("superstruct"),s=e("./assert"),i=(e,t={})=>{const n=t.paddingRequired??!1,i=t.characterSet??"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/base64.js"}],[1421,{"./assert":1419,"./hex":1427,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{isBytes:function(){return u},assertIsBytes:function(){return l},bytesToHex:function(){return d},bytesToBigInt:function(){return m},bytesToSignedBigInt:function(){return f},bytesToNumber:function(){return h},bytesToString:function(){return p},hexToBytes:function(){return g},bigIntToBytes:function(){return b},signedBigIntToBytes:function(){return y},numberToBytes:function(){return x},stringToBytes:function(){return v},valueToBytes:function(){return k},concatBytes:function(){return w},createDataView:function(){return S}});const r=e("./assert"),s=e("./hex"),i=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,r.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function m(e){l(e);const t=d(e);return BigInt(t)}function f(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)}function h(e){l(e);const t=m(e);return(0,r.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function p(e){return l(e),(new TextDecoder).decode(e)}function g(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),c=t-(t<o?i:a),u=s-(s<o?i:a);r[e]=16*c+u}return r}function b(e){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return g(e.toString(16))}function y(e,t){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)("number"==typeof t,"Byte length must be a number."),(0,r.assert)(t>0,"Byte length must be greater than 0."),(0,r.assert)(function(e,t){(0,r.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return s.reverse()}function x(e){(0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return g(e.toString(16))}function v(e){return(0,r.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function k(e){if("bigint"==typeof e)return b(e);if("number"==typeof e)return x(e);if("string"==typeof e)return e.startsWith("0x")?g(e):v(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function w(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=k(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r}function S(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/bytes.js"}],[1422,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{CAIP_CHAIN_ID_REGEX:function(){return s},CAIP_NAMESPACE_REGEX:function(){return i},CAIP_REFERENCE_REGEX:function(){return o},CAIP_ACCOUNT_ID_REGEX:function(){return a},CAIP_ACCOUNT_ADDRESS_REGEX:function(){return c},CaipChainIdStruct:function(){return u},CaipNamespaceStruct:function(){return l},CaipReferenceStruct:function(){return d},CaipAccountIdStruct:function(){return m},CaipAccountAddressStruct:function(){return f},isCaipChainId:function(){return h},isCaipNamespace:function(){return p},isCaipReference:function(){return g},isCaipAccountId:function(){return b},isCaipAccountAddress:function(){return y},parseCaipChainId:function(){return x},parseCaipAccountId:function(){return v}});const r=e("superstruct"),s=RegExp("^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$","u"),i=/^[-a-z0-9]{3,8}$/u,o=/^[-_a-zA-Z0-9]{1,32}$/u,a=RegExp("^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$","u"),c=/^[-.%a-zA-Z0-9]{1,128}$/u,u=(0,r.pattern)((0,r.string)(),s),l=(0,r.pattern)((0,r.string)(),i),d=(0,r.pattern)((0,r.string)(),o),m=(0,r.pattern)((0,r.string)(),a),f=(0,r.pattern)((0,r.string)(),c);function h(e){return(0,r.is)(e,u)}function p(e){return(0,r.is)(e,l)}function g(e){return(0,r.is)(e,d)}function b(e){return(0,r.is)(e,m)}function y(e){return(0,r.is)(e,f)}function x(e){const t=s.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function v(e){const t=a.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/caip-types.js"}],[1423,{"./base64":1420,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ChecksumStruct",{enumerable:!0,get:function(){return i}});const r=e("superstruct"),s=e("./base64"),i=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/checksum.js"}],[1424,{"./assert":1419,"./bytes":1421,"./hex":1427,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{createNumber:function(){return m},createBigInt:function(){return f},createBytes:function(){return h},createHex:function(){return p}});const r=e("superstruct"),s=e("./assert"),i=e("./bytes"),o=e("./hex"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),o.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([o.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([o.StrictHexStruct]),i.hexToBytes)),d=(0,r.coerce)(o.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);function m(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}}function f(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}}function h(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}function p(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/coercers.js"}],[1425,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function s(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,r(e,t,"get"))}function i(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function o(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,r(e,t,"set"),n),n}Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{FrozenMap:function(){return u},FrozenSet:function(){return m}});var a=new WeakMap;let c=Symbol.iterator;class u{get size(){return s(this,a).size}[c](){return s(this,a)[Symbol.iterator]()}entries(){return s(this,a).entries()}forEach(e,t){return s(this,a).forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return s(this,a).get(e)}has(e){return s(this,a).has(e)}keys(){return s(this,a).keys()}values(){return s(this,a).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}constructor(e){i(this,a,{writable:!0,value:void 0}),o(this,a,new Map(e)),Object.freeze(this)}}var l=new WeakMap;let d=Symbol.iterator;class m{get size(){return s(this,l).size}[d](){return s(this,l)[Symbol.iterator]()}entries(){return s(this,l).entries()}forEach(e,t){return s(this,l).forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return s(this,l).has(e)}keys(){return s(this,l).keys()}values(){return s(this,l).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}constructor(e){i(this,l,{writable:!0,value:void 0}),o(this,l,new Set(e)),Object.freeze(this)}}Object.freeze(u),Object.freeze(u.prototype),Object.freeze(m),Object.freeze(m.prototype)}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/collections.js"}],[1426,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/encryption-types.js"}],[1427,{"./assert":1419,"./bytes":1421,"@noble/hashes/sha3":2126,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{HexStruct:function(){return a},StrictHexStruct:function(){return c},HexAddressStruct:function(){return u},HexChecksumAddressStruct:function(){return l},isHexString:function(){return d},isStrictHexString:function(){return m},assertIsHexString:function(){return f},assertIsStrictHexString:function(){return h},isValidHexAddress:function(){return p},getChecksumAddress:function(){return g},isValidChecksumAddress:function(){return b},add0x:function(){return y},remove0x:function(){return x}});const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes"),a=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),c=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),u=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),l=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u);function d(e){return(0,s.is)(e,a)}function m(e){return(0,s.is)(e,c)}function f(e){(0,i.assert)(d(e),"Value must be a hexadecimal string.")}function h(e){(0,i.assert)(m(e),'Value must be a hexadecimal string, starting with "0x".')}function p(e){return(0,s.is)(e,u)||b(e)}function g(e){(0,i.assert)((0,s.is)(e,l),"Invalid hex address.");const t=x(e.toLowerCase()),n=x((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const r=n[t];return(0,i.assert)((0,s.is)(r,(0,s.string)()),"Hash shorter than address."),parseInt(r,16)>7?e.toUpperCase():e})).join("")}`}function b(e){return!!(0,s.is)(e,l)&&g(e)===e}function y(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function x(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/hex.js"}],[1428,{"./assert":1419,"./base64":1420,"./bytes":1421,"./caip-types":1422,"./checksum":1423,"./coercers":1424,"./collections":1425,"./encryption-types":1426,"./hex":1427,"./json":1429,"./keyring":1430,"./logging":1431,"./misc":1432,"./number":1433,"./opaque":1434,"./time":1435,"./transaction-types":1436,"./versions":1437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){return Object.keys(e).forEach((function(n){"default"===n||Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),e}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./assert"),n),r(e("./base64"),n),r(e("./bytes"),n),r(e("./caip-types"),n),r(e("./checksum"),n),r(e("./coercers"),n),r(e("./collections"),n),r(e("./encryption-types"),n),r(e("./hex"),n),r(e("./json"),n),r(e("./keyring"),n),r(e("./logging"),n),r(e("./misc"),n),r(e("./number"),n),r(e("./opaque"),n),r(e("./time"),n),r(e("./transaction-types"),n),r(e("./versions"),n)}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/index.js"}],[1429,{"./assert":1419,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{UnsafeJsonStruct:function(){return i},JsonStruct:function(){return o},isValidJson:function(){return a},getSafeJson:function(){return c},getJsonSize:function(){return u},jsonrpc2:function(){return l},JsonRpcVersionStruct:function(){return d},JsonRpcIdStruct:function(){return m},JsonRpcErrorStruct:function(){return f},JsonRpcParamsStruct:function(){return h},JsonRpcRequestStruct:function(){return p},JsonRpcNotificationStruct:function(){return g},isJsonRpcNotification:function(){return b},assertIsJsonRpcNotification:function(){return y},isJsonRpcRequest:function(){return x},assertIsJsonRpcRequest:function(){return v},PendingJsonRpcResponseStruct:function(){return k},JsonRpcSuccessStruct:function(){return w},JsonRpcFailureStruct:function(){return S},JsonRpcResponseStruct:function(){return E},isPendingJsonRpcResponse:function(){return C},assertIsPendingJsonRpcResponse:function(){return T},isJsonRpcResponse:function(){return A},assertIsJsonRpcResponse:function(){return _},isJsonRpcSuccess:function(){return P},assertIsJsonRpcSuccess:function(){return I},isJsonRpcFailure:function(){return B},assertIsJsonRpcFailure:function(){return j},isJsonRpcError:function(){return R},assertIsJsonRpcError:function(){return O},getJsonRpcIdValidator:function(){return N}});const r=e("superstruct"),s=e("./assert"),i=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>i))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>i)))]),o=(0,r.coerce)(i,(0,r.any)(),(e=>((0,s.assertStruct)(e,i),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t))))));function a(e){try{return c(e),!0}catch{return!1}}function c(e){return(0,r.create)(e,o)}function u(e){(0,s.assertStruct)(e,o,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength}const l="2.0",d=(0,r.literal)(l),m=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),f=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(o),stack:(0,r.optional)((0,r.string)())}),h=(0,r.union)([(0,r.record)((0,r.string)(),o),(0,r.array)(o)]),p=(0,r.object)({id:m,jsonrpc:d,method:(0,r.string)(),params:(0,r.optional)(h)}),g=(0,r.object)({jsonrpc:d,method:(0,r.string)(),params:(0,r.optional)(h)});function b(e){return(0,r.is)(e,g)}function y(e,t){(0,s.assertStruct)(e,g,"Invalid JSON-RPC notification",t)}function x(e){return(0,r.is)(e,p)}function v(e,t){(0,s.assertStruct)(e,p,"Invalid JSON-RPC request",t)}const k=(0,r.object)({id:m,jsonrpc:d,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(f)}),w=(0,r.object)({id:m,jsonrpc:d,result:o}),S=(0,r.object)({id:m,jsonrpc:d,error:f}),E=(0,r.union)([w,S]);function C(e){return(0,r.is)(e,k)}function T(e,t){(0,s.assertStruct)(e,k,"Invalid pending JSON-RPC response",t)}function A(e){return(0,r.is)(e,E)}function _(e,t){(0,s.assertStruct)(e,E,"Invalid JSON-RPC response",t)}function P(e){return(0,r.is)(e,w)}function I(e,t){(0,s.assertStruct)(e,w,"Invalid JSON-RPC success response",t)}function B(e){return(0,r.is)(e,S)}function j(e,t){(0,s.assertStruct)(e,S,"Invalid JSON-RPC failure response",t)}function R(e){return(0,r.is)(e,f)}function O(e,t){(0,s.assertStruct)(e,f,"Invalid JSON-RPC error",t)}function N(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/json.js"}],[1430,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/keyring.js"}],[1431,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{createProjectLogger:function(){return i},createModuleLogger:function(){return o}});function r(e){return e&&e.__esModule?e:{default:e}}const s=(0,r(e("debug")).default)("metamask");function i(e){return s.extend(e)}function o(e,t){return e.extend(t)}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/logging.js"}],[1432,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return Array.isArray(e)&&e.length>0}function s(e){return null===e||e===undefined}function i(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{JsonSize:function(){return c},isNonEmptyArray:function(){return r},isNullOrUndefined:function(){return s},isObject:function(){return i},hasProperty:function(){return o},getKnownPropertyNames:function(){return a},ESCAPE_CHARACTERS_REGEXP:function(){return u},isPlainObject:function(){return l},isASCII:function(){return d},calculateStringSize:function(){return m},calculateNumberSize:function(){return f}});const o=(e,t)=>Object.hasOwnProperty.call(e,t);function a(e){return Object.getOwnPropertyNames(e)}var c;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(c||(c={}));const u=/"|\\|\n|\r|\t/gu;function l(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}function d(e){return e.charCodeAt(0)<=127}function m(e){return e.split("").reduce(((e,t)=>d(t)?e+1:e+2),0)+(e.match(u)??[]).length}function f(e){return e.toString().length}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/misc.js"}],[1433,{"./assert":1419,"./hex":1427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{numberToHex:function(){return i},bigIntToHex:function(){return o},hexToNumber:function(){return a},hexToBigInt:function(){return c}});const r=e("./assert"),s=e("./hex"),i=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16))),o=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16))),a=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},c=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/number.js"}],[1434,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/opaque.js"}],[1435,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{Duration:function(){return r},inMilliseconds:function(){return i},timeSince:function(){return o}}),function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r||(r={}));const s=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function i(e,t){return s(e,"count"),e*t}function o(e){return s(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/time.js"}],[1436,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/transaction-types.js"}],[1437,{"./assert":1419,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{VersionStruct:function(){return o},VersionRangeStruct:function(){return a},isValidSemVerVersion:function(){return c},isValidSemVerRange:function(){return u},assertIsSemVerVersion:function(){return l},assertIsSemVerRange:function(){return d},gtVersion:function(){return m},gtRange:function(){return f},satisfiesVersionRange:function(){return h}});const r=e("semver"),s=e("superstruct"),i=e("./assert"),o=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),a=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`));function c(e){return(0,s.is)(e,o)}function u(e){return(0,s.is)(e,a)}function l(e){(0,i.assertStruct)(e,o)}function d(e){(0,i.assertStruct)(e,a)}function m(e,t){return(0,r.gt)(e,t)}function f(e,t){return(0,r.gtr)(e,t)}function h(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/providers>@metamask/json-rpc-engine>@metamask/utils",file:"node_modules/@metamask/json-rpc-engine/node_modules/@metamask/utils/dist/cjs/versions.js"}],[1438,{"./BIP44Node":1439,"./SLIP10Node":1440,"./constants":1441,"./utils":1454,"@metamask/utils":1463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{BIP_44_COIN_TYPE_DEPTH:function(){return f},BIP44CoinTypeNode:function(){return p},deriveBIP44AddressKey:function(){return y},getBIP44AddressKeyDeriver:function(){return x}});const r=e("@metamask/utils"),s=e("./BIP44Node"),i=e("./constants"),o=e("./SLIP10Node"),a=e("./utils");function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,c(e,t,"get"))}function l(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,c(e,t,"set"),n),n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=2;var h=new WeakMap;class p{static async fromJSON(e,t){b(t),g(e.depth);const n=await s.BIP44Node.fromExtendedKey({depth:e.depth,index:e.index,parentFingerprint:e.parentFingerprint,chainCode:(0,a.hexStringToBytes)(e.chainCode),privateKey:(0,a.nullableHexStringToBytes)(e.privateKey),publicKey:(0,a.hexStringToBytes)(e.publicKey)});return new p(n,t)}static async fromDerivationPath(e){g(e.length-1);const t=await s.BIP44Node.fromDerivationPath({derivationPath:e}),n=e[f].split(":")[1]?.replace("'","");(0,r.assert)(n,"Invalid derivation path.");const i=Number.parseInt(n,10);return new p(t,i)}static async fromNode(e,t){if(!(e instanceof s.BIP44Node))throw new Error("Invalid node: Expected an instance of BIP44Node.");return b(t),g(e.depth),Promise.resolve(new p(e,t))}get depth(){return u(this,h).depth}get privateKeyBytes(){return u(this,h).privateKeyBytes}get publicKeyBytes(){return u(this,h).publicKeyBytes}get chainCodeBytes(){return u(this,h).chainCodeBytes}get privateKey(){return u(this,h).privateKey}get publicKey(){return u(this,h).publicKey}get compressedPublicKey(){return u(this,h).compressedPublicKey}get compressedPublicKeyBytes(){return u(this,h).compressedPublicKeyBytes}get chainCode(){return u(this,h).chainCode}get address(){return u(this,h).address}get masterFingerprint(){return u(this,h).masterFingerprint}get parentFingerprint(){return u(this,h).parentFingerprint}get fingerprint(){return u(this,h).fingerprint}get index(){return u(this,h).index}get curve(){return u(this,h).curve}get extendedKey(){return u(this,h).extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:n}){return await u(this,h).derive((0,a.getBIP44CoinTypeToAddressPathTuple)({account:e,change:t,address_index:n}))}toJSON(){return{...u(this,h).toJSON(),coin_type:this.coin_type,path:this.path}}constructor(e,t){l(this,h,{writable:!0,value:void 0}),m(this,"path",void 0),m(this,"coin_type",void 0),d(this,h,e),this.coin_type=t,this.path=(0,a.getBIP44CoinTypePathString)(t),Object.freeze(this)}}function g(e){if(e!==f)throw new Error(`Invalid depth: Coin type nodes must be of depth ${f}. Received: "${e}"`)}function b(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}async function y(e,{account:t=0,change:n=0,address_index:r}){const i=(0,a.getBIP44CoinTypeToAddressPathTuple)({account:t,change:n,address_index:r}),c=await v(e),u=await(0,o.deriveChildNode)({path:i,node:c});return new s.BIP44Node(u)}async function x(e,t){const{account:n=0,change:r=0}=t??{},i=await v(e),c=(0,a.getHardenedBIP32NodeToken)(n),u=(0,a.getBIP32NodeToken)(r),l=async(e,t=!1)=>{const n=await(0,o.deriveChildNode)({path:[c,u,t?(0,a.getHardenedBIP32NodeToken)(e):(0,a.getUnhardenedBIP32NodeToken)(e)],node:i});return new s.BIP44Node(n)};return l.coin_type=i.coin_type,l.path=(0,a.getBIP44ChangePathString)(i.path,{account:n,change:r}),Object.freeze(l),l}async function v(e){if(e instanceof p)return g(e.depth),e;if("string"==typeof e){const t=await s.BIP44Node.fromExtendedKey(e),n=await p.fromNode(t,t.index-i.BIP_32_HARDENED_OFFSET);return g(n.depth),n}return p.fromJSON(e,e.coin_type)}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/BIP44CoinTypeNode.js"}],[1439,{"./SLIP10Node":1440,"./constants":1441,"./extended-keys":1452,"./utils":1454,"@metamask/utils":1463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{BIP44Node:function(){return f},validateBIP44Depth:function(){return h}});const r=e("@metamask/utils"),s=e("./constants"),i=e("./extended-keys"),o=e("./SLIP10Node"),a=e("./utils");function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,c(e,t,"get"))}function l(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,c(e,t,"set"),n),n}var m=new WeakMap;class f{static async fromJSON(e){return f.fromExtendedKey(e)}static async fromExtendedKey(e){if("string"==typeof e){const t=(0,i.decodeExtendedKey)(e),{chainCode:n,depth:r,parentFingerprint:s,index:o}=t;if(t.version===i.PRIVATE_KEY_VERSION){const{privateKey:e}=t;return f.fromExtendedKey({depth:r,parentFingerprint:s,index:o,privateKey:e,chainCode:n})}const{publicKey:a}=t;return f.fromExtendedKey({depth:r,parentFingerprint:s,index:o,publicKey:a,chainCode:n})}const{privateKey:t,publicKey:n,chainCode:r,depth:s,parentFingerprint:a,index:c}=e;h(s);const u=await o.SLIP10Node.fromExtendedKey({privateKey:t,publicKey:n,chainCode:r,depth:s,parentFingerprint:a,index:c,curve:"secp256k1"});return new f(u)}static async fromDerivationPath({derivationPath:e}){h(e.length-1),p(e,s.MIN_BIP_44_DEPTH);const t=await o.SLIP10Node.fromDerivationPath({derivationPath:e,curve:"secp256k1"});return new f(t)}get depth(){return u(this,m).depth}get privateKeyBytes(){return u(this,m).privateKeyBytes}get publicKeyBytes(){return u(this,m).publicKeyBytes}get chainCodeBytes(){return u(this,m).chainCodeBytes}get privateKey(){return u(this,m).privateKey}get publicKey(){return u(this,m).publicKey}get compressedPublicKey(){return u(this,m).compressedPublicKey}get compressedPublicKeyBytes(){return u(this,m).compressedPublicKeyBytes}get chainCode(){return u(this,m).chainCode}get address(){return u(this,m).address}get masterFingerprint(){return u(this,m).masterFingerprint}get parentFingerprint(){return u(this,m).parentFingerprint}get fingerprint(){return u(this,m).fingerprint}get index(){return u(this,m).index}get extendedKey(){const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes};return this.privateKeyBytes?(0,i.encodeExtendedKey)({...e,version:i.PRIVATE_KEY_VERSION,privateKey:this.privateKeyBytes}):(0,i.encodeExtendedKey)({...e,version:i.PUBLIC_KEY_VERSION,publicKey:this.publicKeyBytes})}get curve(){return u(this,m).curve}neuter(){const e=u(this,m).neuter();return new f(e)}async derive(e){if(this.depth===s.MAX_BIP_44_DEPTH)throw new Error("Illegal operation: This HD tree node is already a leaf node.");h(this.depth+e.length),p(e,this.depth+1);const t=await u(this,m).derive(e);return new f(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}constructor(e){l(this,m,{writable:!0,value:void 0}),d(this,m,e),Object.freeze(this)}}function h(e){if((0,o.validateBIP32Depth)(e),e<s.MIN_BIP_44_DEPTH||e>s.MAX_BIP_44_DEPTH)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function p(e,t){e.forEach(((e,n)=>{const i=t+n;if(i!==s.MIN_BIP_44_DEPTH)switch((0,r.assert)("string"==typeof e),i){case 1:if(e!==s.BIP44PurposeNodeToken)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${s.BIP44PurposeNodeToken}".`);break;case 2:if(!s.BIP_32_PATH_REGEX.test(e)||!(0,a.isHardened)(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!s.BIP_32_PATH_REGEX.test(e)||!(0,a.isHardened)(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!s.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case s.MAX_BIP_44_DEPTH:if(!s.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||s.BIP_39_PATH_REGEX.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')}))}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/BIP44Node.js"}],[1440,{"./constants":1441,"./curves":1444,"./derivation":1446,"./derivers/bip32":1447,"./utils":1454,"@metamask/utils":1463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{SLIP10Node:function(){return d},validateBIP32Depth:function(){return f},validateParentFingerprint:function(){return h},validateMasterParentFingerprint:function(){return p},validateRootIndex:function(){return g},deriveChildNode:function(){return b}});const r=e("@metamask/utils"),s=e("./constants"),i=e("./curves"),o=e("./derivation"),a=e("./derivers/bip32"),c=e("./utils");function u(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),function(e,t){if(e===undefined)throw new TypeError("attempted to "+t+" private static field before its declaration")}(n,"get"),function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d{static async fromJSON(e){return d.fromExtendedKey(e)}static async fromExtendedKey({depth:e,masterFingerprint:t,parentFingerprint:n,index:o,privateKey:a,publicKey:l,chainCode:b,curve:y}){const x=(0,c.getBytes)(b,s.BYTES_KEY_LENGTH);(0,c.validateCurve)(y),f(e),(0,c.validateBIP32Index)(o),g(o,e),h(n,e),p(t,n,e);const v=(0,i.getCurveByName)(y);if(a){const i=(0,c.getBytesUnsafe)(a,s.BYTES_KEY_LENGTH);return(0,r.assert)(v.isValidPrivateKey(i),`Invalid private key: Value is not a valid ${y} private key.`),new d({depth:e,masterFingerprint:t,parentFingerprint:n,index:o,chainCode:x,privateKey:i,publicKey:await v.getPublicKey(i),curve:y},u(this,d,m))}if(l){const r=(0,c.getBytes)(l,v.publicKeyLength);return new d({depth:e,masterFingerprint:t,parentFingerprint:n,index:o,chainCode:x,publicKey:r,curve:y},u(this,d,m))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,curve:t}){if((0,c.validateCurve)(t),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await(0,o.deriveKeyFromPath)({path:e,depth:e.length-1,curve:t})}get chainCode(){return(0,r.bytesToHex)(this.chainCodeBytes)}get privateKey(){return this.privateKeyBytes?(0,r.bytesToHex)(this.privateKeyBytes):undefined}get publicKey(){return(0,r.bytesToHex)(this.publicKeyBytes)}get compressedPublicKeyBytes(){return(0,i.getCurveByName)(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return(0,r.bytesToHex)(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return(0,r.bytesToHex)((0,a.publicKeyToEthAddress)(this.publicKeyBytes))}get fingerprint(){return(0,c.getFingerprint)(this.compressedPublicKeyBytes)}neuter(){return new d({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve},u(d,d,m))}async derive(e){return await b({path:e,node:this})}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}constructor({depth:e,masterFingerprint:t,parentFingerprint:n,index:s,chainCode:i,privateKey:o,publicKey:a,curve:c},f){l(this,"curve",void 0),l(this,"depth",void 0),l(this,"masterFingerprint",void 0),l(this,"parentFingerprint",void 0),l(this,"index",void 0),l(this,"chainCodeBytes",void 0),l(this,"privateKeyBytes",void 0),l(this,"publicKeyBytes",void 0),(0,r.assert)(f===u(d,d,m),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, or `SLIP10Node.fromDerivationPath`."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=n,this.index=s,this.chainCodeBytes=i,this.privateKeyBytes=o,this.publicKeyBytes=a,this.curve=c,Object.freeze(this)}}var m={writable:!0,value:Symbol("SLIP10Node.constructor")};function f(e){if(!(0,c.isValidInteger)(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}function h(e,t){if(!(0,c.isValidInteger)(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}function p(e,t,n){if(e&&n>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}function g(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}async function b({path:e,node:t}){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const n=t.depth+e.length;return f(n),await(0,o.deriveKeyFromPath)({path:e,node:t,depth:n})}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/SLIP10Node.js"}],[1441,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{BYTES_KEY_LENGTH:function(){return r},MIN_BIP_44_DEPTH:function(){return s},MAX_BIP_44_DEPTH:function(){return i},MAX_UNHARDENED_BIP_32_INDEX:function(){return o},MAX_BIP_32_INDEX:function(){return a},BIP44PurposeNodeToken:function(){return c},UNPREFIXED_PATH_REGEX:function(){return u},UNPREFIXED_BIP_32_PATH_REGEX:function(){return l},BIP_32_PATH_REGEX:function(){return d},SLIP_10_PATH_REGEX:function(){return m},BIP_39_PATH_REGEX:function(){return f},BIP_32_HARDENED_OFFSET:function(){return h}});const r=32,s=0,i=5,o=2147483647,a=4294967295,c="bip32:44'",u=/^\d+$/u,l=RegExp("^(?<index>\\d+)'?$","u"),d=/^bip32:\d+'?$/u,m=/^slip10:\d+'?$/u,f=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,h=2147483648}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/constants.js"}],[1442,{"./ed25519":1443,"./secp256k1":1445,"@noble/secp256k1":2129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{curves:function(){return a},getCurveByName:function(){return c},mod:function(){return u}});const r=e("@noble/secp256k1"),s=o(e("./ed25519"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const a={secp256k1:o(e("./secp256k1")),ed25519:s};function c(e){return a[e]}const{mod:u}=r.utils}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/curves/curve.js"}],[1443,{"@metamask/utils":1463,"@noble/ed25519":2118},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{curve:function(){return s.CURVE},name:function(){return i},secret:function(){return o},isValidPrivateKey:function(){return a},deriveUnhardenedKeys:function(){return c},publicKeyLength:function(){return u},getPublicKey:function(){return l},publicAdd:function(){return d},compressPublicKey:function(){return m},decompressPublicKey:function(){return f}});const r=e("@metamask/utils"),s=e("@noble/ed25519"),i="ed25519",o=(0,r.stringToBytes)("ed25519 seed"),a=e=>!0,c=!1,u=33,l=async(e,t)=>{const n=await(0,s.getPublicKey)(e);return(0,r.concatBytes)([new Uint8Array([0]),n])},d=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")},m=e=>e,f=e=>e}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/curves/ed25519.js"}],[1444,{"./curve":1442,"./ed25519":1443,"./secp256k1":1445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s;Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{secp256k1:function(){return i},ed25519:function(){return o}}),r=e("./curve"),s=n,Object.keys(r).forEach((function(e){"default"===e||Object.prototype.hasOwnProperty.call(s,e)||Object.defineProperty(s,e,{enumerable:!0,get:function(){return r[e]}})}));const i=c(e("./secp256k1")),o=c(e("./ed25519"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/curves/index.js"}],[1445,{"../utils":1454,"@metamask/utils":1463,"@noble/secp256k1":2129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{curve:function(){return s.CURVE},name:function(){return o},secret:function(){return a},deriveUnhardenedKeys:function(){return c},publicKeyLength:function(){return u},isValidPrivateKey:function(){return l},getPublicKey:function(){return d},publicAdd:function(){return m},compressPublicKey:function(){return f},decompressPublicKey:function(){return h}});const r=e("@metamask/utils"),s=e("@noble/secp256k1"),i=e("../utils"),o="secp256k1",a=(0,r.stringToBytes)("Bitcoin seed"),c=!0,u=65,l=e=>s.utils.isValidPrivateKey(e),d=(e,t)=>(0,s.getPublicKey)(e,t),m=(e,t)=>{(0,r.assert)((0,i.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const n=s.Point.fromHex(e).add(s.Point.fromPrivateKey(t));return n.assertValidity(),n.toRawBytes(!1)},f=e=>s.Point.fromHex(e).toRawBytes(!0),h=e=>s.Point.fromHex(e).toRawBytes(!1)}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/curves/secp256k1.js"}],[1446,{"./BIP44CoinTypeNode":1438,"./BIP44Node":1439,"./SLIP10Node":1440,"./constants":1441,"./curves":1444,"./derivers":1449,"@metamask/utils":1463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{deriveKeyFromPath:function(){return l},validatePathSegment:function(){return d}});const r=e("@metamask/utils"),s=e("./BIP44CoinTypeNode"),i=e("./BIP44Node"),o=e("./constants"),a=e("./curves"),c=e("./derivers"),u=e("./SLIP10Node");async function l(e){const{path:t,depth:n=t.length}=e,o="node"in e?e.node:undefined,l="curve"in e?e.curve:o?.curve;if(o&&!(o instanceof u.SLIP10Node)&&!(o instanceof i.BIP44Node)&&!(o instanceof s.BIP44CoinTypeNode))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!l)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return d(t,Boolean(o?.privateKey)||Boolean(o?.publicKey),n),await t.reduce((async(e,t,n)=>{const s=await e;if("string"==typeof t){const[e,n]=t.split(":");(0,r.assert)(e),(0,r.assert)(n),(0,r.assert)(function(e){return e in c.derivers}(e),`Unknown derivation type: "${e}".`);const i=c.derivers[e];return await i.deriveChildKey({path:n,node:s,curve:(0,a.getCurveByName)(l)})}return(0,r.assert)(0===n,m()),await c.derivers.bip39.deriveChildKey({path:t,node:s,curve:(0,a.getCurveByName)(l)})}),Promise.resolve(o))}function d(e,t,n){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let s=!1;if(e.forEach(((e,t)=>{if(0===t){if(s=e instanceof Uint8Array||o.BIP_39_PATH_REGEX.test(e),!(e instanceof Uint8Array||s||o.BIP_32_PATH_REGEX.test(e)||o.SLIP_10_PATH_REGEX.test(e)))throw m()}else if(e instanceof Uint8Array||!o.BIP_32_PATH_REGEX.test(e)&&!o.SLIP_10_PATH_REGEX.test(e))throw m()})),n===o.MIN_BIP_44_DEPTH&&(!s||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${o.MIN_BIP_44_DEPTH}. Received: "${String(e)}".`);if(!t&&!s)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&s)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const i=s?e.slice(1):e;if(i.length>0){const e=i[0]?.split(":")[0];(0,r.assert)(e),(0,r.assert)(i.every((t=>t.startsWith(`${e}:`))),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}function m(){return new Error("Invalid HD path segment: The path segment is malformed.")}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/derivation.js"}],[1447,{"../constants":1441,"../curves":1444,"../utils":1454,"./shared":1450,"@metamask/utils":1463,"@noble/hashes/sha3":2126},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{privateKeyToEthAddress:function(){return u},publicKeyToEthAddress:function(){return l},deriveChildKey:function(){return d}});const r=e("@metamask/utils"),s=e("@noble/hashes/sha3"),i=e("../constants"),o=e("../curves"),a=e("../utils"),c=e("./shared");function u(e){(0,r.assert)(e instanceof Uint8Array&&(0,a.isValidBytesKey)(e,i.BYTES_KEY_LENGTH),"Invalid key: The key must be a 32-byte, non-zero Uint8Array.");return l(o.secp256k1.getPublicKey(e,!1))}function l(e){return(0,r.assert)(e instanceof Uint8Array&&(0,a.isValidBytesKey)(e,o.secp256k1.publicKeyLength),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),(0,s.keccak_256)(e.slice(1)).slice(-20)}async function d(e){return(0,r.assert)("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),(0,c.deriveChildKey)(e,m)}async function m(e,t){const{childIndex:n,privateKey:r,publicKey:s,isHardened:i,curve:o,chainCode:u}=t;if((0,a.validateBIP32Index)(n+1),r){const e=await(0,c.deriveSecretExtension)({privateKey:r,childIndex:n+1,isHardened:i,curve:o}),s=(0,c.generateEntropy)({chainCode:u,extension:e});return{...t,childIndex:n+1,entropy:s}}const l=(0,c.derivePublicExtension)({parentPublicKey:s,childIndex:n+1}),d=(0,c.generateEntropy)({chainCode:u,extension:l});return{...t,childIndex:n+1,entropy:d}}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/derivers/bip32.js"}],[1448,{"../SLIP10Node":1440,"../constants":1441,"../utils":1454,"@metamask/scure-bip39":1778,"@metamask/scure-bip39/dist/wordlists/english":1779,"@metamask/utils":1463,"@noble/hashes/hmac":2123,"@noble/hashes/sha512":2127},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{bip39MnemonicToMultipath:function(){return d},deriveChildKey:function(){return m},createBip39KeyFromSeed:function(){return f}});const r=e("@metamask/scure-bip39"),s=e("@metamask/scure-bip39/dist/wordlists/english"),i=e("@metamask/utils"),o=e("@noble/hashes/hmac"),a=e("@noble/hashes/sha512"),c=e("../constants"),u=e("../SLIP10Node"),l=e("../utils");function d(e){return`bip39:${e.toLowerCase().trim()}`}async function m({path:e,curve:t}){return f(await(0,r.mnemonicToSeed)(e,s.wordlist),t)}async function f(e,t){(0,i.assert)(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const n=(0,o.hmac)(a.sha512,t.secret,e),r=n.slice(0,c.BYTES_KEY_LENGTH),s=n.slice(c.BYTES_KEY_LENGTH);(0,i.assert)(t.isValidPrivateKey(r),"Invalid private key: The private key must greater than 0 and less than the curve order.");const d=(0,l.getFingerprint)(await t.getPublicKey(r,!0));return u.SLIP10Node.fromExtendedKey({privateKey:r,chainCode:s,masterFingerprint:d,depth:0,parentFingerprint:0,index:0,curve:t.name})}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/derivers/bip39.js"}],[1449,{"./bip32":1447,"./bip39":1448,"./slip10":1451},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{derivers:function(){return c},createBip39KeyFromSeed:function(){return s.createBip39KeyFromSeed}});const r=a(e("./bip32")),s=a(e("./bip39")),i=a(e("./slip10"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}const c={bip32:r,bip39:s,slip10:i}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/derivers/index.js"}],[1450,{"../SLIP10Node":1440,"../constants":1441,"../curves":1444,"../utils":1454,"@metamask/utils":1463,"@noble/hashes/hmac":2123,"@noble/hashes/sha512":2127},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{deriveChildKey:function(){return l},deriveSecretExtension:function(){return m},derivePublicExtension:function(){return f},derivePublicChildKey:function(){return h},privateAdd:function(){return p},generateEntropy:function(){return g},validateNode:function(){return b}});const r=e("@metamask/utils"),s=e("@noble/hashes/hmac"),i=e("@noble/hashes/sha512"),o=e("../constants"),a=e("../curves"),c=e("../SLIP10Node"),u=e("../utils");async function l({path:e,node:t,curve:n},s){b(t);const{childIndex:i,isHardened:a}=function(e,t,n){!function(e,t,n){(0,r.assert)("string"==typeof e,"Invalid path: Must be a string.");const s=e.endsWith("'");(0,r.assert)(!s||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),(0,r.assert)(s||n.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${n.name}.`)}(e,t,n);const s=e.split("'")[0];(0,r.assert)(s);const i=parseInt(s,10);if(!o.UNPREFIXED_PATH_REGEX.test(s)||!Number.isInteger(i)||i<0||i>=o.BIP_32_HARDENED_OFFSET)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${o.BIP_32_HARDENED_OFFSET}.`);return{childIndex:i,isHardened:e.includes("'")}}(e,t,n),c={chainCode:t.chainCodeBytes,childIndex:i,isHardened:a,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:n};if(t.privateKeyBytes){const e=await m({privateKey:t.privateKeyBytes,childIndex:i,isHardened:a,curve:n}),r=g({chainCode:t.chainCodeBytes,extension:e});return await d({privateKey:t.privateKeyBytes,entropy:r,...c},s)}const u=f({parentPublicKey:t.compressedPublicKeyBytes,childIndex:i}),l=g({chainCode:t.chainCodeBytes,extension:u});return await d({publicKey:t.compressedPublicKeyBytes,entropy:l,...c},s)}async function d(e,t){const{privateKey:n,publicKey:r,entropy:s,childIndex:i,isHardened:a,depth:u,parentFingerprint:l,masterFingerprint:m,curve:f}=e;try{return n?await async function({entropy:e,privateKey:t,depth:n,masterFingerprint:r,parentFingerprint:s,childIndex:i,isHardened:a,curve:u}){const l=i+(a?o.BIP_32_HARDENED_OFFSET:0),{privateKey:d,chainCode:m}=await async function({privateKey:e,entropy:t,curve:n}){const r=t.slice(0,32),s=t.slice(32);if("ed25519"===n.name){return{privateKey:r,publicKey:await n.getPublicKey(r),chainCode:s}}const i=p(e,r,n),o=await n.getPublicKey(i);return{privateKey:i,publicKey:o,chainCode:s}}({privateKey:t,entropy:e,curve:u});return await c.SLIP10Node.fromExtendedKey({privateKey:d,chainCode:m,depth:n+1,masterFingerprint:r,parentFingerprint:s,index:l,curve:u.name})}({entropy:s,privateKey:n,depth:u,masterFingerprint:m,parentFingerprint:l,childIndex:i,isHardened:a,curve:f}):await h({entropy:s,publicKey:r,depth:u,masterFingerprint:m,parentFingerprint:l,childIndex:i,curve:f})}catch(n){return await d(await t(n,e),t)}}async function m({privateKey:e,childIndex:t,isHardened:n,curve:s}){if(n)return(0,r.concatBytes)([new Uint8Array([0]),e,(0,u.numberToUint32)(t+o.BIP_32_HARDENED_OFFSET)]);return f({parentPublicKey:await s.getPublicKey(e,!0),childIndex:t})}function f({parentPublicKey:e,childIndex:t}){return(0,r.concatBytes)([e,(0,u.numberToUint32)(t)])}async function h({entropy:e,publicKey:t,depth:n,masterFingerprint:r,parentFingerprint:s,childIndex:i,curve:o}){const{publicKey:a,chainCode:u}=function({publicKey:e,entropy:t,curve:n}){const r=t.slice(0,32),s=t.slice(32);return{publicKey:n.publicAdd(e,r),chainCode:s}}({publicKey:t,entropy:e,curve:o});return await c.SLIP10Node.fromExtendedKey({publicKey:a,chainCode:u,depth:n+1,masterFingerprint:r,parentFingerprint:s,index:i,curve:o.name})}function p(e,t,n){(0,r.assert)((0,u.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const s=(0,r.bytesToBigInt)(e),i=(0,r.bytesToBigInt)(t);if(i>=n.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const o=(0,a.mod)(s+i,n.curve.n),c=(0,r.hexToBytes)(o.toString(16).padStart(64,"0"));if(!n.isValidPrivateKey(c))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return c}function g({chainCode:e,extension:t}){return(0,s.hmac)(i.sha512,e,t)}function b(e){(0,r.assert)(e,"Invalid parameters: Must specify a node to derive from.")}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/derivers/shared.js"}],[1451,{"../constants":1441,"../utils":1454,"./shared":1450,"@metamask/utils":1463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"deriveChildKey",{enumerable:!0,get:function(){return a}});const r=e("@metamask/utils"),s=e("../constants"),i=e("../utils"),o=e("./shared");async function a(e){return await(0,o.deriveChildKey)(e,c)}async function c(e,t){const{curve:n,isHardened:a,childIndex:c,entropy:u,chainCode:l}=t;if("ed25519"===n.name)throw e;const d=a?c+s.BIP_32_HARDENED_OFFSET:c,m=(0,o.generateEntropy)({chainCode:l,extension:(0,r.concatBytes)([1,u.slice(32,64),(0,i.numberToUint32)(d)])});return{...t,entropy:m}}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/derivers/slip10.js"}],[1452,{"./BIP44Node":1439,"./curves/secp256k1":1445,"./utils":1454,"@metamask/utils":1463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{PUBLIC_KEY_VERSION:function(){return a},PRIVATE_KEY_VERSION:function(){return c},decodeExtendedKey:function(){return u},encodeExtendedKey:function(){return l}});const r=e("@metamask/utils"),s=e("./BIP44Node"),i=e("./curves/secp256k1"),o=e("./utils"),a=76067358,c=76066276,u=e=>{const t=(0,o.decodeBase58check)(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const n=(0,r.createDataView)(t),u=n.getUint32(0,!1),l=n.getUint8(4);(0,s.validateBIP44Depth)(l);const d=n.getUint32(5,!1),m=n.getUint32(9,!1),f=t.slice(13,45);if(!(0,o.isValidBytesKey)(f,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const h=t.slice(45,78);if(!(0,o.isValidBytesKey)(h,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const p=(0,r.createDataView)(h);if(u===a){if(2!==p.getUint8(0)&&3!==p.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{version:u,depth:l,parentFingerprint:d,index:m,chainCode:f,publicKey:(0,i.decompressPublicKey)(h)}}if(u===c){if(0!==p.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{version:u,depth:l,parentFingerprint:d,index:m,chainCode:f,privateKey:h.slice(1)}}throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")},l=e=>{const{version:t,depth:n,parentFingerprint:s,index:u,chainCode:l}=e,d=new Uint8Array(78),m=(0,r.createDataView)(d);if(m.setUint32(0,t,!1),m.setUint8(4,n),m.setUint32(5,s,!1),m.setUint32(9,u,!1),d.set(l,13),e.version===a){const{publicKey:t}=e,n=(0,i.compressPublicKey)(t);d.set(n,45)}if(e.version===c){const{privateKey:t}=e;d.set(t,46)}return(0,o.encodeBase58check)(d)}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/extended-keys.js"}],[1453,{"./BIP44CoinTypeNode":1438,"./BIP44Node":1439,"./SLIP10Node":1440,"./constants":1441,"./curves":1444,"./derivers":1449,"./utils":1454},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{BIP44Node:function(){return r.BIP44Node},SLIP10Node:function(){return s.SLIP10Node},secp256k1:function(){return i.secp256k1},ed25519:function(){return i.ed25519},BIP44CoinTypeNode:function(){return o.BIP44CoinTypeNode},BIP_44_COIN_TYPE_DEPTH:function(){return o.BIP_44_COIN_TYPE_DEPTH},deriveBIP44AddressKey:function(){return o.deriveBIP44AddressKey},getBIP44AddressKeyDeriver:function(){return o.getBIP44AddressKeyDeriver},isValidBIP32PathSegment:function(){return u.isValidBIP32PathSegment},mnemonicPhraseToBytes:function(){return u.mnemonicPhraseToBytes},createBip39KeyFromSeed:function(){return l.createBip39KeyFromSeed}});const r=e("./BIP44Node"),s=e("./SLIP10Node"),i=e("./curves"),o=e("./BIP44CoinTypeNode");var a,c;a=e("./constants"),c=n,Object.keys(a).forEach((function(e){"default"===e||Object.prototype.hasOwnProperty.call(c,e)||Object.defineProperty(c,e,{enumerable:!0,get:function(){return a[e]}})}));const u=e("./utils"),l=e("./derivers")}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/index.js"}],[1454,{"./constants":1441,"./curves":1444,"@metamask/scure-bip39/dist/wordlists/english":1779,"@metamask/utils":1463,"@noble/hashes/ripemd160":2124,"@noble/hashes/sha256":2125,"@scure/base":2145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{getBIP44CoinTypePathString:function(){return l},getBIP44ChangePathString:function(){return d},getBIP44CoinTypeToAddressPathTuple:function(){return m},getHardenedBIP32NodeToken:function(){return f},getUnhardenedBIP32NodeToken:function(){return h},getBIP32NodeToken:function(){return p},validateBIP32Index:function(){return g},isValidBIP32Index:function(){return b},isValidBIP32PathSegment:function(){return y},isHardened:function(){return x},hexStringToBytes:function(){return v},nullableHexStringToBytes:function(){return k},isValidBytesKey:function(){return w},isValidInteger:function(){return S},getBytes:function(){return E},getBytesUnsafe:function(){return C},decodeBase58check:function(){return A},encodeBase58check:function(){return _},getFingerprint:function(){return P},mnemonicPhraseToBytes:function(){return I},validateCurve:function(){return B},numberToUint32:function(){return j}});const r=e("@metamask/scure-bip39/dist/wordlists/english"),s=e("@metamask/utils"),i=e("@noble/hashes/ripemd160"),o=e("@noble/hashes/sha256"),a=e("@scure/base"),c=e("./constants"),u=e("./curves");function l(e){return`m / ${c.BIP44PurposeNodeToken} / ${f(e)}`}function d(e,t){return`${e} / ${f(t.account??0)} / ${p(t.change??0)}`}function m({account:e=0,change:t=0,address_index:n}){return[f(e),p(t),p(n)]}function f(e){return g(e),`${h(e)}'`}function h(e){return g(e),`bip32:${e}`}function p(e){if("number"==typeof e)return h(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?f(e.index):h(e.index)}function g(e){if(!b(e))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.")}function b(e){return S(e)&&e<=c.MAX_BIP_32_INDEX}function y(e){if("string"!=typeof e)return!1;const t=e.match(c.UNPREFIXED_BIP_32_PATH_REGEX);if(void 0===t?.groups?.index)return!1;const n=parseInt(t.groups.index,10);return S(n)&&n<=c.MAX_UNHARDENED_BIP_32_INDEX}function x(e){return e.endsWith("'")}function v(e){return e instanceof Uint8Array?e:(0,s.hexToBytes)(e)}function k(e){return e!==undefined?v(e):undefined}function w(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function S(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function E(e,t){if(e instanceof Uint8Array)return T(e,t),e;if("string"==typeof e){const n=(0,s.hexToBytes)(e);return T(n,t),n}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")}function C(e,t){if(e instanceof Uint8Array)return(0,s.assert)(e.length===t,`Invalid value: Must be a ${t}-byte byte array.`),e;if("string"==typeof e)return C((0,s.hexToBytes)(e),t);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")}function T(e,t){if(!w(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}const A=e=>{const t=(0,a.base58check)(o.sha256);try{return t.decode(e)}catch{throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}},_=e=>(0,a.base58check)(o.sha256).encode(e),P=e=>{if(!w(e,33))throw new Error("Invalid public key: The key must be a 33-byte, non-zero byte array.");const t=(0,i.ripemd160)((0,o.sha256)(e));return(0,s.createDataView)(t).getUint32(0,!1)};function I(e){const t=e.split(" ").map((e=>{const t=r.wordlist.indexOf(e);return(0,s.assert)(-1!==t,`Invalid mnemonic phrase: Unknown word "${e}".`),t}));return new Uint8Array(new Uint16Array(t).buffer)}function B(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(u.curves).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(u.curves).join(", ")}.`)}function j(e){const t=new Uint8Array(4);return(0,s.createDataView)(t).setUint32(0,e,!1),t}}}},{package:"@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cjs/utils.js"}],[1455,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/assert.js"}],[1456,{"./assert":1455,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("superstruct"),s=e("./assert");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,i=t.characterSet??"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/base64.js"}],[1457,{"./assert":1455,"./hex":1462,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("./assert"),s=e("./hex"),i=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,r.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function m(e){l(e);const t=d(e);return BigInt(t)}function f(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),c=t-(t<o?i:a),u=s-(s<o?i:a);r[e]=16*c+u}return r}function h(e){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return f(e.toString(16))}function p(e){(0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return f(e.toString(16))}function g(e){return(0,r.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function b(e){if("bigint"==typeof e)return h(e);if("number"==typeof e)return p(e);if("string"==typeof e)return e.startsWith("0x")?f(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=u,n.assertIsBytes=l,n.bytesToHex=d,n.bytesToBigInt=m,n.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){l(e);const t=m(e);return(0,r.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},n.hexToBytes=f,n.bigIntToBytes=h,n.signedBigIntToBytes=function(e,t){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)("number"==typeof t,"Byte length must be a number."),(0,r.assert)(t>0,"Byte length must be greater than 0."),(0,r.assert)(function(e,t){(0,r.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return s.reverse()},n.numberToBytes=p,n.stringToBytes=g,n.valueToBytes=b,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=b(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/bytes.js"}],[1458,{"./base64":1456,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("superstruct"),s=e("./base64");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/checksum.js"}],[1459,{"./assert":1455,"./bytes":1457,"./hex":1462,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("superstruct"),s=e("./assert"),i=e("./bytes"),o=e("./hex"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),o.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([o.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([o.StrictHexStruct]),i.hexToBytes)),d=(0,r.coerce)(o.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/coercers.js"}],[1460,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=a;class c{constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return o(this,s,"f")[Symbol.iterator]()}entries(){return o(this,s,"f").entries()}forEach(e,t){return o(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return o(this,s,"f").has(e)}keys(){return o(this,s,"f").keys()}values(){return o(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/collections.js"}],[1461,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/encryption-types.js"}],[1462,{"./assert":1455,"./bytes":1457,"@noble/hashes/sha3":2126,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes");function a(e){return(0,s.is)(e,n.HexStruct)}function c(e){return(0,s.is)(e,n.StrictHexStruct)}function u(e){(0,i.assert)((0,s.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),a=d((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=a[t];return(0,i.assert)((0,s.is)(n,(0,s.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,s.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=a,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,i.assert)(a(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,i.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,s.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/hex.js"}],[1463,{"./assert":1455,"./base64":1456,"./bytes":1457,"./checksum":1458,"./coercers":1459,"./collections":1460,"./encryption-types":1461,"./hex":1462,"./json":1464,"./keyring":1465,"./logging":1466,"./misc":1467,"./number":1468,"./opaque":1469,"./time":1470,"./transaction-types":1471,"./versions":1472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert"),n),s(e("./base64"),n),s(e("./bytes"),n),s(e("./checksum"),n),s(e("./coercers"),n),s(e("./collections"),n),s(e("./encryption-types"),n),s(e("./hex"),n),s(e("./json"),n),s(e("./keyring"),n),s(e("./logging"),n),s(e("./misc"),n),s(e("./number"),n),s(e("./opaque"),n),s(e("./time"),n),s(e("./transaction-types"),n),s(e("./versions"),n)}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/index.js"}],[1464,{"./assert":1455,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=void 0;const r=e("superstruct"),s=e("./assert");function i(e){return(0,r.create)(e,n.JsonStruct)}n.UnsafeJsonStruct=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>n.UnsafeJsonStruct))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>n.UnsafeJsonStruct)))]),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.any)(),(e=>((0,s.assertStruct)(e,n.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),n.isValidJson=function(e){try{return i(e),!0}catch{return!1}},n.getSafeJson=i,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(n.JsonStruct),stack:(0,r.optional)((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.optional)((0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)])),n.JsonRpcRequestStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:n.JsonRpcParamsStruct}),n.JsonRpcNotificationStruct=(0,r.omit)(n.JsonRpcRequestStruct,["id"]),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/json.js"}],[1465,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/keyring.js"}],[1466,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/logging.js"}],[1467,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/misc.js"}],[1468,{"./assert":1455,"./hex":1462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert"),s=e("./hex");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/number.js"}],[1469,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/opaque.js"}],[1470,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/time.js"}],[1471,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/transaction-types.js"}],[1472,{"./assert":1455,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("semver"),s=e("superstruct"),i=e("./assert");n.VersionStruct=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,s.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,s.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,r.gt)(e,t)},n.gtRange=function(e,t){return(0,r.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/key-tree>@metamask/utils",file:"node_modules/@metamask/key-tree/node_modules/@metamask/utils/dist/versions.js"}],[1590,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiERC1155=void 0,n.abiERC1155=[{inputs:[{internalType:"string",name:"uri_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC1155.js"}],[1591,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiERC20=void 0,n.abiERC20=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC20.js"}],[1592,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiERC721=void 0,n.abiERC721=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_approved",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_operator",type:"address"},{indexed:!1,name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC721.js"}],[1593,{"./abis/abiERC1155":1590,"./abis/abiERC20":1591,"./abis/abiERC721":1592},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiERC1155=n.abiERC721=n.abiERC20=void 0;const r=e("./abis/abiERC20");Object.defineProperty(n,"abiERC20",{enumerable:!0,get:function(){return r.abiERC20}});const s=e("./abis/abiERC721");Object.defineProperty(n,"abiERC721",{enumerable:!0,get:function(){return s.abiERC721}});const i=e("./abis/abiERC1155");Object.defineProperty(n,"abiERC1155",{enumerable:!0,get:function(){return i.abiERC1155}})}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/index.js"}],[1594,{"./types":1602,"@metamask/base-controller":1119},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i,o,a,c,u,l,d,m,f,h,p,g,b,y,x,v,k,w,S,E,C,T,A,_=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},P=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},I=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.NameController=void 0;const B=e("@metamask/base-controller"),j=e("./types"),R={names:{persist:!0,anonymous:!1},nameSources:{persist:!0,anonymous:!1}};class O extends B.BaseControllerV2{constructor({messenger:e,providers:t,state:n,updateDelay:o}){super({name:"NameController",metadata:R,messenger:e,state:Object.assign(Object.assign({},{names:{[j.NameType.ETHEREUM_ADDRESS]:{}},nameSources:{}}),n)}),r.add(this),s.set(this,void 0),i.set(this,void 0),P(this,s,t,"f"),P(this,i,null!=o?o:120,"f")}setName(e){I(this,r,"m",g).call(this,e);const{value:t,type:n,name:s,sourceId:i,variation:o}=e,a=null!=i?i:null;I(this,r,"m",h).call(this,t,n,o,(e=>{e.name=s,e.sourceId=a}))}updateProposedNames(e){return _(this,void 0,void 0,(function*(){I(this,r,"m",b).call(this,e);const t=(yield Promise.all(I(this,s,"f").map((t=>I(this,r,"m",u).call(this,e,t))))).filter((e=>Boolean(e)));return I(this,r,"m",o).call(this,e,t),I(this,r,"m",a).call(this,I(this,s,"f")),I(this,r,"m",c).call(this,t)}))}}n.NameController=O,s=new WeakMap,i=new WeakMap,r=new WeakSet,o=function(e,t){const{value:n,type:s,variation:i}=e,o=I(this,r,"m",p).call(this);I(this,r,"m",h).call(this,n,s,i,(e=>{var n;I(this,r,"m",A).call(this,e.proposedNames,s);for(const r of t){const{results:t}=r;for(const s of Object.keys(r.results)){const r=t[s],{proposedNames:i,updateDelay:a}=r,c=null!==(n=e.proposedNames[s])&&void 0!==n?n:{proposedNames:[],lastRequestTime:null,updateDelay:null};e.proposedNames[s]=c,i&&(c.proposedNames=i),c.lastRequestTime=o,c.updateDelay=null!=a?a:null}}}))},a=function(e){const t=Object.assign({},this.state.nameSources);for(const n of e){const{sourceLabels:e}=n.getMetadata();for(const n of Object.keys(e))t[n]={label:e[n]}}this.update((e=>{e.nameSources=t}))},c=function(e){return e.reduce(((e,t)=>{const{results:n}=t;for(const t of Object.keys(n)){const{proposedNames:r,error:s}=n[t];e.results[t]={proposedNames:r,error:s}}return e}),{results:{}})},u=function(e,t){return _(this,void 0,void 0,(function*(){const{value:n,type:s,sourceIds:o,onlyUpdateAfterDelay:a,variation:c}=e,u=null!=c?c:"",d=I(this,r,"m",T).call(this,t,s),h=I(this,r,"m",p).call(this),g=I(this,r,"m",m).call(this,n,s),b=d.filter((e=>{var t,n,r,c,l,d,m;if(o&&!o.includes(e))return!1;if(a){const o=null!==(l=null===(c=(null!==(r=null===(n=null===(t=this.state.names[s])||void 0===t?void 0:t[g])||void 0===n?void 0:n[u])&&void 0!==r?r:{}).proposedNames)||void 0===c?void 0:c[e])&&void 0!==l?l:{},a=null!==(d=o.lastRequestTime)&&void 0!==d?d:0,f=null!==(m=o.updateDelay)&&void 0!==m?m:I(this,i,"f");if(h-a<f)return!1}return!0}));if(!b.length)return undefined;const y={value:I(this,r,"m",m).call(this,n,s),type:s,sourceIds:o?b:undefined,variation:I(this,r,"m",f).call(this,u,s)};let x,v;try{v=yield t.getProposedNames(y),x=v.error}catch(e){x=e}return I(this,r,"m",l).call(this,v,x,b)}))},l=function(e,t,n){const s=null!=t?t:undefined;return{results:n.reduce(((n,s)=>{var i;const o=null===(i=null==e?void 0:e.results)||void 0===i?void 0:i[s],a=I(this,r,"m",d).call(this,o,t);return Object.assign(Object.assign({},n),{[s]:a})}),{}),error:s}},d=function(e,t){var n,r,s,i;const o=null!==(r=null!==(n=null==e?void 0:e.error)&&void 0!==n?n:t)&&void 0!==r?r:undefined,a=null!==(s=null==e?void 0:e.updateDelay)&&void 0!==s?s:undefined;let c=o?undefined:null!==(i=null==e?void 0:e.proposedNames)&&void 0!==i?i:undefined;return c&&(c=c.filter((e=>null==e?void 0:e.length))),{proposedNames:c,error:o,updateDelay:a}},m=function(e,t){return t===j.NameType.ETHEREUM_ADDRESS?e.toLowerCase():e},f=function(e,t){return t===j.NameType.ETHEREUM_ADDRESS?e.toLowerCase():e},h=function(e,t,n,s){const i=null!=n?n:"",o=I(this,r,"m",m).call(this,e,t),a=I(this,r,"m",f).call(this,i,t);this.update((e=>{var n;const r=e.names[t]||{};e.names[t]=r;const i=r[o]||{};r[o]=i;const c=null!==(n=i[a])&&void 0!==n?n:{proposedNames:{},name:null,sourceId:null};i[a]=c,s(c)}))},p=function(){return Math.round(Date.now()/1e3)},g=function(e){const{name:t,value:n,type:s,sourceId:i,variation:o}=e,a=[];if(I(this,r,"m",y).call(this,n,a),I(this,r,"m",x).call(this,s,a),I(this,r,"m",v).call(this,t,a),I(this,r,"m",w).call(this,i,s,t,a),I(this,r,"m",E).call(this,o,s,a),a.length)throw new Error(a.join(" "))},b=function(e){const{value:t,type:n,sourceIds:s,variation:i}=e,o=[];if(I(this,r,"m",y).call(this,t,o),I(this,r,"m",x).call(this,n,o),I(this,r,"m",k).call(this,s,n,o),I(this,r,"m",S).call(this,n,o),I(this,r,"m",E).call(this,i,n,o),o.length)throw new Error(o.join(" "))},y=function(e,t){(null==e?void 0:e.length)&&"string"==typeof e||t.push("Must specify a non-empty string for value.")},x=function(e,t){Object.values(j.NameType).includes(e)||t.push(`Must specify one of the following types: ${Object.values(j.NameType).join(", ")}`)},v=function(e,t){null!==e&&((null==e?void 0:e.length)&&"string"==typeof e||t.push("Must specify a non-empty string or null for name."))},k=function(e,t,n){if(!e)return;const s=I(this,r,"m",C).call(this,t),i=[];for(const t of e)s.includes(t)||i.push(t);i.length&&n.push(`Unknown source IDs for type '${t}': ${i.join(", ")}`)},w=function(e,t,n,s){if(null===e||e===undefined)return;if(null===n)return void s.push(`Cannot specify a source ID when clearing the saved name: ${e}`);const i=I(this,r,"m",C).call(this,t);e.length&&"string"==typeof e?i.includes(e)||s.push(`Unknown source ID for type '${t}': ${e}`):s.push("Must specify a non-empty string for sourceId.")},S=function(e,t){const n=I(this,r,"m",C).call(this,e),s=n.filter(((e,t)=>n.indexOf(e)!==t));s.length&&t.push(`Duplicate source IDs found for type '${e}': ${s.join(", ")}`)},E=function(e,t,n){t===j.NameType.ETHEREUM_ADDRESS&&((null==e?void 0:e.length)&&"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]+$/u)||n.push(`Must specify a chain ID in hexidecimal format for variation when using '${t}' type.`))},C=function(e){return I(this,s,"f").map((t=>I(this,r,"m",T).call(this,t,e))).flat()},T=function(e,t){return e.getMetadata().sourceIds[t]},A=function(e,t){if(0===Object.keys(e).length)return;const n=I(this,r,"m",C).call(this,t),s=Object.keys(e).filter((e=>!n.includes(e)));for(const t of s)delete e[t]}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/NameController.js"}],[1595,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ETHERSCAN_SUPPORTED_NETWORKS=n.CHAIN_IDS=void 0,n.CHAIN_IDS={MAINNET:"0x1",GOERLI:"0x5",BSC:"0x38",BSC_TESTNET:"0x61",OPTIMISM:"0xa",OPTIMISM_TESTNET:"0x1a4",POLYGON:"0x89",POLYGON_TESTNET:"0x13881",AVALANCHE:"0xa86a",AVALANCHE_TESTNET:"0xa869",FANTOM:"0xfa",FANTOM_TESTNET:"0xfa2",SEPOLIA:"0xaa36a7",LINEA_GOERLI:"0xe704",LINEA_MAINNET:"0xe708",MOONBEAM:"0x504",MOONBEAM_TESTNET:"0x507",MOONRIVER:"0x505",GNOSIS:"0x64"};const r="etherscan.io",s="api";n.ETHERSCAN_SUPPORTED_NETWORKS={[n.CHAIN_IDS.GOERLI]:{domain:r,subdomain:`${s}-goerli`},[n.CHAIN_IDS.MAINNET]:{domain:r,subdomain:s},[n.CHAIN_IDS.SEPOLIA]:{domain:r,subdomain:`${s}-sepolia`},[n.CHAIN_IDS.LINEA_GOERLI]:{domain:"lineascan.build",subdomain:"goerli"},[n.CHAIN_IDS.LINEA_MAINNET]:{domain:"lineascan.build",subdomain:s},[n.CHAIN_IDS.BSC]:{domain:"bscscan.com",subdomain:s},[n.CHAIN_IDS.BSC_TESTNET]:{domain:"bscscan.com",subdomain:`${s}-testnet`},[n.CHAIN_IDS.OPTIMISM]:{domain:r,subdomain:`${s}-optimistic`},[n.CHAIN_IDS.OPTIMISM_TESTNET]:{domain:r,subdomain:`${s}-goerli-optimistic`},[n.CHAIN_IDS.POLYGON]:{domain:"polygonscan.com",subdomain:s},[n.CHAIN_IDS.POLYGON_TESTNET]:{domain:"polygonscan.com",subdomain:`${s}-mumbai`},[n.CHAIN_IDS.AVALANCHE]:{domain:"snowtrace.io",subdomain:s},[n.CHAIN_IDS.AVALANCHE_TESTNET]:{domain:"snowtrace.io",subdomain:`${s}-testnet`},[n.CHAIN_IDS.FANTOM]:{domain:"ftmscan.com",subdomain:s},[n.CHAIN_IDS.FANTOM_TESTNET]:{domain:"ftmscan.com",subdomain:`${s}-testnet`},[n.CHAIN_IDS.MOONBEAM]:{domain:"moonscan.io",subdomain:`${s}-moonbeam`},[n.CHAIN_IDS.MOONBEAM_TESTNET]:{domain:"moonscan.io",subdomain:`${s}-moonbase`},[n.CHAIN_IDS.MOONRIVER]:{domain:"moonscan.io",subdomain:`${s}-moonriver`},[n.CHAIN_IDS.GNOSIS]:{domain:"gnosisscan.io",subdomain:`${s}-gnosis`}}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/constants.js"}],[1596,{"./NameController":1594,"./providers/ens":1598,"./providers/etherscan":1599,"./providers/lens":1600,"./providers/token":1601,"./types":1602},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./NameController"),n),s(e("./types"),n),s(e("./providers/ens"),n),s(e("./providers/etherscan"),n),s(e("./providers/token"),n),s(e("./providers/lens"),n)}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/index.js"}],[1597,{"@metamask/utils":1612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("name-controller")}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/logger.js"}],[1598,{"../logger":1597,"../types":1602},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ENSNameProvider=void 0;const c=e("../logger"),u=e("../types"),l="ens",d=(0,c.createModuleLogger)(c.projectLogger,"ens");n.ENSNameProvider=class{constructor({isEnabled:e,reverseLookup:t}){r.set(this,void 0),s.set(this,void 0),o(this,r,e||(()=>!0),"f"),o(this,s,t,"f")}getMetadata(){return{sourceIds:{[u.NameType.ETHEREUM_ADDRESS]:[l]},sourceLabels:{[l]:"Ethereum Name Service (ENS)"}}}getProposedNames(e){return i(this,void 0,void 0,(function*(){if(!a(this,r,"f").call(this))return d("Skipping request as disabled"),{results:{[l]:{proposedNames:[]}}};const{value:t,variation:n}=e;d("Invoking callback",{value:t,chainId:n});try{const e=yield a(this,s,"f").call(this,t,n),r=e?[e]:[];return d("New proposed names",r),{results:{[l]:{proposedNames:r}}}}catch(e){throw d("Request failed",e),e}}))}},r=new WeakMap,s=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/ens.js"}],[1599,{"../constants":1595,"../logger":1597,"../types":1602,"../util":1603,"async-mutex":2782},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i,o,a,c,u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},l=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},d=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.EtherscanNameProvider=void 0;const m=e("async-mutex"),f=e("../constants"),h=e("../logger"),p=e("../types"),g=e("../util"),b="etherscan",y=(0,h.createModuleLogger)(h.projectLogger,"etherscan");n.EtherscanNameProvider=class{constructor({isEnabled:e}={}){r.add(this),s.set(this,void 0),i.set(this,0),o.set(this,new m.Mutex),l(this,s,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[p.NameType.ETHEREUM_ADDRESS]:[b]},sourceLabels:{[b]:"Etherscan (Verified Contract Name)"}}}getProposedNames(e){var t;return u(this,void 0,void 0,(function*(){if(!d(this,s,"f").call(this))return y("Skipping request as disabled"),{results:{[b]:{proposedNames:[]}}};const n=yield d(this,o,"f").acquire();try{const{value:n,variation:s}=e,o=Date.now();if(o-d(this,i,"f")<5e3)return y("Skipping request to avoid rate limit"),{results:{[b]:{updateDelay:5}}};const u=d(this,r,"m",c).call(this,s,{module:"contract",action:"getsourcecode",address:n}),{responseData:l,error:m}=yield d(this,r,"m",a).call(this,u);if(m)throw y("Request failed",m),m;if("NOTOK"===(null==l?void 0:l.message))return y("Request warning",l.result),{results:{[b]:{updateDelay:5}}};const f=(null!==(t=null==l?void 0:l.result)&&void 0!==t?t:[]).map((e=>e.ContractName));return y("New proposed names",f),{results:{[b]:{proposedNames:f}}}}finally{n()}}))}},s=new WeakMap,i=new WeakMap,o=new WeakMap,r=new WeakSet,a=function(e){return u(this,void 0,void 0,(function*(){try{y("Sending request",e);return{responseData:yield(0,g.handleFetch)(e)}}catch(e){return(0,g.assertIsError)(e),{error:e}}finally{l(this,i,Date.now(),"f")}}))},c=function(e,t){const n=f.ETHERSCAN_SUPPORTED_NETWORKS[e];if(!n)throw new Error(`Etherscan does not support chain with ID: ${e}`);let r=`https://${n.subdomain}.${n.domain}/api`;return Object.keys(t).forEach(((e,n)=>{const s=t[e];r+=`${0===n?"?":"&"}${e}=${s}`})),r}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/etherscan.js"}],[1600,{"../logger":1597,"../types":1602,"../util":1603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.LensNameProvider=void 0;const a=e("../logger"),c=e("../types"),u=e("../util"),l="lens",d=(0,a.createModuleLogger)(a.projectLogger,"lens");n.LensNameProvider=class{constructor({isEnabled:e}={}){r.set(this,void 0),i(this,r,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[c.NameType.ETHEREUM_ADDRESS]:[l]},sourceLabels:{[l]:"Lens Protocol"}}}getProposedNames(e){var t,n;return s(this,void 0,void 0,(function*(){if(!o(this,r,"f").call(this))return d("Skipping request as disabled"),{results:{[l]:{proposedNames:[]}}};const{value:s}=e,i={address:s};d("Sending request",{variables:i});try{const e=yield(0,u.graphQL)("https://api.lens.dev","\nquery HandlesForAddress($address: EthereumAddress!) {\n  profiles(request: { ownedBy: [$address] }) {\n    items {\n      handle\n    }\n  }\n}",i),r=(null!==(n=null===(t=null==e?void 0:e.profiles)||void 0===t?void 0:t.items)&&void 0!==n?n:[]).map((e=>e.handle));return d("New proposed names",r),{results:{[l]:{proposedNames:r}}}}catch(e){throw d("Request failed",e),e}}))}},r=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/lens.js"}],[1601,{"../logger":1597,"../types":1602,"../util":1603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.TokenNameProvider=void 0;const a=e("../logger"),c=e("../types"),u=e("../util"),l="token",d=(0,a.createModuleLogger)(a.projectLogger,"token");n.TokenNameProvider=class{constructor({isEnabled:e}={}){r.set(this,void 0),i(this,r,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[c.NameType.ETHEREUM_ADDRESS]:[l]},sourceLabels:{[l]:"Blockchain (Token Name)"}}}getProposedNames(e){return s(this,void 0,void 0,(function*(){if(!o(this,r,"f").call(this))return d("Skipping request as disabled"),{results:{[l]:{proposedNames:[]}}};const{value:t,variation:n}=e,s=`https://token-api.metaswap.codefi.network/token/${n}?address=${t}`;d("Sending request",s);try{const e=(yield(0,u.handleFetch)(s)).name,t=e?[e]:[];return d("New proposed names",t),{results:{[l]:{proposedNames:t}}}}catch(e){throw d("Request failed",e),e}}))}},r=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/token.js"}],[1602,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NameType=void 0,function(e){e.ETHEREUM_ADDRESS="ethereumAddress"}(n.NameType||(n.NameType={}))}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/types.js"}],[1603,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};function s(e,t){return r(this,void 0,void 0,(function*(){const n=yield i(e,t);return yield n.json()}))}function i(e,t){return r(this,void 0,void 0,(function*(){const n=yield fetch(e,t);if(!n.ok)throw new Error(`Fetch failed with status '${n.status}' for request '${e}'`);return n}))}Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsError=n.successfulFetch=n.handleFetch=n.graphQL=void 0,n.graphQL=function(e,t,n){return r(this,void 0,void 0,(function*(){const r=JSON.stringify({query:t,variables:n}),i=yield s(e,{body:r,method:"POST",headers:{"Content-Type":"application/json"}});return null==i?void 0:i.data}))},n.handleFetch=s,n.successfulFetch=i,n.assertIsError=function(e){if(!(e instanceof Error))throw new Error(`Invalid error of type '${typeof e}'`)}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/util.js"}],[1604,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/assert.js"}],[1605,{"./assert":1604,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("superstruct"),s=e("./assert");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,i=t.characterSet??"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/base64.js"}],[1606,{"./assert":1604,"./hex":1611,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("./assert"),s=e("./hex"),i=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,r.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function m(e){l(e);const t=d(e);return BigInt(t)}function f(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),c=t-(t<o?i:a),u=s-(s<o?i:a);r[e]=16*c+u}return r}function h(e){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return f(e.toString(16))}function p(e){(0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return f(e.toString(16))}function g(e){return(0,r.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function b(e){if("bigint"==typeof e)return h(e);if("number"==typeof e)return p(e);if("string"==typeof e)return e.startsWith("0x")?f(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=u,n.assertIsBytes=l,n.bytesToHex=d,n.bytesToBigInt=m,n.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){l(e);const t=m(e);return(0,r.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},n.hexToBytes=f,n.bigIntToBytes=h,n.signedBigIntToBytes=function(e,t){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)("number"==typeof t,"Byte length must be a number."),(0,r.assert)(t>0,"Byte length must be greater than 0."),(0,r.assert)(function(e,t){(0,r.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return s.reverse()},n.numberToBytes=p,n.stringToBytes=g,n.valueToBytes=b,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=b(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/bytes.js"}],[1607,{"./base64":1605,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("superstruct"),s=e("./base64");n.ChecksumStruct=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/checksum.js"}],[1608,{"./assert":1604,"./bytes":1606,"./hex":1611,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("superstruct"),s=e("./assert"),i=e("./bytes"),o=e("./hex"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),o.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([o.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([o.StrictHexStruct]),i.hexToBytes)),d=(0,r.coerce)(o.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/coercers.js"}],[1609,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=a;class c{constructor(e){s.set(this,void 0),i(this,s,new Set(e),"f"),Object.freeze(this)}get size(){return o(this,s,"f").size}[(s=new WeakMap,Symbol.iterator)](){return o(this,s,"f")[Symbol.iterator]()}entries(){return o(this,s,"f").entries()}forEach(e,t){return o(this,s,"f").forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return o(this,s,"f").has(e)}keys(){return o(this,s,"f").keys()}values(){return o(this,s,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/collections.js"}],[1610,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/encryption-types.js"}],[1611,{"./assert":1604,"./bytes":1606,"@noble/hashes/sha3":2126,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes");function a(e){return(0,s.is)(e,n.HexStruct)}function c(e){return(0,s.is)(e,n.StrictHexStruct)}function u(e){(0,i.assert)((0,s.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),a=d((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=a[t];return(0,i.assert)((0,s.is)(n,(0,s.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,s.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=a,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,i.assert)(a(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,i.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,s.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/hex.js"}],[1612,{"./assert":1604,"./base64":1605,"./bytes":1606,"./checksum":1607,"./coercers":1608,"./collections":1609,"./encryption-types":1610,"./hex":1611,"./json":1613,"./keyring":1614,"./logging":1615,"./misc":1616,"./number":1617,"./opaque":1618,"./time":1619,"./transaction-types":1620,"./versions":1621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./assert"),n),s(e("./base64"),n),s(e("./bytes"),n),s(e("./checksum"),n),s(e("./coercers"),n),s(e("./collections"),n),s(e("./encryption-types"),n),s(e("./hex"),n),s(e("./json"),n),s(e("./keyring"),n),s(e("./logging"),n),s(e("./misc"),n),s(e("./number"),n),s(e("./opaque"),n),s(e("./time"),n),s(e("./transaction-types"),n),s(e("./versions"),n)}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/index.js"}],[1613,{"./assert":1604,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=void 0;const r=e("superstruct"),s=e("./assert");function i(e){return(0,r.create)(e,n.JsonStruct)}n.UnsafeJsonStruct=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>n.UnsafeJsonStruct))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>n.UnsafeJsonStruct)))]),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.any)(),(e=>((0,s.assertStruct)(e,n.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),n.isValidJson=function(e){try{return i(e),!0}catch{return!1}},n.getSafeJson=i,n.getJsonSize=function(e){(0,s.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(n.JsonStruct),stack:(0,r.optional)((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.optional)((0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)])),n.JsonRpcRequestStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:n.JsonRpcParamsStruct}),n.JsonRpcNotificationStruct=(0,r.omit)(n.JsonRpcRequestStruct,["id"]),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,s.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,s.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,s.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,s.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,s.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,s.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/json.js"}],[1614,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/keyring.js"}],[1615,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const s=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return s.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/logging.js"}],[1616,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/misc.js"}],[1617,{"./assert":1604,"./hex":1611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert"),s=e("./hex");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/number.js"}],[1618,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/opaque.js"}],[1619,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/time.js"}],[1620,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/transaction-types.js"}],[1621,{"./assert":1604,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("semver"),s=e("superstruct"),i=e("./assert");n.VersionStruct=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,s.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,s.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,i.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,i.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,r.gt)(e,t)},n.gtRange=function(e,t){return(0,r.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/name-controller>@metamask/utils",file:"node_modules/@metamask/name-controller/node_modules/@metamask/utils/dist/versions.js"}],[1652,{"./Substream":1653,"end-of-stream":3169,once:4177,"readable-stream":4486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectMultiplex=void 0;const s=e("readable-stream"),i=r(e("end-of-stream")),o=r(e("once")),a=e("./Substream"),c=Symbol("IGNORE_SUBSTREAM");class u extends s.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new a.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,t){const n=o.default(t);i.default(e,{readable:!1},n),i.default(e,{writable:!1},n)}(this,(e=>t.destroy(e||undefined))),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){return undefined}_write(e,t,n){const{name:r,data:s}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const i=this._substreams[r];return i?(i!==c&&i.push(s),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}}n.ObjectMultiplex=u}}},{package:"@metamask/providers>@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/ObjectMultiplex.js"}],[1653,{"readable-stream":4486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Substream=void 0;const r=e("readable-stream");class s extends r.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){return undefined}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}n.Substream=s}}},{package:"@metamask/providers>@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/Substream.js"}],[1654,{"./ObjectMultiplex":1652},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("./ObjectMultiplex");t.exports=r.ObjectMultiplex}}},{package:"@metamask/providers>@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/index.js"}],[1662,{"./Permission":1663,"./errors":1666,"@metamask/utils":1682},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.decorateWithCaveats=n.isRestrictedMethodCaveatSpecification=void 0;const s=e("@metamask/utils"),i=e("./errors"),o=e("./Permission");function a(e){return(0,s.hasProperty)(e,"decorator")}n.isRestrictedMethodCaveatSpecification=a,n.decorateWithCaveats=function(e,t,n){const{caveats:s}=t;if(!s)return e;let c=t=>r(this,void 0,void 0,(function*(){return e(t)}));for(const e of s){const t=n[e.type];if(!t)throw new i.UnrecognizedCaveatTypeError(e.type);if(!a(t))throw new i.CaveatSpecificationMismatchError(t,o.PermissionType.RestrictedMethod);c=t.decorator(c,e)}return c}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/Caveat.js"}],[1663,{nanoid:1692},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasSpecificationType=n.PermissionType=n.findCaveat=n.constructPermission=void 0;const r=e("nanoid");n.constructPermission=function(e){const{caveats:t=null,invoker:n,target:s}=e;return{id:(0,r.nanoid)(),parentCapability:s,invoker:n,caveats:t,date:(new Date).getTime()}},n.findCaveat=function(e,t){var n;return null===(n=e.caveats)||void 0===n?void 0:n.find((e=>e.type===t))},function(e){e.RestrictedMethod="RestrictedMethod",e.Endowment="Endowment"}(n.PermissionType||(n.PermissionType={})),n.hasSpecificationType=function(e,t){return e.permissionType===t}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/Permission.js"}],[1664,{"./Caveat":1662,"./Permission":1663,"./errors":1666,"./permission-middleware":1668,"./utils":1672,"@metamask/base-controller":1119,"@metamask/controller-utils":1124,"@metamask/rpc-errors":1756,"@metamask/utils":1682,"deep-freeze-strict":3135,immer:3834,nanoid:1692},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionController=n.CaveatMutatorOperation=void 0;const o=e("@metamask/base-controller"),a=e("@metamask/controller-utils"),c=e("@metamask/rpc-errors"),u=e("@metamask/utils"),l=i(e("deep-freeze-strict")),d=e("immer"),m=e("nanoid"),f=e("./Caveat"),h=e("./errors"),p=e("./Permission"),g=e("./permission-middleware"),b=e("./utils"),y="PermissionController";var x;!function(e){e[e.noop=0]="noop",e[e.updateValue=1]="updateValue",e[e.deleteCaveat=2]="deleteCaveat",e[e.revokePermission=3]="revokePermission"}(x=n.CaveatMutatorOperation||(n.CaveatMutatorOperation={}));class v extends o.BaseControllerV2{constructor(e){const{caveatSpecifications:t,permissionSpecifications:n,unrestrictedMethods:r,messenger:s,state:i={}}=e;super({name:y,metadata:{subjects:{anonymous:!0,persist:!0}},messenger:s,state:Object.assign(Object.assign({},{subjects:{}}),i)}),this._unrestrictedMethods=new Set(r),this._caveatSpecifications=(0,l.default)(Object.assign({},t)),this.validatePermissionSpecifications(n,this._caveatSpecifications),this._permissionSpecifications=(0,l.default)(Object.assign({},n)),this.registerMessageHandlers(),this.createPermissionMiddleware=(0,g.getPermissionMiddlewareFactory)({executeRestrictedMethod:this._executeRestrictedMethod.bind(this),getRestrictedMethod:this.getRestrictedMethod.bind(this),isUnrestrictedMethod:this.unrestrictedMethods.has.bind(this.unrestrictedMethods)})}get unrestrictedMethods(){return this._unrestrictedMethods}getPermissionSpecification(e){return this._permissionSpecifications[e]}getCaveatSpecification(e){return this._caveatSpecifications[e]}validatePermissionSpecifications(e,t){Object.entries(e).forEach((([e,{permissionType:n,targetName:r,allowedCaveats:s}])=>{if(!n||!(0,u.hasProperty)(p.PermissionType,n))throw new Error(`Invalid permission type: "${n}"`);if(!e)throw new Error(`Invalid permission target name: "${e}"`);if(e!==r)throw new Error(`Invalid permission specification: target name "${e}" must match specification.targetName value "${r}".`);s&&s.forEach((e=>{if(!(0,u.hasProperty)(t,e))throw new h.UnrecognizedCaveatTypeError(e);const r=t[e],s=(0,f.isRestrictedMethodCaveatSpecification)(r);if(n===p.PermissionType.RestrictedMethod&&!s||n===p.PermissionType.Endowment&&s)throw new h.CaveatSpecificationMismatchError(r,n)}))}))}registerMessageHandlers(){this.messagingSystem.registerActionHandler(`${y}:clearPermissions`,(()=>this.clearState())),this.messagingSystem.registerActionHandler(`${y}:getEndowments`,((e,t,n)=>this.getEndowments(e,t,n))),this.messagingSystem.registerActionHandler(`${y}:getSubjectNames`,(()=>this.getSubjectNames())),this.messagingSystem.registerActionHandler(`${y}:getPermissions`,(e=>this.getPermissions(e))),this.messagingSystem.registerActionHandler(`${y}:hasPermission`,((e,t)=>this.hasPermission(e,t))),this.messagingSystem.registerActionHandler(`${y}:hasPermissions`,(e=>this.hasPermissions(e))),this.messagingSystem.registerActionHandler(`${y}:grantPermissions`,this.grantPermissions.bind(this)),this.messagingSystem.registerActionHandler(`${y}:requestPermissions`,((e,t)=>this.requestPermissions(e,t))),this.messagingSystem.registerActionHandler(`${y}:revokeAllPermissions`,(e=>this.revokeAllPermissions(e))),this.messagingSystem.registerActionHandler(`${y}:revokePermissionForAllSubjects`,(e=>this.revokePermissionForAllSubjects(e))),this.messagingSystem.registerActionHandler(`${y}:revokePermissions`,this.revokePermissions.bind(this)),this.messagingSystem.registerActionHandler(`${y}:updateCaveat`,((e,t,n,r)=>{this.updateCaveat(e,t,n,r)}))}clearState(){this.update((e=>Object.assign({},{subjects:{}})))}getTypedPermissionSpecification(e,t,n){const r=e===p.PermissionType.RestrictedMethod?(0,h.methodNotFound)(t,n?{origin:n}:undefined):new h.EndowmentPermissionDoesNotExistError(t,n);if(!this.targetExists(t))throw r;const s=this.getPermissionSpecification(t);if(!(0,p.hasSpecificationType)(s,e))throw r;return s}getRestrictedMethod(e,t){return this.getTypedPermissionSpecification(p.PermissionType.RestrictedMethod,e,t).methodImplementation}getSubjectNames(){return Object.keys(this.state.subjects)}getPermission(e,t){var n;return null===(n=this.state.subjects[e])||void 0===n?void 0:n.permissions[t]}getPermissions(e){var t;return null===(t=this.state.subjects[e])||void 0===t?void 0:t.permissions}hasPermission(e,t){return Boolean(this.getPermission(e,t))}hasPermissions(e){return Boolean(this.state.subjects[e])}revokeAllPermissions(e){this.update((t=>{if(!t.subjects[e])throw new h.UnrecognizedSubjectError(e);delete t.subjects[e]}))}revokePermission(e,t){this.revokePermissions({[e]:[t]})}revokePermissions(e){this.update((t=>{Object.keys(e).forEach((n=>{if(!(0,u.hasProperty)(t.subjects,n))throw new h.UnrecognizedSubjectError(n);e[n].forEach((e=>{const{permissions:r}=t.subjects[n];if(!(0,u.hasProperty)(r,e))throw new h.PermissionDoesNotExistError(n,e);this.deletePermission(t.subjects,n,e)}))}))}))}revokePermissionForAllSubjects(e){0!==this.getSubjectNames().length&&this.update((t=>{Object.entries(t.subjects).forEach((([n,r])=>{const{permissions:s}=r;(0,u.hasProperty)(s,e)&&this.deletePermission(t.subjects,n,e)}))}))}deletePermission(e,t,n){const{permissions:r}=e[t];Object.keys(r).length>1?delete r[n]:delete e[t]}hasCaveat(e,t,n){return Boolean(this.getCaveat(e,t,n))}getCaveat(e,t,n){const r=this.getPermission(e,t);if(!r)throw new h.PermissionDoesNotExistError(e,t);return(0,p.findCaveat)(r,n)}addCaveat(e,t,n,r){if(this.hasCaveat(e,t,n))throw new h.CaveatAlreadyExistsError(e,t,n);this.setCaveat(e,t,n,r)}updateCaveat(e,t,n,r){if(!this.hasCaveat(e,t,n))throw new h.CaveatDoesNotExistError(e,t,n);this.setCaveat(e,t,n,r)}setCaveat(e,t,n,r){this.update((s=>{const i=s.subjects[e];if(!i)throw new h.UnrecognizedSubjectError(e);const o=i.permissions[t];if(!o)throw new h.PermissionDoesNotExistError(e,t);const a={type:n,value:r};if(this.validateCaveat(a,e,t),o.caveats){const e=o.caveats.findIndex((e=>e.type===a.type));-1===e?o.caveats.push(a):o.caveats.splice(e,1,a)}else o.caveats=[a];this.validateModifiedPermission(o,e)}))}updatePermissionsByCaveat(e,t){0!==Object.keys(this.state.subjects).length&&this.update((n=>{Object.values(n.subjects).forEach((r=>{Object.values(r.permissions).forEach((s=>{const{caveats:i}=s,o=null==i?void 0:i.find((({type:t})=>t===e));if(!o)return;const a=t(o.value);switch(a.operation){case x.noop:break;case x.updateValue:o.value=a.value,this.validateCaveat(o,r.origin,s.parentCapability);break;case x.deleteCaveat:this.deleteCaveat(s,e,r.origin);break;case x.revokePermission:this.deletePermission(n.subjects,r.origin,s.parentCapability);break;default:throw new Error(`Unrecognized mutation result: "${a.operation}"`)}}))}))}))}removeCaveat(e,t,n){this.update((r=>{var s;const i=null===(s=r.subjects[e])||void 0===s?void 0:s.permissions[t];if(!i)throw new h.PermissionDoesNotExistError(e,t);if(!i.caveats)throw new h.CaveatDoesNotExistError(e,t,n);this.deleteCaveat(i,n,e)}))}deleteCaveat(e,t,n){if(!e.caveats)throw new h.CaveatDoesNotExistError(n,e.parentCapability,t);const r=e.caveats.findIndex((e=>e.type===t));if(-1===r)throw new h.CaveatDoesNotExistError(n,e.parentCapability,t);1===e.caveats.length?e.caveats=null:e.caveats.splice(r,1),this.validateModifiedPermission(e,n)}validateModifiedPermission(e,t){if(!this.targetExists(e.parentCapability))throw new Error(`Fatal: Existing permission target "${e.parentCapability}" has no specification.`);this.validatePermission(this.getPermissionSpecification(e.parentCapability),e,t)}targetExists(e){return(0,u.hasProperty)(this._permissionSpecifications,e)}grantPermissions({approvedPermissions:e,requestData:t,preserveExistingPermissions:n=!0,subject:r}){const{origin:s}=r;if(!s||"string"!=typeof s)throw new h.InvalidSubjectIdentifierError(s);const i=n?Object.assign({},this.getPermissions(s)):{};for(const[n,r]of Object.entries(e)){if(!this.targetExists(n))throw(0,h.methodNotFound)(n);if(r.parentCapability!==undefined&&n!==r.parentCapability)throw new h.InvalidApprovedPermissionError(s,n,r);const e=n,o=this.getPermissionSpecification(e),a={caveats:this.constructCaveats(s,e,r.caveats),invoker:s,target:e};let c;o.factory?(c=o.factory(a,t),this.validatePermission(o,c,s)):(c=(0,p.constructPermission)(a),this.validatePermission(o,c,s,{invokePermissionValidator:!0,performCaveatValidation:!1})),i[e]=c}return this.setValidatedPermissions(s,i),i}validatePermission(e,t,n,{invokePermissionValidator:r,performCaveatValidation:s}={invokePermissionValidator:!0,performCaveatValidation:!0}){var i;const{allowedCaveats:o,validator:a,targetName:c}=e;if((null===(i=e.subjectTypes)||void 0===i?void 0:i.length)&&e.subjectTypes.length>0){const t=this.messagingSystem.call("SubjectMetadataController:getSubjectMetadata",n);if(!t||null===t.subjectType||!e.subjectTypes.includes(t.subjectType))throw e.permissionType===p.PermissionType.RestrictedMethod?(0,h.methodNotFound)(c,{origin:n}):new h.EndowmentPermissionDoesNotExistError(c,n)}if((0,u.hasProperty)(t,"caveats")){const{caveats:e}=t;if(null!==e&&!(Array.isArray(e)&&e.length>0))throw new h.InvalidCaveatsPropertyError(n,c,e);const r=new Set;null==e||e.forEach((e=>{if(s&&this.validateCaveat(e,n,c),!(null==o?void 0:o.includes(e.type)))throw new h.ForbiddenCaveatError(e.type,n,c);if(r.has(e.type))throw new h.DuplicateCaveatError(e.type,n,c);r.add(e.type)}))}r&&a&&a(t,n,c)}setValidatedPermissions(e,t){this.update((n=>{n.subjects[e]||(n.subjects[e]={origin:e,permissions:{}}),n.subjects[e].permissions=(0,d.castDraft)(t)}))}constructCaveats(e,t,n){const r=null==n?void 0:n.map((n=>{this.validateCaveat(n,e,t);const{type:r,value:s}=n;return{type:r,value:s}}));return r&&(0,a.isNonEmptyArray)(r)?r:undefined}validateCaveat(e,t,n){var r;if(!(0,a.isPlainObject)(e))throw new h.InvalidCaveatError(e,t,n);if(2!==Object.keys(e).length)throw new h.InvalidCaveatFieldsError(e,t,n);if("string"!=typeof e.type)throw new h.InvalidCaveatTypeError(e,t,n);const s=this.getCaveatSpecification(e.type);if(!s)throw new h.UnrecognizedCaveatTypeError(e.type,t,n);if(!(0,u.hasProperty)(e,"value")||e.value===undefined)throw new h.CaveatMissingValueError(e,t,n);if(!(0,a.isValidJson)(e.value))throw new h.CaveatInvalidJsonError(e,t,n);null===(r=s.validator)||void 0===r||r.call(s,e,t,n)}requestPermissions(e,t,n={}){return r(this,void 0,void 0,(function*(){const{origin:r}=e,{id:i=(0,m.nanoid)(),preserveExistingPermissions:o=!0}=n;this.validateRequestedPermissions(r,t);const a={id:i,origin:r},c={metadata:a,permissions:t},u=yield this.requestUserApproval(c),{permissions:l}=u,d=s(u,["permissions"]),f=this.getSideEffects(l);if(Object.values(f.permittedHandlers).length>0){const t=yield this.executeSideEffects(f,u),n=Object.keys(f.permittedHandlers).reduce(((e,n,r)=>Object.assign({[n]:t[r]},e)),{});return[this.grantPermissions({subject:e,approvedPermissions:l,preserveExistingPermissions:o,requestData:d}),Object.assign({data:n},a)]}return[this.grantPermissions({subject:e,approvedPermissions:l,preserveExistingPermissions:o,requestData:d}),a]}))}validateRequestedPermissions(e,t){if(!(0,a.isPlainObject)(t))throw(0,h.invalidParams)({message:`Requested permissions for origin "${e}" is not a plain object.`,data:{origin:e,requestedPermissions:t}});if(0===Object.keys(t).length)throw(0,h.invalidParams)({message:`Permissions request for origin "${e}" contains no permissions.`,data:{requestedPermissions:t}});for(const n of Object.keys(t)){const r=t[n];if(!this.targetExists(n))throw(0,h.methodNotFound)(n,{origin:e,requestedPermissions:t});if(!(0,a.isPlainObject)(r)||r.parentCapability!==undefined&&n!==r.parentCapability)throw(0,h.invalidParams)({message:`Permissions request for origin "${e}" contains invalid requested permission(s).`,data:{origin:e,requestedPermissions:t}});this.validatePermission(this.getPermissionSpecification(n),r,e,{invokePermissionValidator:!1,performCaveatValidation:!0})}}requestUserApproval(e){return r(this,void 0,void 0,(function*(){const{origin:t,id:n}=e.metadata,r=yield this.messagingSystem.call("ApprovalController:addRequest",{id:n,origin:t,requestData:e,type:b.MethodNames.requestPermissions},!0);return this.validateApprovedPermissions(r,{id:n,origin:t}),r}))}getSideEffects(e){return Object.keys(e).reduce(((e,t)=>{if(this.targetExists(t)){const n=this.getPermissionSpecification(t);n.sideEffect&&(e.permittedHandlers[t]=n.sideEffect.onPermitted,n.sideEffect.onFailure&&(e.failureHandlers[t]=n.sideEffect.onFailure))}return e}),{permittedHandlers:{},failureHandlers:{}})}executeSideEffects(e,t){return r(this,void 0,void 0,(function*(){const{permittedHandlers:n,failureHandlers:r}=e,s={requestData:t,messagingSystem:this.messagingSystem},i=yield Promise.allSettled(Object.values(n).map((e=>e(s)))),o=i.filter((e=>"rejected"===e.status));if(o.length>0){const e=Object.values(r);if(e.length>0)try{yield Promise.all(e.map((e=>e(s))))}catch(e){throw(0,h.internalError)("Unexpected error in side-effects",{error:e})}const t=o.map((e=>e.reason));throw t.forEach((e=>{console.error(e)})),t.length>1?(0,h.internalError)("Multiple errors occurred during side-effects execution",{errors:t}):t[0]}return i.map((({value:e})=>e))}))}validateApprovedPermissions(e,t){const{id:n,origin:r}=t;if(!(0,a.isPlainObject)(e)||!(0,a.isPlainObject)(e.metadata))throw(0,h.internalError)(`Approved permissions request for subject "${r}" is invalid.`,{data:{approvedRequest:e}});const{metadata:{id:s,origin:i},permissions:o}=e;if(s!==n)throw(0,h.internalError)(`Approved permissions request for subject "${r}" mutated its id.`,{originalId:n,mutatedId:s});if(i!==r)throw(0,h.internalError)(`Approved permissions request for subject "${r}" mutated its origin.`,{originalOrigin:r,mutatedOrigin:i});try{this.validateRequestedPermissions(r,o)}catch(e){if(e instanceof c.JsonRpcError)throw(0,h.internalError)(`Invalid approved permissions request: ${e.message}`,e.data);throw(0,h.internalError)("Unrecognized error type",{error:e})}}acceptPermissionsRequest(e){return r(this,void 0,void 0,(function*(){const{id:t}=e.metadata;if(!this.hasApprovalRequest({id:t}))throw new h.PermissionsRequestNotFoundError(t);if(0!==Object.keys(e.permissions).length)try{this.messagingSystem.call("ApprovalController:acceptRequest",t,e)}catch(e){throw this._rejectPermissionsRequest(t,e),e}else this._rejectPermissionsRequest(t,(0,h.invalidParams)({message:"Must request at least one permission."}))}))}rejectPermissionsRequest(e){return r(this,void 0,void 0,(function*(){if(!this.hasApprovalRequest({id:e}))throw new h.PermissionsRequestNotFoundError(e);this._rejectPermissionsRequest(e,(0,h.userRejectedRequest)())}))}hasApprovalRequest(e){return this.messagingSystem.call("ApprovalController:hasRequest",e)}_rejectPermissionsRequest(e,t){return this.messagingSystem.call("ApprovalController:rejectRequest",e,t)}getEndowments(e,t,n){return r(this,void 0,void 0,(function*(){if(!this.hasPermission(e,t))throw(0,h.unauthorized)({data:{origin:e,targetName:t}});return this.getTypedPermissionSpecification(p.PermissionType.Endowment,t,e).endowmentGetter({origin:e,requestData:n})}))}executeRestrictedMethod(e,t,n){return r(this,void 0,void 0,(function*(){const r=this.getRestrictedMethod(t,e),s=yield this._executeRestrictedMethod(r,{origin:e},t,n);if(s===undefined)throw new Error(`Internal request for method "${t}" as origin "${e}" returned no result.`);return s}))}_executeRestrictedMethod(e,t,n,r=[]){const{origin:s}=t,i=this.getPermission(s,n);if(!i)throw(0,h.unauthorized)({data:{origin:s,method:n}});return(0,f.decorateWithCaveats)(e,i,this._caveatSpecifications)({method:n,params:r,context:{origin:s}})}}n.PermissionController=v}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/PermissionController.js"}],[1665,{"@metamask/base-controller":1119},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SubjectMetadataController=n.SubjectType=void 0;const r=e("@metamask/base-controller");!function(e){e.Extension="extension",e.Internal="internal",e.Unknown="unknown",e.Website="website",e.Snap="snap"}(n.SubjectType||(n.SubjectType={}));const s={subjectMetadata:{persist:!0,anonymous:!1}},i={subjectMetadata:{}};class o extends r.BaseControllerV2{constructor({messenger:e,subjectCacheLimit:t,state:n={}}){if(!Number.isInteger(t)||t<1)throw new Error(`subjectCacheLimit must be a positive integer. Received: "${t}"`);const r=t=>e.call("PermissionController:hasPermissions",t);super({name:"SubjectMetadataController",metadata:s,messenger:e,state:Object.assign({},o.getTrimmedState(n,r))}),this.subjectHasPermissions=r,this.subjectCacheLimit=t,this.subjectsWithoutPermissionsEncounteredSinceStartup=new Set,this.messagingSystem.registerActionHandler(`${this.name}:getSubjectMetadata`,this.getSubjectMetadata.bind(this))}clearState(){this.subjectsWithoutPermissionsEncounteredSinceStartup.clear(),this.update((e=>Object.assign({},i)))}addSubjectMetadata(e){const{origin:t}=e,n=Object.assign(Object.assign({},e),{extensionId:e.extensionId||null,iconUrl:e.iconUrl||null,name:e.name||null,subjectType:e.subjectType||null});let r=null;if(this.subjectsWithoutPermissionsEncounteredSinceStartup.size>=this.subjectCacheLimit){const e=this.subjectsWithoutPermissionsEncounteredSinceStartup.values().next().value;this.subjectsWithoutPermissionsEncounteredSinceStartup.delete(e),this.subjectHasPermissions(e)||(r=e)}this.subjectsWithoutPermissionsEncounteredSinceStartup.add(t),this.update((e=>{e.subjectMetadata[t]=n,"string"==typeof r&&delete e.subjectMetadata[r]}))}getSubjectMetadata(e){return this.state.subjectMetadata[e]}trimMetadataState(){this.update((e=>o.getTrimmedState(e,this.subjectHasPermissions)))}static getTrimmedState(e,t){const{subjectMetadata:n={}}=e;return{subjectMetadata:Object.keys(n).reduce(((e,r)=>(t(r)&&(e[r]=n[r]),e)),{})}}}n.SubjectMetadataController=o}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/SubjectMetadataController.js"}],[1666,{"@metamask/rpc-errors":1756},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsRequestNotFoundError=n.CaveatSpecificationMismatchError=n.DuplicateCaveatError=n.ForbiddenCaveatError=n.InvalidCaveatFieldsError=n.CaveatInvalidJsonError=n.CaveatMissingValueError=n.InvalidCaveatTypeError=n.InvalidCaveatError=n.CaveatAlreadyExistsError=n.CaveatDoesNotExistError=n.InvalidCaveatsPropertyError=n.UnrecognizedCaveatTypeError=n.EndowmentPermissionDoesNotExistError=n.PermissionDoesNotExistError=n.InvalidApprovedPermissionError=n.UnrecognizedSubjectError=n.InvalidSubjectIdentifierError=n.internalError=n.userRejectedRequest=n.invalidParams=n.methodNotFound=n.unauthorized=void 0;const r=e("@metamask/rpc-errors");n.unauthorized=function(e){return r.providerErrors.unauthorized({message:"Unauthorized to perform action. Try requesting the required permission(s) first. For more information, see: https://docs.metamask.io/guide/rpc-api.html#permissions",data:e.data})},n.methodNotFound=function(e,t){const n={message:`The method "${e}" does not exist / is not available.`};return t!==undefined&&(n.data=t),r.rpcErrors.methodNotFound(n)},n.invalidParams=function(e){return r.rpcErrors.invalidParams({data:e.data,message:e.message})},n.userRejectedRequest=function(e){return r.providerErrors.userRejectedRequest({data:e})},n.internalError=function(e,t){return r.rpcErrors.internal({message:e,data:t})};class s extends Error{constructor(e){super(`Invalid subject identifier: "${"string"==typeof e?e:typeof e}"`)}}n.InvalidSubjectIdentifierError=s;class i extends Error{constructor(e){super(`Unrecognized subject: "${e}" has no permissions.`)}}n.UnrecognizedSubjectError=i;class o extends Error{constructor(e,t,n){super(`Invalid approved permission for origin "${e}" and target "${t}".`),this.data={origin:e,target:t,approvedPermission:n}}}n.InvalidApprovedPermissionError=o;class a extends Error{constructor(e,t){super(`Subject "${e}" has no permission for "${t}".`)}}n.PermissionDoesNotExistError=a;class c extends Error{constructor(e,t){super(`Subject "${t}" has no permission for "${e}".`),t&&(this.data={origin:t})}}n.EndowmentPermissionDoesNotExistError=c;class u extends Error{constructor(e,t,n){super(`Unrecognized caveat type: "${e}"`),this.data={caveatType:e},t!==undefined&&(this.data.origin=t),n!==undefined&&(this.data.target=n)}}n.UnrecognizedCaveatTypeError=u;class l extends Error{constructor(e,t,n){super(`The "caveats" property of permission for "${t}" of subject "${e}" is invalid. It must be a non-empty array if specified.`),this.data={origin:e,target:t,caveatsProperty:n}}}n.InvalidCaveatsPropertyError=l;class d extends Error{constructor(e,t,n){super(`Permission for "${t}" of subject "${e}" has no caveat of type "${n}".`)}}n.CaveatDoesNotExistError=d;class m extends Error{constructor(e,t,n){super(`Permission for "${t}" of subject "${e}" already has a caveat of type "${n}".`)}}n.CaveatAlreadyExistsError=m;class f extends r.JsonRpcError{constructor(e,t,n){super(r.errorCodes.rpc.invalidParams,"Invalid caveat. Caveats must be plain objects.",{receivedCaveat:e}),this.data={origin:t,target:n}}}n.InvalidCaveatError=f;class h extends Error{constructor(e,t,n){super(`Caveat types must be strings. Received: "${typeof e.type}"`),this.data={caveat:e,origin:t,target:n}}}n.InvalidCaveatTypeError=h;class p extends Error{constructor(e,t,n){super('Caveat is missing "value" field.'),this.data={caveat:e,origin:t,target:n}}}n.CaveatMissingValueError=p;class g extends Error{constructor(e,t,n){super('Caveat "value" is invalid JSON.'),this.data={caveat:e,origin:t,target:n}}}n.CaveatInvalidJsonError=g;class b extends Error{constructor(e,t,n){super(`Caveat has unexpected number of fields: "${Object.keys(e).length}"`),this.data={caveat:e,origin:t,target:n}}}n.InvalidCaveatFieldsError=b;class y extends Error{constructor(e,t,n){super(`Permissions for target "${n}" may not have caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:n}}}n.ForbiddenCaveatError=y;class x extends Error{constructor(e,t,n){super(`Permissions for target "${n}" contains multiple caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:n}}}n.DuplicateCaveatError=x;class v extends Error{constructor(e,t){super(`Caveat specification uses a mismatched type. Expected caveats for ${t}`),this.data={caveatSpec:e,permissionType:t}}}n.CaveatSpecificationMismatchError=v;class k extends Error{constructor(e){super(`Permissions request with id "${e}" not found.`)}}n.PermissionsRequestNotFoundError=k}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/errors.js"}],[1667,{"./Caveat":1662,"./Permission":1663,"./PermissionController":1664,"./SubjectMetadataController":1665,"./errors":1666,"./rpc-methods":1670,"./utils":1672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.permissionRpcMethods=void 0,i(e("./Caveat"),n),i(e("./errors"),n),i(e("./Permission"),n),i(e("./PermissionController"),n),i(e("./utils"),n),n.permissionRpcMethods=o(e("./rpc-methods")),i(e("./SubjectMetadataController"),n)}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/index.js"}],[1668,{"./errors":1666,"@metamask/json-rpc-engine":1416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionMiddlewareFactory=void 0;const s=e("@metamask/json-rpc-engine"),i=e("./errors");n.getPermissionMiddlewareFactory=function({executeRestrictedMethod:e,getRestrictedMethod:t,isUnrestrictedMethod:n}){return function(o){const{origin:a}=o;if("string"!=typeof a||!a)throw new Error('The subject "origin" must be a non-empty string.');return(0,s.createAsyncMiddleware)(((s,c,u)=>r(this,void 0,void 0,(function*(){const{method:r,params:l}=s;if(n(r))return u();const d=t(r,a),m=yield e(d,o,r,l);return m===undefined?(c.error=(0,i.internalError)(`Request for method "${s.method}" returned undefined result.`,{request:s}),undefined):(c.result=m,undefined)}))))}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/permission-middleware.js"}],[1669,{"../utils":1672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionsHandler=void 0;const s=e("../utils");n.getPermissionsHandler={methodNames:[s.MethodNames.getPermissions],implementation:function(e,t,n,s,{getPermissionsForOrigin:i}){return r(this,void 0,void 0,(function*(){return t.result=Object.values(i()||{}),s()}))},hookNames:{getPermissionsForOrigin:!0}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/getPermissions.js"}],[1670,{"./getPermissions":1669,"./requestPermissions":1671},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handlers=void 0;const r=e("./getPermissions"),s=e("./requestPermissions");n.handlers=[s.requestPermissionsHandler,r.getPermissionsHandler]}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/index.js"}],[1671,{"../errors":1666,"../utils":1672,"@metamask/controller-utils":1124,"@metamask/rpc-errors":1756},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.requestPermissionsHandler=void 0;const s=e("@metamask/controller-utils"),i=e("@metamask/rpc-errors"),o=e("../errors"),a=e("../utils");n.requestPermissionsHandler={methodNames:[a.MethodNames.requestPermissions],implementation:function(e,t,n,a,{requestPermissionsForOrigin:c}){return r(this,void 0,void 0,(function*(){const{id:n,params:r}=e;if("number"!=typeof n&&"string"!=typeof n||"string"==typeof n&&!n)return a(i.rpcErrors.invalidRequest({message:"Invalid request: Must specify a valid id.",data:{request:e}}));if(!Array.isArray(r)||!(0,s.isPlainObject)(r[0]))return a((0,o.invalidParams)({data:{request:e}}));const[u]=r,[l]=yield c(u,String(n));return t.result=Object.values(l),a()}))},hookNames:{requestPermissionsForOrigin:!0}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/requestPermissions.js"}],[1672,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MethodNames=void 0,function(e){e.requestPermissions="wallet_requestPermissions",e.getPermissions="wallet_getPermissions"}(n.MethodNames||(n.MethodNames={}))}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/utils.js"}],[1673,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{AssertionError:function(){return i},assert:function(){return o},assertStruct:function(){return a},assertExhaustive:function(){return c}});const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){var t,n,r;super(e.message),r="ERR_ASSERTION",(n="code")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}}function o(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}}function a(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}}function c(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/assert.js"}],[1674,{"./assert":1673,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"base64",{enumerable:!0,get:function(){return i}});const r=e("superstruct"),s=e("./assert"),i=(e,t={})=>{const n=t.paddingRequired??!1,i=t.characterSet??"base64";let o,a;return"base64"===i?o=String.raw`[A-Za-z0-9+\/]`:((0,s.assert)("base64url"===i),o=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/base64.js"}],[1675,{"./assert":1673,"./hex":1681,buffer:2913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{isBytes:function(){return u},assertIsBytes:function(){return l},bytesToHex:function(){return d},bytesToBigInt:function(){return m},bytesToSignedBigInt:function(){return f},bytesToNumber:function(){return h},bytesToString:function(){return p},hexToBytes:function(){return g},bigIntToBytes:function(){return b},signedBigIntToBytes:function(){return y},numberToBytes:function(){return x},stringToBytes:function(){return v},valueToBytes:function(){return k},concatBytes:function(){return w},createDataView:function(){return S}});const r=e("./assert"),s=e("./hex"),i=48,o=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,r.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function m(e){l(e);const t=d(e);return BigInt(t)}function f(e){l(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)}function h(e){l(e);const t=m(e);return(0,r.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function p(e){return l(e),(new TextDecoder).decode(e)}function g(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),s=n.charCodeAt(2*e+1),c=t-(t<o?i:a),u=s-(s<o?i:a);r[e]=16*c+u}return r}function b(e){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return g(e.toString(16))}function y(e,t){(0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)("number"==typeof t,"Byte length must be a number."),(0,r.assert)(t>0,"Byte length must be greater than 0."),(0,r.assert)(function(e,t){(0,r.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const s=new Uint8Array(t);for(let e=0;e<s.length;e++)s[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return s.reverse()}function x(e){(0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return g(e.toString(16))}function v(e){return(0,r.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function k(e){if("bigint"==typeof e)return b(e);if("number"==typeof e)return x(e);if("string"==typeof e)return e.startsWith("0x")?g(e):v(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function w(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const s=k(e[r]);t[r]=s,n+=s.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r}function S(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/bytes.js"}],[1676,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{CAIP_CHAIN_ID_REGEX:function(){return s},CAIP_NAMESPACE_REGEX:function(){return i},CAIP_REFERENCE_REGEX:function(){return o},CAIP_ACCOUNT_ID_REGEX:function(){return a},CAIP_ACCOUNT_ADDRESS_REGEX:function(){return c},CaipChainIdStruct:function(){return u},CaipNamespaceStruct:function(){return l},CaipReferenceStruct:function(){return d},CaipAccountIdStruct:function(){return m},CaipAccountAddressStruct:function(){return f},isCaipChainId:function(){return h},isCaipNamespace:function(){return p},isCaipReference:function(){return g},isCaipAccountId:function(){return b},isCaipAccountAddress:function(){return y},parseCaipChainId:function(){return x},parseCaipAccountId:function(){return v}});const r=e("superstruct"),s=RegExp("^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$","u"),i=/^[-a-z0-9]{3,8}$/u,o=/^[-_a-zA-Z0-9]{1,32}$/u,a=RegExp("^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$","u"),c=/^[-.%a-zA-Z0-9]{1,128}$/u,u=(0,r.pattern)((0,r.string)(),s),l=(0,r.pattern)((0,r.string)(),i),d=(0,r.pattern)((0,r.string)(),o),m=(0,r.pattern)((0,r.string)(),a),f=(0,r.pattern)((0,r.string)(),c);function h(e){return(0,r.is)(e,u)}function p(e){return(0,r.is)(e,l)}function g(e){return(0,r.is)(e,d)}function b(e){return(0,r.is)(e,m)}function y(e){return(0,r.is)(e,f)}function x(e){const t=s.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function v(e){const t=a.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/caip-types.js"}],[1677,{"./base64":1674,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ChecksumStruct",{enumerable:!0,get:function(){return i}});const r=e("superstruct"),s=e("./base64"),i=(0,r.size)((0,s.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/checksum.js"}],[1678,{"./assert":1673,"./bytes":1675,"./hex":1681,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{createNumber:function(){return m},createBigInt:function(){return f},createBytes:function(){return h},createHex:function(){return p}});const r=e("superstruct"),s=e("./assert"),i=e("./bytes"),o=e("./hex"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),o.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([o.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([o.StrictHexStruct]),i.hexToBytes)),d=(0,r.coerce)(o.StrictHexStruct,(0,r.instance)(Uint8Array),i.bytesToHex);function m(e){try{const t=(0,r.create)(e,c);return(0,s.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}}function f(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}}function h(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}function p(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/coercers.js"}],[1679,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function s(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,r(e,t,"get"))}function i(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function o(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,r(e,t,"set"),n),n}Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{FrozenMap:function(){return u},FrozenSet:function(){return m}});var a=new WeakMap;let c=Symbol.iterator;class u{get size(){return s(this,a).size}[c](){return s(this,a)[Symbol.iterator]()}entries(){return s(this,a).entries()}forEach(e,t){return s(this,a).forEach(((n,r,s)=>e.call(t,n,r,this)))}get(e){return s(this,a).get(e)}has(e){return s(this,a).has(e)}keys(){return s(this,a).keys()}values(){return s(this,a).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}constructor(e){i(this,a,{writable:!0,value:void 0}),o(this,a,new Map(e)),Object.freeze(this)}}var l=new WeakMap;let d=Symbol.iterator;class m{get size(){return s(this,l).size}[d](){return s(this,l)[Symbol.iterator]()}entries(){return s(this,l).entries()}forEach(e,t){return s(this,l).forEach(((n,r,s)=>e.call(t,n,r,this)))}has(e){return s(this,l).has(e)}keys(){return s(this,l).keys()}values(){return s(this,l).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}constructor(e){i(this,l,{writable:!0,value:void 0}),o(this,l,new Set(e)),Object.freeze(this)}}Object.freeze(u),Object.freeze(u.prototype),Object.freeze(m),Object.freeze(m.prototype)}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/collections.js"}],[1680,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/encryption-types.js"}],[1681,{"./assert":1673,"./bytes":1675,"@noble/hashes/sha3":2126,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{HexStruct:function(){return a},StrictHexStruct:function(){return c},HexAddressStruct:function(){return u},HexChecksumAddressStruct:function(){return l},isHexString:function(){return d},isStrictHexString:function(){return m},assertIsHexString:function(){return f},assertIsStrictHexString:function(){return h},isValidHexAddress:function(){return p},getChecksumAddress:function(){return g},isValidChecksumAddress:function(){return b},add0x:function(){return y},remove0x:function(){return x}});const r=e("@noble/hashes/sha3"),s=e("superstruct"),i=e("./assert"),o=e("./bytes"),a=(0,s.pattern)((0,s.string)(),/^(?:0x)?[0-9a-f]+$/iu),c=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]+$/iu),u=(0,s.pattern)((0,s.string)(),/^0x[0-9a-f]{40}$/u),l=(0,s.pattern)((0,s.string)(),/^0x[0-9a-fA-F]{40}$/u);function d(e){return(0,s.is)(e,a)}function m(e){return(0,s.is)(e,c)}function f(e){(0,i.assert)(d(e),"Value must be a hexadecimal string.")}function h(e){(0,i.assert)(m(e),'Value must be a hexadecimal string, starting with "0x".')}function p(e){return(0,s.is)(e,u)||b(e)}function g(e){(0,i.assert)((0,s.is)(e,l),"Invalid hex address.");const t=x(e.toLowerCase()),n=x((0,o.bytesToHex)((0,r.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const r=n[t];return(0,i.assert)((0,s.is)(r,(0,s.string)()),"Hash shorter than address."),parseInt(r,16)>7?e.toUpperCase():e})).join("")}`}function b(e){return!!(0,s.is)(e,l)&&g(e)===e}function y(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function x(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/hex.js"}],[1682,{"./assert":1673,"./base64":1674,"./bytes":1675,"./caip-types":1676,"./checksum":1677,"./coercers":1678,"./collections":1679,"./encryption-types":1680,"./hex":1681,"./json":1683,"./keyring":1684,"./logging":1685,"./misc":1686,"./number":1687,"./opaque":1688,"./time":1689,"./transaction-types":1690,"./versions":1691},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){return Object.keys(e).forEach((function(n){"default"===n||Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),e}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./assert"),n),r(e("./base64"),n),r(e("./bytes"),n),r(e("./caip-types"),n),r(e("./checksum"),n),r(e("./coercers"),n),r(e("./collections"),n),r(e("./encryption-types"),n),r(e("./hex"),n),r(e("./json"),n),r(e("./keyring"),n),r(e("./logging"),n),r(e("./misc"),n),r(e("./number"),n),r(e("./opaque"),n),r(e("./time"),n),r(e("./transaction-types"),n),r(e("./versions"),n)}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/index.js"}],[1683,{"./assert":1673,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{UnsafeJsonStruct:function(){return i},JsonStruct:function(){return o},isValidJson:function(){return a},getSafeJson:function(){return c},getJsonSize:function(){return u},jsonrpc2:function(){return l},JsonRpcVersionStruct:function(){return d},JsonRpcIdStruct:function(){return m},JsonRpcErrorStruct:function(){return f},JsonRpcParamsStruct:function(){return h},JsonRpcRequestStruct:function(){return p},JsonRpcNotificationStruct:function(){return g},isJsonRpcNotification:function(){return b},assertIsJsonRpcNotification:function(){return y},isJsonRpcRequest:function(){return x},assertIsJsonRpcRequest:function(){return v},PendingJsonRpcResponseStruct:function(){return k},JsonRpcSuccessStruct:function(){return w},JsonRpcFailureStruct:function(){return S},JsonRpcResponseStruct:function(){return E},isPendingJsonRpcResponse:function(){return C},assertIsPendingJsonRpcResponse:function(){return T},isJsonRpcResponse:function(){return A},assertIsJsonRpcResponse:function(){return _},isJsonRpcSuccess:function(){return P},assertIsJsonRpcSuccess:function(){return I},isJsonRpcFailure:function(){return B},assertIsJsonRpcFailure:function(){return j},isJsonRpcError:function(){return R},assertIsJsonRpcError:function(){return O},getJsonRpcIdValidator:function(){return N}});const r=e("superstruct"),s=e("./assert"),i=(0,r.union)([(0,r.literal)(null),(0,r.boolean)(),(0,r.define)("finite number",(e=>(0,r.is)(e,(0,r.number)())&&Number.isFinite(e))),(0,r.string)(),(0,r.array)((0,r.lazy)((()=>i))),(0,r.record)((0,r.string)(),(0,r.lazy)((()=>i)))]),o=(0,r.coerce)(i,(0,r.any)(),(e=>((0,s.assertStruct)(e,i),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t))))));function a(e){try{return c(e),!0}catch{return!1}}function c(e){return(0,r.create)(e,o)}function u(e){(0,s.assertStruct)(e,o,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength}const l="2.0",d=(0,r.literal)(l),m=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),f=(0,r.object)({code:(0,r.integer)(),message:(0,r.string)(),data:(0,r.optional)(o),stack:(0,r.optional)((0,r.string)())}),h=(0,r.union)([(0,r.record)((0,r.string)(),o),(0,r.array)(o)]),p=(0,r.object)({id:m,jsonrpc:d,method:(0,r.string)(),params:(0,r.optional)(h)}),g=(0,r.object)({jsonrpc:d,method:(0,r.string)(),params:(0,r.optional)(h)});function b(e){return(0,r.is)(e,g)}function y(e,t){(0,s.assertStruct)(e,g,"Invalid JSON-RPC notification",t)}function x(e){return(0,r.is)(e,p)}function v(e,t){(0,s.assertStruct)(e,p,"Invalid JSON-RPC request",t)}const k=(0,r.object)({id:m,jsonrpc:d,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(f)}),w=(0,r.object)({id:m,jsonrpc:d,result:o}),S=(0,r.object)({id:m,jsonrpc:d,error:f}),E=(0,r.union)([w,S]);function C(e){return(0,r.is)(e,k)}function T(e,t){(0,s.assertStruct)(e,k,"Invalid pending JSON-RPC response",t)}function A(e){return(0,r.is)(e,E)}function _(e,t){(0,s.assertStruct)(e,E,"Invalid JSON-RPC response",t)}function P(e){return(0,r.is)(e,w)}function I(e,t){(0,s.assertStruct)(e,w,"Invalid JSON-RPC success response",t)}function B(e){return(0,r.is)(e,S)}function j(e,t){(0,s.assertStruct)(e,S,"Invalid JSON-RPC failure response",t)}function R(e){return(0,r.is)(e,f)}function O(e,t){(0,s.assertStruct)(e,f,"Invalid JSON-RPC error",t)}function N(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/json.js"}],[1684,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/keyring.js"}],[1685,{debug:3132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{createProjectLogger:function(){return i},createModuleLogger:function(){return o}});function r(e){return e&&e.__esModule?e:{default:e}}const s=(0,r(e("debug")).default)("metamask");function i(e){return s.extend(e)}function o(e,t){return e.extend(t)}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/logging.js"}],[1686,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return Array.isArray(e)&&e.length>0}function s(e){return null===e||e===undefined}function i(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{JsonSize:function(){return c},isNonEmptyArray:function(){return r},isNullOrUndefined:function(){return s},isObject:function(){return i},hasProperty:function(){return o},getKnownPropertyNames:function(){return a},ESCAPE_CHARACTERS_REGEXP:function(){return u},isPlainObject:function(){return l},isASCII:function(){return d},calculateStringSize:function(){return m},calculateNumberSize:function(){return f}});const o=(e,t)=>Object.hasOwnProperty.call(e,t);function a(e){return Object.getOwnPropertyNames(e)}var c;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(c||(c={}));const u=/"|\\|\n|\r|\t/gu;function l(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}function d(e){return e.charCodeAt(0)<=127}function m(e){return e.split("").reduce(((e,t)=>d(t)?e+1:e+2),0)+(e.match(u)??[]).length}function f(e){return e.toString().length}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/misc.js"}],[1687,{"./assert":1673,"./hex":1681},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{numberToHex:function(){return i},bigIntToHex:function(){return o},hexToNumber:function(){return a},hexToBigInt:function(){return c}});const r=e("./assert"),s=e("./hex"),i=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,s.add0x)(e.toString(16))),o=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,s.add0x)(e.toString(16))),a=e=>{(0,s.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},c=e=>((0,s.assertIsHexString)(e),BigInt((0,s.add0x)(e)))}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/number.js"}],[1688,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/opaque.js"}],[1689,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{Duration:function(){return r},inMilliseconds:function(){return i},timeSince:function(){return o}}),function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r||(r={}));const s=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function i(e,t){return s(e,"count"),e*t}function o(e){return s(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/time.js"}],[1690,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/transaction-types.js"}],[1691,{"./assert":1673,semver:4561,superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{VersionStruct:function(){return o},VersionRangeStruct:function(){return a},isValidSemVerVersion:function(){return c},isValidSemVerRange:function(){return u},assertIsSemVerVersion:function(){return l},assertIsSemVerRange:function(){return d},gtVersion:function(){return m},gtRange:function(){return f},satisfiesVersionRange:function(){return h}});const r=e("semver"),s=e("superstruct"),i=e("./assert"),o=(0,s.refine)((0,s.string)(),"Version",(e=>null!==(0,r.valid)(e)||`Expected SemVer version, got "${e}"`)),a=(0,s.refine)((0,s.string)(),"Version range",(e=>null!==(0,r.validRange)(e)||`Expected SemVer range, got "${e}"`));function c(e){return(0,s.is)(e,o)}function u(e){return(0,s.is)(e,a)}function l(e){(0,i.assertStruct)(e,o)}function d(e){(0,i.assertStruct)(e,a)}function m(e,t){return(0,r.gt)(e,t)}function f(e,t){return(0,r.gtr)(e,t)}function h(e,t){return(0,r.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/permission-controller>@metamask/utils",file:"node_modules/@metamask/permission-controller/node_modules/@metamask/utils/dist/cjs/versions.js"}],[1692,{"./url-alphabet/index.cjs":1693},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){let{urlAlphabet:r}=e("./url-alphabet/index.cjs"),s=e=>crypto.getRandomValues(new Uint8Array(e)),i=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,s=-~(1.6*r*t/e.length);return(i=t)=>{let o="";for(;;){let t=n(s),a=s;for(;a--;)if(o+=e[t[a]&r]||"",o.length===i)return o}}};t.exports={nanoid:(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""),customAlphabet:(e,t=21)=>i(e,t,s),customRandom:i,urlAlphabet:r,random:s}}}},{package:"@metamask/permission-controller>nanoid",file:"node_modules/@metamask/permission-controller/node_modules/nanoid/index.browser.cjs"}],[1693,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"@metamask/permission-controller>nanoid",file:"node_modules/@metamask/permission-controller/node_modules/nanoid/url-alphabet/index.cjs"}],[1721,{"@metamask/base-controller":1119,"fast-json-stable-stringify":3540,uuid:4695},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PollingControllerV1=n.PollingController=n.getKey=void 0;const a=e("@metamask/base-controller"),c=o(e("fast-json-stable-stringify")),u=e("uuid");function l(e){var t,o,a,c,l,d;return o=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,t=new WeakSet,d=function e(i,o){const c=(0,n.getKey)(i,o);s(this,a,"f")[c]&&(clearTimeout(s(this,a,"f")[c]),delete s(this,a,"f")[c]),s(this,a,"f")[c]=setTimeout((()=>r(this,void 0,void 0,(function*(){try{yield this._executePoll(i,o)}catch(e){console.error(e)}s(this,t,"m",e).call(this,i,o)}))),s(this,l,"f"))},class extends e{constructor(){super(...arguments),t.add(this),o.set(this,new Map),a.set(this,{}),c.set(this,new Map),l.set(this,1e3)}getIntervalLength(){return s(this,l,"f")}setIntervalLength(e){i(this,l,e,"f")}startPollingByNetworkClientId(e,r={}){const i=(0,u.v4)(),a=(0,n.getKey)(e,r),c=s(this,o,"f").get(a);if(c)c.add(i);else{const e=new Set;e.add(i),s(this,o,"f").set(a,e)}return s(this,t,"m",d).call(this,e,r),i}stopAllPolling(){s(this,o,"f").forEach(((e,t)=>{e.forEach((e=>{this.stopPollingByPollingToken(e)}))}))}stopPollingByPollingToken(e){if(!e)throw new Error("pollingToken required");let t=!1;if(s(this,o,"f").forEach(((n,r)=>{var i,u;n.has(e)&&(t=!0,n.delete(e),0===n.size&&(clearTimeout(s(this,a,"f")[r]),delete s(this,a,"f")[r],s(this,o,"f").delete(r),null===(i=s(this,c,"f").get(r))||void 0===i||i.forEach((e=>{e(r)})),null===(u=s(this,c,"f").get(r))||void 0===u||u.clear()))})),!t)throw new Error("pollingToken not found")}onPollingCompleteByNetworkClientId(e,t,r={}){const i=(0,n.getKey)(e,r),o=s(this,c,"f").get(i);if(o===undefined){const e=new Set;e.add(t),s(this,c,"f").set(i,e)}else o.add(t)}}}n.getKey=(e,t)=>`${e}:${(0,c.default)(t)}`,n.PollingController=l(a.BaseControllerV2),n.PollingControllerV1=l(a.BaseController)}}},{package:"@metamask/assets-controllers>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/PollingController.js"}],[1722,{"./PollingController":1721},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PollingControllerV1=n.PollingController=void 0;var r=e("./PollingController");Object.defineProperty(n,"PollingController",{enumerable:!0,get:function(){return r.PollingController}}),Object.defineProperty(n,"PollingControllerV1",{enumerable:!0,get:function(){return r.PollingControllerV1}})}}},{package:"@metamask/assets-controllers>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/index.js"}],[1753,{"./utils":1757,"@metamask/utils":1767,"fast-safe-stringify":3542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.EthereumProviderError=n.JsonRpcError=void 0;const s=e("@metamask/utils"),i=r(e("fast-safe-stringify")),o=e("./utils");class a extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');super(t),this.code=e,n!==undefined&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==undefined&&(e.data=this.data,(0,s.isPlainObject)(this.data)&&(e.data.cause=(0,o.serializeCause)(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,i.default)(this.serialize(),c,2)}}n.JsonRpcError=a;function c(e,t){return"[Circular]"===t?undefined:t}n.EthereumProviderError=class extends a{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}}}},{package:"@metamask/providers>@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/classes.js"}],[1754,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.errorValues=n.errorCodes=void 0,n.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},n.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}}}},{package:"@metamask/providers>@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/error-constants.js"}],[1755,{"./classes":1753,"./error-constants":1754,"./utils":1757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.providerErrors=n.rpcErrors=void 0;const r=e("./classes"),s=e("./error-constants"),i=e("./utils");function o(e,t){const[n,s]=c(t);return new r.JsonRpcError(e,n??(0,i.getMessageFromCode)(e),s)}function a(e,t){const[n,s]=c(t);return new r.EthereumProviderError(e,n??(0,i.getMessageFromCode)(e),s)}function c(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??undefined,n]}}return[]}n.rpcErrors={parse:e=>o(s.errorCodes.rpc.parse,e),invalidRequest:e=>o(s.errorCodes.rpc.invalidRequest,e),invalidParams:e=>o(s.errorCodes.rpc.invalidParams,e),methodNotFound:e=>o(s.errorCodes.rpc.methodNotFound,e),internal:e=>o(s.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return o(t,e)},invalidInput:e=>o(s.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>o(s.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>o(s.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>o(s.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>o(s.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>o(s.errorCodes.rpc.limitExceeded,e)},n.providerErrors={userRejectedRequest:e=>a(s.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(s.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(s.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(s.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(s.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:s}=e;if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return new r.EthereumProviderError(t,n,s)}}}}},{package:"@metamask/providers>@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/errors.js"}],[1756,{"./classes":1753,"./error-constants":1754,"./errors":1755,"./utils":1757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.errorCodes=n.providerErrors=n.rpcErrors=n.getMessageFromCode=n.serializeError=n.serializeCause=n.EthereumProviderError=n.JsonRpcError=void 0;var r=e("./classes");Object.defineProperty(n,"JsonRpcError",{enumerable:!0,get:function(){return r.JsonRpcError}}),Object.defineProperty(n,"EthereumProviderError",{enumerable:!0,get:function(){return r.EthereumProviderError}});var s=e("./utils");Object.defineProperty(n,"serializeCause",{enumerable:!0,get:function(){return s.serializeCause}}),Object.defineProperty(n,"serializeError",{enumerable:!0,get:function(){return s.serializeError}}),Object.defineProperty(n,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}});var i=e("./errors");Object.defineProperty(n,"rpcErrors",{enumerable:!0,get:function(){return i.rpcErrors}}),Object.defineProperty(n,"providerErrors",{enumerable:!0,get:function(){return i.providerErrors}});var o=e("./error-constants");Object.defineProperty(n,"errorCodes",{enumerable:!0,get:function(){return o.errorCodes}})}}},{package:"@metamask/providers>@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/index.js"}],[1757,{"./error-constants":1754,"@metamask/utils":1767},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.serializeCause=n.serializeError=n.isValidCode=n.getMessageFromCode=n.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const r=e("@metamask/utils"),s=e("./error-constants"),i=s.errorCodes.rpc.internal,o={code:i,message:a(i)};function a(e,t="Unspecified error message. This is a bug, please report it."){if(c(e)){const t=e.toString();if((0,r.hasProperty)(s.errorValues,t))return s.errorValues[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return n.JSON_RPC_SERVER_ERROR_MESSAGE}return t}function c(e){return Number.isInteger(e)}function u(e){return Array.isArray(e)?e.map((e=>(0,r.isValidJson)(e)?e:(0,r.isObject)(e)?l(e):null)):(0,r.isObject)(e)?l(e):(0,r.isValidJson)(e)?e:null}function l(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const s=e[n];return(0,r.isValidJson)(s)&&(t[n]=s),t}),{})}n.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",n.getMessageFromCode=a,n.isValidCode=c,n.serializeError=function(e,{fallbackError:t=o,shouldIncludeStack:n=!0}={}){if(!(0,r.isJsonRpcError)(t))throw new Error("Must provide fallback error with integer number code and string message.");const s=function(e,t){if(e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize)return e.serialize();if((0,r.isJsonRpcError)(e))return e;const n=u(e),s={...t,data:{cause:n}};return s}(e,t);return n||delete s.stack,s},n.serializeCause=u}}},{package:"@metamask/providers>@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/utils.js"}],[1758,{superstruct:4634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{AssertionError:function(){return i},assert:function(){return o},assertStruct:function(){return a},assertExhaustive:function(){return c}});const r=e("superstruct");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){var t,n,r;super(e.message),r="ERR_ASSERTION",(n="code")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}}function o(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}}function a(e,t,n="Assertion failed",o=i){try{(0,r.assert)(e,t)}catch(e){throw s(o,`${n}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}}function c(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/providers>@metamask/rpc-errors>@metamask/utils",file:"node_modul